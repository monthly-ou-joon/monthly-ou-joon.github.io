import{a as B}from"./index-BabtBpse.js";import{_ as m}from"./extends-CxLDcSQX.js";import{a as v}from"./jsx-runtime-D2HyDbKh.js";function F(e,n){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},F(e,n)}function x(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,F(e,n)}var j=function(){function e(){this.listeners=[]}var n=e.prototype;return n.subscribe=function(i){var r=this,o=i||function(){};return this.listeners.push(o),this.onSubscribe(),function(){r.listeners=r.listeners.filter(function(u){return u!==o}),r.onUnsubscribe()}},n.hasListeners=function(){return this.listeners.length>0},n.onSubscribe=function(){},n.onUnsubscribe=function(){},e}(),S=typeof window>"u";function ue(){}function se(e,n){return typeof e=="function"?e(n):e}function ae(e){return typeof e=="number"&&e>=0&&e!==1/0}function O(e){return Array.isArray(e)?e:[e]}function fe(e,n){return Math.max(e+(n||0)-Date.now(),0)}function ce(e,n,t){return b(e)?typeof n=="function"?m({},t,{queryKey:e,queryFn:n}):m({},n,{queryKey:e}):e}function le(e,n,t){return b(e)?[m({},n,{queryKey:e}),t]:[e||{},n]}function $(e,n){if(e===!0&&n===!0||e==null&&n==null)return"all";if(e===!1&&n===!1)return"none";var t=e??!n;return t?"active":"inactive"}function he(e,n){var t=e.active,i=e.exact,r=e.fetching,o=e.inactive,u=e.predicate,s=e.queryKey,c=e.stale;if(b(s)){if(i){if(n.queryHash!==H(s,n.options))return!1}else if(!Q(n.queryKey,s))return!1}var f=$(t,o);if(f==="none")return!1;if(f!=="all"){var y=n.isActive();if(f==="active"&&!y||f==="inactive"&&y)return!1}return!(typeof c=="boolean"&&n.isStale()!==c||typeof r=="boolean"&&n.isFetching()!==r||u&&!u(n))}function ve(e,n){var t=e.exact,i=e.fetching,r=e.predicate,o=e.mutationKey;if(b(o)){if(!n.options.mutationKey)return!1;if(t){if(E(n.options.mutationKey)!==E(o))return!1}else if(!Q(n.options.mutationKey,o))return!1}return!(typeof i=="boolean"&&n.state.status==="loading"!==i||r&&!r(n))}function H(e,n){var t=(n==null?void 0:n.queryKeyHashFn)||E;return t(e)}function E(e){var n=O(e);return V(n)}function V(e){return JSON.stringify(e,function(n,t){return g(t)?Object.keys(t).sort().reduce(function(i,r){return i[r]=t[r],i},{}):t})}function Q(e,n){return K(O(e),O(n))}function K(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?!Object.keys(n).some(function(t){return!K(e[t],n[t])}):!1}function J(e,n){if(e===n)return e;var t=Array.isArray(e)&&Array.isArray(n);if(t||g(e)&&g(n)){for(var i=t?e.length:Object.keys(e).length,r=t?n:Object.keys(n),o=r.length,u=t?[]:{},s=0,c=0;c<o;c++){var f=t?c:r[c];u[f]=J(e[f],n[f]),u[f]===e[f]&&s++}return i===o&&s===i?e:u}return n}function de(e,n){if(e&&!n||n&&!e)return!1;for(var t in e)if(e[t]!==n[t])return!1;return!0}function g(e){if(!L(e))return!1;var n=e.constructor;if(typeof n>"u")return!0;var t=n.prototype;return!(!L(t)||!t.hasOwnProperty("isPrototypeOf"))}function L(e){return Object.prototype.toString.call(e)==="[object Object]"}function b(e){return typeof e=="string"||Array.isArray(e)}function G(e){return new Promise(function(n){setTimeout(n,e)})}function P(e){Promise.resolve().then(e).catch(function(n){return setTimeout(function(){throw n})})}function ye(){if(typeof AbortController=="function")return new AbortController}var W=function(e){x(n,e);function n(){var i;return i=e.call(this)||this,i.setup=function(r){var o;if(!S&&((o=window)!=null&&o.addEventListener)){var u=function(){return r()};return window.addEventListener("visibilitychange",u,!1),window.addEventListener("focus",u,!1),function(){window.removeEventListener("visibilitychange",u),window.removeEventListener("focus",u)}}},i}var t=n.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var r;(r=this.cleanup)==null||r.call(this),this.cleanup=void 0}},t.setEventListener=function(r){var o,u=this;this.setup=r,(o=this.cleanup)==null||o.call(this),this.cleanup=r(function(s){typeof s=="boolean"?u.setFocused(s):u.onFocus()})},t.setFocused=function(r){this.focused=r,r&&this.onFocus()},t.onFocus=function(){this.listeners.forEach(function(r){r()})},t.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},n}(j),X=new W,Y=function(e){x(n,e);function n(){var i;return i=e.call(this)||this,i.setup=function(r){var o;if(!S&&((o=window)!=null&&o.addEventListener)){var u=function(){return r()};return window.addEventListener("online",u,!1),window.addEventListener("offline",u,!1),function(){window.removeEventListener("online",u),window.removeEventListener("offline",u)}}},i}var t=n.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var r;(r=this.cleanup)==null||r.call(this),this.cleanup=void 0}},t.setEventListener=function(r){var o,u=this;this.setup=r,(o=this.cleanup)==null||o.call(this),this.cleanup=r(function(s){typeof s=="boolean"?u.setOnline(s):u.onOnline()})},t.setOnline=function(r){this.online=r,r&&this.onOnline()},t.onOnline=function(){this.listeners.forEach(function(r){r()})},t.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},n}(j),Z=new Y;function I(e){return Math.min(1e3*Math.pow(2,e),3e4)}function R(e){return typeof(e==null?void 0:e.cancel)=="function"}var A=function(n){this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent};function pe(e){return e instanceof A}var be=function(n){var t=this,i=!1,r,o,u,s;this.abort=n.abort,this.cancel=function(l){return r==null?void 0:r(l)},this.cancelRetry=function(){i=!0},this.continueRetry=function(){i=!1},this.continue=function(){return o==null?void 0:o()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(l,a){u=l,s=a});var c=function(a){t.isResolved||(t.isResolved=!0,n.onSuccess==null||n.onSuccess(a),o==null||o(),u(a))},f=function(a){t.isResolved||(t.isResolved=!0,n.onError==null||n.onError(a),o==null||o(),s(a))},y=function(){return new Promise(function(a){o=a,t.isPaused=!0,n.onPause==null||n.onPause()}).then(function(){o=void 0,t.isPaused=!1,n.onContinue==null||n.onContinue()})},U=function l(){if(!t.isResolved){var a;try{a=n.fn()}catch(h){a=Promise.reject(h)}r=function(p){if(!t.isResolved&&(f(new A(p)),t.abort==null||t.abort(),R(a)))try{a.cancel()}catch{}},t.isTransportCancelable=R(a),Promise.resolve(a).then(c).catch(function(h){var p,w;if(!t.isResolved){var d=(p=n.retry)!=null?p:3,C=(w=n.retryDelay)!=null?w:I,D=typeof C=="function"?C(t.failureCount,h):C,T=d===!0||typeof d=="number"&&t.failureCount<d||typeof d=="function"&&d(t.failureCount,h);if(i||!T){f(h);return}t.failureCount++,n.onFail==null||n.onFail(t.failureCount,h),G(D).then(function(){if(!X.isFocused()||!Z.isOnline())return y()}).then(function(){i?f(h):l()})}})}};U()},z=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(t){t()},this.batchNotifyFn=function(t){t()}}var n=e.prototype;return n.batch=function(i){var r;this.transactions++;try{r=i()}finally{this.transactions--,this.transactions||this.flush()}return r},n.schedule=function(i){var r=this;this.transactions?this.queue.push(i):P(function(){r.notifyFn(i)})},n.batchCalls=function(i){var r=this;return function(){for(var o=arguments.length,u=new Array(o),s=0;s<o;s++)u[s]=arguments[s];r.schedule(function(){i.apply(void 0,u)})}},n.flush=function(){var i=this,r=this.queue;this.queue=[],r.length&&P(function(){i.batchNotifyFn(function(){r.forEach(function(o){i.notifyFn(o)})})})},n.setNotifyFunction=function(i){this.notifyFn=i},n.setBatchNotifyFunction=function(i){this.batchNotifyFn=i},e}(),k=new z,M=console;function we(){return M}function ee(e){M=e}var ne=B.unstable_batchedUpdates;k.setBatchNotifyFunction(ne);var te=console;ee(te);var _=v.createContext(void 0),q=v.createContext(!1);function N(e){return e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=_),window.ReactQueryClientContext):_}var Ce=function(){var n=v.useContext(N(v.useContext(q)));if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},me=function(n){var t=n.client,i=n.contextSharing,r=i===void 0?!1:i,o=n.children;v.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var u=N(r);return v.createElement(q.Provider,{value:r},v.createElement(u.Provider,{value:t},o))};export{me as Q,be as R,j as S,x as _,pe as a,we as b,k as c,ve as d,O as e,se as f,ye as g,H as h,ae as i,R as j,X as k,ce as l,he as m,ue as n,Z as o,le as p,E as q,J as r,Q as s,fe as t,S as u,de as v,Ce as w};
