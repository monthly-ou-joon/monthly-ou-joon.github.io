import{a as ft,r as le,j as xe}from"./jsx-runtime-D2HyDbKh.js";import{U as Ea,M as _o,R as xo,a as Uo,S as ko,b as ln,F as Eo,C as dr,V as wt,T as qr,L as ur,I as Ao,c as Fo,B as Ro,d as Po,D as un,e as Do,f as Wn,g as Oo,h as Lo,i as Bo,j as cn,P as fn,k as Io,l as Mo,u as st,s as No,m as Go,n as jo,o as dn,p as hn,q as Vo,r as zo,W as Wo,H as Ho,t as Qo,v as Xo,w as Aa,x as qo,y as Jo,z as Yo,A as Ko,E as Zo}from"./ScrollControls-B14HjDDb.js";import{_ as $o,n as ei,u as Hn,i as Qn,t as ti,k as ri,r as Xn,b as qn,v as ni,a as ai,c as Mt,S as oi,w as ii,l as si}from"./QueryClientProvider-mlG6NJqV.js";import{_ as et}from"./extends-CxLDcSQX.js";import"./index-BabtBpse.js";var li=function(a){$o(r,a);function r(l,t){var e;return e=a.call(this)||this,e.client=l,e.options=t,e.trackedProps=[],e.selectError=null,e.bindMethods(),e.setOptions(t),e}var c=r.prototype;return c.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},c.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Jn(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},c.onUnsubscribe=function(){this.listeners.length||this.destroy()},c.shouldFetchOnReconnect=function(){return Jr(this.currentQuery,this.options,this.options.refetchOnReconnect)},c.shouldFetchOnWindowFocus=function(){return Jr(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},c.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},c.setOptions=function(t,e){var n=this.options,o=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(t),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();var i=this.hasListeners();i&&Yn(this.currentQuery,o,this.options,n)&&this.executeFetch(),this.updateResult(e),i&&(this.currentQuery!==o||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.updateStaleTimeout();var s=this.computeRefetchInterval();i&&(this.currentQuery!==o||this.options.enabled!==n.enabled||s!==this.currentRefetchInterval)&&this.updateRefetchInterval(s)},c.getOptimisticResult=function(t){var e=this.client.defaultQueryObserverOptions(t),n=this.client.getQueryCache().build(this.client,e);return this.createResult(n,e)},c.getCurrentResult=function(){return this.currentResult},c.trackResult=function(t,e){var n=this,o={},i=function(u){n.trackedProps.includes(u)||n.trackedProps.push(u)};return Object.keys(t).forEach(function(s){Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:function(){return i(s),t[s]}})}),(e.useErrorBoundary||e.suspense)&&i("error"),o},c.getNextResult=function(t){var e=this;return new Promise(function(n,o){var i=e.subscribe(function(s){s.isFetching||(i(),s.isError&&(t!=null&&t.throwOnError)?o(s.error):n(s))})})},c.getCurrentQuery=function(){return this.currentQuery},c.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},c.refetch=function(t){return this.fetch(et({},t,{meta:{refetchPage:t==null?void 0:t.refetchPage}}))},c.fetchOptimistic=function(t){var e=this,n=this.client.defaultQueryObserverOptions(t),o=this.client.getQueryCache().build(this.client,n);return o.fetch().then(function(){return e.createResult(o,n)})},c.fetch=function(t){var e=this;return this.executeFetch(t).then(function(){return e.updateResult(),e.currentResult})},c.executeFetch=function(t){this.updateQuery();var e=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(ei)),e},c.updateStaleTimeout=function(){var t=this;if(this.clearStaleTimeout(),!(Hn||this.currentResult.isStale||!Qn(this.options.staleTime))){var e=ti(this.currentResult.dataUpdatedAt,this.options.staleTime),n=e+1;this.staleTimeoutId=setTimeout(function(){t.currentResult.isStale||t.updateResult()},n)}},c.computeRefetchInterval=function(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1},c.updateRefetchInterval=function(t){var e=this;this.clearRefetchInterval(),this.currentRefetchInterval=t,!(Hn||this.options.enabled===!1||!Qn(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(e.options.refetchIntervalInBackground||ri.isFocused())&&e.executeFetch()},this.currentRefetchInterval))},c.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},c.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},c.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},c.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},c.createResult=function(t,e){var n=this.currentQuery,o=this.options,i=this.currentResult,s=this.currentResultState,u=this.currentResultOptions,f=t!==n,d=f?t.state:this.currentQueryInitialState,h=f?this.currentResult:this.previousQueryResult,p=t.state,m=p.dataUpdatedAt,v=p.error,E=p.errorUpdatedAt,w=p.isFetching,y=p.status,S=!1,_=!1,A;if(e.optimisticResults){var C=this.hasListeners(),x=!C&&Jn(t,e),G=C&&Yn(t,n,e,o);(x||G)&&(w=!0,m||(y="loading"))}if(e.keepPreviousData&&!p.dataUpdateCount&&(h!=null&&h.isSuccess)&&y!=="error")A=h.data,m=h.dataUpdatedAt,y=h.status,S=!0;else if(e.select&&typeof p.data<"u")if(i&&p.data===(s==null?void 0:s.data)&&e.select===this.selectFn)A=this.selectResult;else try{this.selectFn=e.select,A=e.select(p.data),e.structuralSharing!==!1&&(A=Xn(i==null?void 0:i.data,A)),this.selectResult=A,this.selectError=null}catch(b){qn().error(b),this.selectError=b}else A=p.data;if(typeof e.placeholderData<"u"&&typeof A>"u"&&(y==="loading"||y==="idle")){var D;if(i!=null&&i.isPlaceholderData&&e.placeholderData===(u==null?void 0:u.placeholderData))D=i.data;else if(D=typeof e.placeholderData=="function"?e.placeholderData():e.placeholderData,e.select&&typeof D<"u")try{D=e.select(D),e.structuralSharing!==!1&&(D=Xn(i==null?void 0:i.data,D)),this.selectError=null}catch(b){qn().error(b),this.selectError=b}typeof D<"u"&&(y="success",A=D,_=!0)}this.selectError&&(v=this.selectError,A=this.selectResult,E=Date.now(),y="error");var J={status:y,isLoading:y==="loading",isSuccess:y==="success",isError:y==="error",isIdle:y==="idle",data:A,dataUpdatedAt:m,error:v,errorUpdatedAt:E,failureCount:p.fetchFailureCount,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:w,isRefetching:w&&y!=="loading",isLoadingError:y==="error"&&p.dataUpdatedAt===0,isPlaceholderData:_,isPreviousData:S,isRefetchError:y==="error"&&p.dataUpdatedAt!==0,isStale:pn(t,e),refetch:this.refetch,remove:this.remove};return J},c.shouldNotifyListeners=function(t,e){if(!e)return!0;var n=this.options,o=n.notifyOnChangeProps,i=n.notifyOnChangePropsExclusions;if(!o&&!i||o==="tracked"&&!this.trackedProps.length)return!0;var s=o==="tracked"?this.trackedProps:o;return Object.keys(t).some(function(u){var f=u,d=t[f]!==e[f],h=s==null?void 0:s.some(function(m){return m===u}),p=i==null?void 0:i.some(function(m){return m===u});return d&&!p&&(!s||h)})},c.updateResult=function(t){var e=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!ni(this.currentResult,e)){var n={cache:!0};(t==null?void 0:t.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,e)&&(n.listeners=!0),this.notify(et({},n,t))}},c.updateQuery=function(){var t=this.client.getQueryCache().build(this.client,this.options);if(t!==this.currentQuery){var e=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))}},c.onQueryUpdate=function(t){var e={};t.type==="success"?e.onSuccess=!0:t.type==="error"&&!ai(t.error)&&(e.onError=!0),this.updateResult(e),this.hasListeners()&&this.updateTimers()},c.notify=function(t){var e=this;Mt.batch(function(){t.onSuccess?(e.options.onSuccess==null||e.options.onSuccess(e.currentResult.data),e.options.onSettled==null||e.options.onSettled(e.currentResult.data,null)):t.onError&&(e.options.onError==null||e.options.onError(e.currentResult.error),e.options.onSettled==null||e.options.onSettled(void 0,e.currentResult.error)),t.listeners&&e.listeners.forEach(function(n){n(e.currentResult)}),t.cache&&e.client.getQueryCache().notify({query:e.currentQuery,type:"observerResultsUpdated"})})},r}(oi);function ui(a,r){return r.enabled!==!1&&!a.state.dataUpdatedAt&&!(a.state.status==="error"&&r.retryOnMount===!1)}function Jn(a,r){return ui(a,r)||a.state.dataUpdatedAt>0&&Jr(a,r,r.refetchOnMount)}function Jr(a,r,c){if(r.enabled!==!1){var l=typeof c=="function"?c(a):c;return l==="always"||l!==!1&&pn(a,r)}return!1}function Yn(a,r,c,l){return c.enabled!==!1&&(a!==r||l.enabled===!1)&&(!c.suspense||a.state.status!=="error")&&pn(a,c)}function pn(a,r){return a.isStaleByTime(r.staleTime)}function ci(){var a=!1;return{clearReset:function(){a=!1},reset:function(){a=!0},isReset:function(){return a}}}var fi=ft.createContext(ci()),di=function(){return ft.useContext(fi)};function hi(a,r,c){return typeof r=="function"?r.apply(void 0,c):typeof r=="boolean"?r:!!a}function pi(a,r){var c=ft.useRef(!1),l=ft.useState(0),t=l[1],e=ii(),n=di(),o=e.defaultQueryObserverOptions(a);o.optimisticResults=!0,o.onError&&(o.onError=Mt.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=Mt.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=Mt.batchCalls(o.onSettled)),o.suspense&&(typeof o.staleTime!="number"&&(o.staleTime=1e3),o.cacheTime===0&&(o.cacheTime=1)),(o.suspense||o.useErrorBoundary)&&(n.isReset()||(o.retryOnMount=!1));var i=ft.useState(function(){return new r(e,o)}),s=i[0],u=s.getOptimisticResult(o);if(ft.useEffect(function(){c.current=!0,n.clearReset();var f=s.subscribe(Mt.batchCalls(function(){c.current&&t(function(d){return d+1})}));return s.updateResult(),function(){c.current=!1,f()}},[n,s]),ft.useEffect(function(){s.setOptions(o,{listeners:!1})},[o,s]),o.suspense&&u.isLoading)throw s.fetchOptimistic(o).then(function(f){var d=f.data;o.onSuccess==null||o.onSuccess(d),o.onSettled==null||o.onSettled(d,null)}).catch(function(f){n.clearReset(),o.onError==null||o.onError(f),o.onSettled==null||o.onSettled(void 0,f)});if(u.isError&&!n.isReset()&&!u.isFetching&&hi(o.suspense,o.useErrorBoundary,[u.error,s.getCurrentQuery()]))throw u.error;return o.notifyOnChangeProps==="tracked"&&(u=s.trackResult(u,o)),u}function mi(a,r,c){var l=si(a,r,c);return pi(l,li)}function vi(){var a=Object.create(null);function r(t,e){var n=t.id,o=t.name,i=t.dependencies;i===void 0&&(i=[]);var s=t.init;s===void 0&&(s=function(){});var u=t.getTransferables;if(u===void 0&&(u=null),!a[n])try{i=i.map(function(d){return d&&d.isWorkerModule&&(r(d,function(h){if(h instanceof Error)throw h}),d=a[d.id].value),d}),s=l("<"+o+">.init",s),u&&(u=l("<"+o+">.getTransferables",u));var f=null;typeof s=="function"?f=s.apply(void 0,i):console.error("worker module init function failed to rehydrate"),a[n]={id:n,value:f,getTransferables:u},e(f)}catch(d){d&&d.noLog||console.error(d),e(d)}}function c(t,e){var n,o=t.id,i=t.args;(!a[o]||typeof a[o].value!="function")&&e(new Error("Worker module "+o+": not found or its 'init' did not return a function"));try{var s=(n=a[o]).value.apply(n,i);s&&typeof s.then=="function"?s.then(u,function(f){return e(f instanceof Error?f:new Error(""+f))}):u(s)}catch(f){e(f)}function u(f){try{var d=a[o].getTransferables&&a[o].getTransferables(f);(!d||!Array.isArray(d)||!d.length)&&(d=void 0),e(f,d)}catch(h){console.error(h),e(h)}}}function l(t,e){var n=void 0;self.troikaDefine=function(i){return n=i};var o=URL.createObjectURL(new Blob(["/** "+t.replace(/\*/g,"")+` **/

troikaDefine(
`+e+`
)`],{type:"application/javascript"}));try{importScripts(o)}catch(i){console.error(i)}return URL.revokeObjectURL(o),delete self.troikaDefine,n}self.addEventListener("message",function(t){var e=t.data,n=e.messageId,o=e.action,i=e.data;try{o==="registerModule"&&r(i,function(s){s instanceof Error?postMessage({messageId:n,success:!1,error:s.message}):postMessage({messageId:n,success:!0,result:{isCallable:typeof s=="function"}})}),o==="callModule"&&c(i,function(s,u){s instanceof Error?postMessage({messageId:n,success:!1,error:s.message}):postMessage({messageId:n,success:!0,result:s},u||void 0)})}catch(s){postMessage({messageId:n,success:!1,error:s.stack})}})}function gi(a){var r=function(){for(var c=[],l=arguments.length;l--;)c[l]=arguments[l];return r._getInitResult().then(function(t){if(typeof t=="function")return t.apply(void 0,c);throw new Error("Worker module function was called but `init` did not return a callable function")})};return r._getInitResult=function(){var c=a.dependencies,l=a.init;c=Array.isArray(c)?c.map(function(e){return e&&e._getInitResult?e._getInitResult():e}):[];var t=Promise.all(c).then(function(e){return l.apply(null,e)});return r._getInitResult=function(){return t},t},r}var Fa=function(){var a=!1;if(typeof window<"u"&&typeof window.document<"u")try{var r=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));r.terminate(),a=!0}catch(c){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+c.message+"]")}return Fa=function(){return a},a},yi=0,bi=0,Nr=!1,Nt=Object.create(null),Gt=Object.create(null),Yr=Object.create(null);function Tt(a){if((!a||typeof a.init!="function")&&!Nr)throw new Error("requires `options.init` function");var r=a.dependencies,c=a.init,l=a.getTransferables,t=a.workerId;if(!Fa())return gi(a);t==null&&(t="#default");var e="workerModule"+ ++yi,n=a.name||e,o=null;r=r&&r.map(function(s){return typeof s=="function"&&!s.workerModuleData&&(Nr=!0,s=Tt({workerId:t,name:"<"+n+"> function dependency: "+s.name,init:`function(){return (
`+or(s)+`
)}`}),Nr=!1),s&&s.workerModuleData&&(s=s.workerModuleData),s});function i(){for(var s=[],u=arguments.length;u--;)s[u]=arguments[u];if(!o){o=Kn(t,"registerModule",i.workerModuleData);var f=function(){o=null,Gt[t].delete(f)};(Gt[t]||(Gt[t]=new Set)).add(f)}return o.then(function(d){var h=d.isCallable;if(h)return Kn(t,"callModule",{id:e,args:s});throw new Error("Worker module function was called but `init` did not return a callable function")})}return i.workerModuleData={isWorkerModule:!0,id:e,name:n,dependencies:r,init:or(c),getTransferables:l&&or(l)},i}function Si(a){Gt[a]&&Gt[a].forEach(function(r){r()}),Nt[a]&&(Nt[a].terminate(),delete Nt[a])}function or(a){var r=a.toString();return!/^function/.test(r)&&/^\w+\s*\(/.test(r)&&(r="function "+r),r}function wi(a){var r=Nt[a];if(!r){var c=or(vi);r=Nt[a]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+a.replace(/\*/g,"")+` **/

;(`+c+")()"],{type:"application/javascript"}))),r.onmessage=function(l){var t=l.data,e=t.messageId,n=Yr[e];if(!n)throw new Error("WorkerModule response with empty or unknown messageId");delete Yr[e],n(t)}}return r}function Kn(a,r,c){return new Promise(function(l,t){var e=++bi;Yr[e]=function(n){n.success?l(n.result):t(new Error("Error in worker "+r+" call: "+n.error))},wi(a).postMessage({messageId:e,action:r,data:c})})}function Ra(){var a=function(r){function c(M,B,g,T,F,P,U,j){var L=1-U;j.x=L*L*M+2*L*U*g+U*U*F,j.y=L*L*B+2*L*U*T+U*U*P}function l(M,B,g,T,F,P,U,j,L,N){var X=1-L;N.x=X*X*X*M+3*X*X*L*g+3*X*L*L*F+L*L*L*U,N.y=X*X*X*B+3*X*X*L*T+3*X*L*L*P+L*L*L*j}function t(M,B){for(var g=/([MLQCZ])([^MLQCZ]*)/g,T,F,P,U,j;T=g.exec(M);){var L=T[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(N){return parseFloat(N)});switch(T[1]){case"M":U=F=L[0],j=P=L[1];break;case"L":(L[0]!==U||L[1]!==j)&&B("L",U,j,U=L[0],j=L[1]);break;case"Q":{B("Q",U,j,U=L[2],j=L[3],L[0],L[1]);break}case"C":{B("C",U,j,U=L[4],j=L[5],L[0],L[1],L[2],L[3]);break}case"Z":(U!==F||j!==P)&&B("L",U,j,F,P);break}}}function e(M,B,g){g===void 0&&(g=16);var T={x:0,y:0};t(M,function(F,P,U,j,L,N,X,ee,H){switch(F){case"L":B(P,U,j,L);break;case"Q":{for(var V=P,ye=U,de=1;de<g;de++)c(P,U,N,X,j,L,de/(g-1),T),B(V,ye,T.x,T.y),V=T.x,ye=T.y;break}case"C":{for(var K=P,te=U,ue=1;ue<g;ue++)l(P,U,N,X,ee,H,j,L,ue/(g-1),T),B(K,te,T.x,T.y),K=T.x,te=T.y;break}}})}var n="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",o="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",i=new WeakMap,s={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(M,B){var g=M.getContext?M.getContext("webgl",s):M,T=i.get(g);if(!T){let X=function(K){var te=P[K];if(!te&&(te=P[K]=g.getExtension(K),!te))throw new Error(K+" not supported");return te},ee=function(K,te){var ue=g.createShader(te);return g.shaderSource(ue,K),g.compileShader(ue),ue},H=function(K,te,ue,W){if(!U[K]){var re={},$={},I=g.createProgram();g.attachShader(I,ee(te,g.VERTEX_SHADER)),g.attachShader(I,ee(ue,g.FRAGMENT_SHADER)),g.linkProgram(I),U[K]={program:I,transaction:function(Y){g.useProgram(I),Y({setUniform:function(q,Te){for(var ae=[],ie=arguments.length-2;ie-- >0;)ae[ie]=arguments[ie+2];var fe=$[Te]||($[Te]=g.getUniformLocation(I,Te));g["uniform"+q].apply(g,[fe].concat(ae))},setAttribute:function(q,Te,ae,ie,fe){var ve=re[q];ve||(ve=re[q]={buf:g.createBuffer(),loc:g.getAttribLocation(I,q),data:null}),g.bindBuffer(g.ARRAY_BUFFER,ve.buf),g.vertexAttribPointer(ve.loc,Te,g.FLOAT,!1,0,0),g.enableVertexAttribArray(ve.loc),F?g.vertexAttribDivisor(ve.loc,ie):X("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(ve.loc,ie),fe!==ve.data&&(g.bufferData(g.ARRAY_BUFFER,fe,ae),ve.data=fe)}})}}}U[K].transaction(W)},V=function(K,te){L++;try{g.activeTexture(g.TEXTURE0+L);var ue=j[K];ue||(ue=j[K]=g.createTexture(),g.bindTexture(g.TEXTURE_2D,ue),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.NEAREST),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.NEAREST)),g.bindTexture(g.TEXTURE_2D,ue),te(ue,L)}finally{L--}},ye=function(K,te,ue){var W=g.createFramebuffer();N.push(W),g.bindFramebuffer(g.FRAMEBUFFER,W),g.activeTexture(g.TEXTURE0+te),g.bindTexture(g.TEXTURE_2D,K),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,K,0);try{ue(W)}finally{g.deleteFramebuffer(W),g.bindFramebuffer(g.FRAMEBUFFER,N[--N.length-1]||null)}},de=function(){P={},U={},j={},L=-1,N.length=0};var F=typeof WebGL2RenderingContext<"u"&&g instanceof WebGL2RenderingContext,P={},U={},j={},L=-1,N=[];g.canvas.addEventListener("webglcontextlost",function(K){de(),K.preventDefault()},!1),i.set(g,T={gl:g,isWebGL2:F,getExtension:X,withProgram:H,withTexture:V,withTextureFramebuffer:ye,handleContextLoss:de})}B(T)}function f(M,B,g,T,F,P,U,j){U===void 0&&(U=15),j===void 0&&(j=null),u(M,function(L){var N=L.gl,X=L.withProgram,ee=L.withTexture;ee("copy",function(H,V){N.texImage2D(N.TEXTURE_2D,0,N.RGBA,F,P,0,N.RGBA,N.UNSIGNED_BYTE,B),X("copy",n,o,function(ye){var de=ye.setUniform,K=ye.setAttribute;K("aUV",2,N.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),de("1i","image",V),N.bindFramebuffer(N.FRAMEBUFFER,j||null),N.disable(N.BLEND),N.colorMask(U&8,U&4,U&2,U&1),N.viewport(g,T,F,P),N.scissor(g,T,F,P),N.drawArrays(N.TRIANGLES,0,3)})})})}function d(M,B,g){var T=M.width,F=M.height;u(M,function(P){var U=P.gl,j=new Uint8Array(T*F*4);U.readPixels(0,0,T,F,U.RGBA,U.UNSIGNED_BYTE,j),M.width=B,M.height=g,f(U,j,0,0,T,F)})}var h=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:f,resizeWebGLCanvasWithoutClearing:d});function p(M,B,g,T,F,P){P===void 0&&(P=1);var U=new Uint8Array(M*B),j=T[2]-T[0],L=T[3]-T[1],N=[];e(g,function(K,te,ue,W){N.push({x1:K,y1:te,x2:ue,y2:W,minX:Math.min(K,ue),minY:Math.min(te,W),maxX:Math.max(K,ue),maxY:Math.max(te,W)})}),N.sort(function(K,te){return K.maxX-te.maxX});for(var X=0;X<M;X++)for(var ee=0;ee<B;ee++){var H=ye(T[0]+j*(X+.5)/M,T[1]+L*(ee+.5)/B),V=Math.pow(1-Math.abs(H)/F,P)/2;H<0&&(V=1-V),V=Math.max(0,Math.min(255,Math.round(V*255))),U[ee*M+X]=V}return U;function ye(K,te){for(var ue=1/0,W=1/0,re=N.length;re--;){var $=N[re];if($.maxX+W<=K)break;if(K+W>$.minX&&te-W<$.maxY&&te+W>$.minY){var I=E(K,te,$.x1,$.y1,$.x2,$.y2);I<ue&&(ue=I,W=Math.sqrt(ue))}}return de(K,te)&&(W=-W),W}function de(K,te){for(var ue=0,W=N.length;W--;){var re=N[W];if(re.maxX<=K)break;var $=re.y1>te!=re.y2>te&&K<(re.x2-re.x1)*(te-re.y1)/(re.y2-re.y1)+re.x1;$&&(ue+=re.y1<re.y2?1:-1)}return ue!==0}}function m(M,B,g,T,F,P,U,j,L,N){P===void 0&&(P=1),j===void 0&&(j=0),L===void 0&&(L=0),N===void 0&&(N=0),v(M,B,g,T,F,P,U,null,j,L,N)}function v(M,B,g,T,F,P,U,j,L,N,X){P===void 0&&(P=1),L===void 0&&(L=0),N===void 0&&(N=0),X===void 0&&(X=0);for(var ee=p(M,B,g,T,F,P),H=new Uint8Array(ee.length*4),V=0;V<ee.length;V++)H[V*4+X]=ee[V];f(U,H,L,N,M,B,1<<3-X,j)}function E(M,B,g,T,F,P){var U=F-g,j=P-T,L=U*U+j*j,N=L?Math.max(0,Math.min(1,((M-g)*U+(B-T)*j)/L)):0,X=M-(g+N*U),ee=B-(T+N*j);return X*X+ee*ee}var w=Object.freeze({__proto__:null,generate:p,generateIntoCanvas:m,generateIntoFramebuffer:v}),y="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",S="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",_="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",A=new Float32Array([0,0,2,0,0,2]),C=null,x=!1,G={},D=new WeakMap;function J(M){if(!x&&!Q(M))throw new Error("WebGL generation not supported")}function b(M,B,g,T,F,P,U){if(P===void 0&&(P=1),U===void 0&&(U=null),!U&&(U=C,!U)){var j=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!j)throw new Error("OffscreenCanvas or DOM canvas not supported");U=C=j.getContext("webgl",{depth:!1})}J(U);var L=new Uint8Array(M*B*4);u(U,function(H){var V=H.gl,ye=H.withTexture,de=H.withTextureFramebuffer;ye("readable",function(K,te){V.texImage2D(V.TEXTURE_2D,0,V.RGBA,M,B,0,V.RGBA,V.UNSIGNED_BYTE,null),de(K,te,function(ue){R(M,B,g,T,F,P,V,ue,0,0,0),V.readPixels(0,0,M,B,V.RGBA,V.UNSIGNED_BYTE,L)})})});for(var N=new Uint8Array(M*B),X=0,ee=0;X<L.length;X+=4)N[ee++]=L[X];return N}function O(M,B,g,T,F,P,U,j,L,N){P===void 0&&(P=1),j===void 0&&(j=0),L===void 0&&(L=0),N===void 0&&(N=0),R(M,B,g,T,F,P,U,null,j,L,N)}function R(M,B,g,T,F,P,U,j,L,N,X){P===void 0&&(P=1),L===void 0&&(L=0),N===void 0&&(N=0),X===void 0&&(X=0),J(U);var ee=[];e(g,function(H,V,ye,de){ee.push(H,V,ye,de)}),ee=new Float32Array(ee),u(U,function(H){var V=H.gl,ye=H.isWebGL2,de=H.getExtension,K=H.withProgram,te=H.withTexture,ue=H.withTextureFramebuffer,W=H.handleContextLoss;if(te("rawDistances",function(re,$){(M!==re._lastWidth||B!==re._lastHeight)&&V.texImage2D(V.TEXTURE_2D,0,V.RGBA,re._lastWidth=M,re._lastHeight=B,0,V.RGBA,V.UNSIGNED_BYTE,null),K("main",y,S,function(I){var pe=I.setAttribute,Y=I.setUniform,oe=!ye&&de("ANGLE_instanced_arrays"),q=!ye&&de("EXT_blend_minmax");pe("aUV",2,V.STATIC_DRAW,0,A),pe("aLineSegment",4,V.DYNAMIC_DRAW,1,ee),Y.apply(void 0,["4f","uGlyphBounds"].concat(T)),Y("1f","uMaxDistance",F),Y("1f","uExponent",P),ue(re,$,function(Te){V.enable(V.BLEND),V.colorMask(!0,!0,!0,!0),V.viewport(0,0,M,B),V.scissor(0,0,M,B),V.blendFunc(V.ONE,V.ONE),V.blendEquationSeparate(V.FUNC_ADD,ye?V.MAX:q.MAX_EXT),V.clear(V.COLOR_BUFFER_BIT),ye?V.drawArraysInstanced(V.TRIANGLES,0,3,ee.length/4):oe.drawArraysInstancedANGLE(V.TRIANGLES,0,3,ee.length/4)})}),K("post",n,_,function(I){I.setAttribute("aUV",2,V.STATIC_DRAW,0,A),I.setUniform("1i","tex",$),V.bindFramebuffer(V.FRAMEBUFFER,j),V.disable(V.BLEND),V.colorMask(X===0,X===1,X===2,X===3),V.viewport(L,N,M,B),V.scissor(L,N,M,B),V.drawArrays(V.TRIANGLES,0,3)})}),V.isContextLost())throw W(),new Error("webgl context lost")})}function Q(M){var B=!M||M===C?G:M.canvas||M,g=D.get(B);if(g===void 0){x=!0;var T=null;try{var F=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],P=b(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,M);g=P&&F.length===P.length&&P.every(function(U,j){return U===F[j]}),g||(T="bad trial run results",console.info(F,P))}catch(U){g=!1,T=U.message}T&&console.warn("WebGL SDF generation not supported:",T),x=!1,D.set(B,g)}return g}var z=Object.freeze({__proto__:null,generate:b,generateIntoCanvas:O,generateIntoFramebuffer:R,isSupported:Q});function Z(M,B,g,T,F,P){F===void 0&&(F=Math.max(T[2]-T[0],T[3]-T[1])/2),P===void 0&&(P=1);try{return b.apply(z,arguments)}catch(U){return console.info("WebGL SDF generation failed, falling back to JS",U),p.apply(w,arguments)}}function ne(M,B,g,T,F,P,U,j,L,N){F===void 0&&(F=Math.max(T[2]-T[0],T[3]-T[1])/2),P===void 0&&(P=1),j===void 0&&(j=0),L===void 0&&(L=0),N===void 0&&(N=0);try{return O.apply(z,arguments)}catch(X){return console.info("WebGL SDF generation failed, falling back to JS",X),m.apply(w,arguments)}}return r.forEachPathCommand=t,r.generate=Z,r.generateIntoCanvas=ne,r.javascript=w,r.pathToLineSegments=e,r.webgl=z,r.webglUtils=h,Object.defineProperty(r,"__esModule",{value:!0}),r}({});return a}function Ti(){var a=function(r){var c={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},l={},t={};l.L=1,t[1]="L",Object.keys(c).forEach(function(W,re){l[W]=1<<re+1,t[l[W]]=W}),Object.freeze(l);var e=l.LRI|l.RLI|l.FSI,n=l.L|l.R|l.AL,o=l.B|l.S|l.WS|l.ON|l.FSI|l.LRI|l.RLI|l.PDI,i=l.BN|l.RLE|l.LRE|l.RLO|l.LRO|l.PDF,s=l.S|l.WS|l.B|e|l.PDI|i,u=null;function f(){if(!u){u=new Map;var W=function($){if(c.hasOwnProperty($)){var I=0;c[$].split(",").forEach(function(pe){var Y=pe.split("+"),oe=Y[0],q=Y[1];oe=parseInt(oe,36),q=q?parseInt(q,36):0,u.set(I+=oe,l[$]);for(var Te=0;Te<q;Te++)u.set(++I,l[$])})}};for(var re in c)W(re)}}function d(W){return f(),u.get(W.codePointAt(0))||l.L}function h(W){return t[d(W)]}var p={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function m(W,re){var $=36,I=0,pe=new Map,Y=re&&new Map,oe;return W.split(",").forEach(function q(Te){if(Te.indexOf("+")!==-1)for(var ae=+Te;ae--;)q(oe);else{oe=Te;var ie=Te.split(">"),fe=ie[0],ve=ie[1];fe=String.fromCodePoint(I+=parseInt(fe,$)),ve=String.fromCodePoint(I+=parseInt(ve,$)),pe.set(fe,ve),re&&Y.set(ve,fe)}}),{map:pe,reverseMap:Y}}var v,E,w;function y(){if(!v){var W=m(p.pairs,!0),re=W.map,$=W.reverseMap;v=re,E=$,w=m(p.canonical,!1).map}}function S(W){return y(),v.get(W)||null}function _(W){return y(),E.get(W)||null}function A(W){return y(),w.get(W)||null}var C=l.L,x=l.R,G=l.EN,D=l.ES,J=l.ET,b=l.AN,O=l.CS,R=l.B,Q=l.S,z=l.ON,Z=l.BN,ne=l.NSM,M=l.AL,B=l.LRO,g=l.RLO,T=l.LRE,F=l.RLE,P=l.PDF,U=l.LRI,j=l.RLI,L=l.FSI,N=l.PDI;function X(W,re){for(var $=125,I=new Uint32Array(W.length),pe=0;pe<W.length;pe++)I[pe]=d(W[pe]);var Y=new Map;function oe(je,qe){var Ve=I[je];I[je]=qe,Y.set(Ve,Y.get(Ve)-1),Ve&o&&Y.set(o,Y.get(o)-1),Y.set(qe,(Y.get(qe)||0)+1),qe&o&&Y.set(o,(Y.get(o)||0)+1)}for(var q=new Uint8Array(W.length),Te=new Map,ae=[],ie=null,fe=0;fe<W.length;fe++)ie||ae.push(ie={start:fe,end:W.length-1,level:re==="rtl"?1:re==="ltr"?0:Vn(fe,!1)}),I[fe]&R&&(ie.end=fe,ie=null);for(var ve=F|T|g|B|e|N|P|R,Ue=function(je){return je+(je&1?1:2)},Re=function(je){return je+(je&1?2:1)},be=0;be<ae.length;be++){ie=ae[be];var Se=[{_level:ie.level,_override:0,_isolate:0}],ce=void 0,Pe=0,Ee=0,Ge=0;Y.clear();for(var ke=ie.start;ke<=ie.end;ke++){var he=I[ke];if(ce=Se[Se.length-1],Y.set(he,(Y.get(he)||0)+1),he&o&&Y.set(o,(Y.get(o)||0)+1),he&ve)if(he&(F|T)){q[ke]=ce._level;var Ce=(he===F?Re:Ue)(ce._level);Ce<=$&&!Pe&&!Ee?Se.push({_level:Ce,_override:0,_isolate:0}):Pe||Ee++}else if(he&(g|B)){q[ke]=ce._level;var tt=(he===g?Re:Ue)(ce._level);tt<=$&&!Pe&&!Ee?Se.push({_level:tt,_override:he&g?x:C,_isolate:0}):Pe||Ee++}else if(he&e){he&L&&(he=Vn(ke+1,!0)===1?j:U),q[ke]=ce._level,ce._override&&oe(ke,ce._override);var _e=(he===j?Re:Ue)(ce._level);_e<=$&&Pe===0&&Ee===0?(Ge++,Se.push({_level:_e,_override:0,_isolate:1,_isolInitIndex:ke})):Pe++}else if(he&N){if(Pe>0)Pe--;else if(Ge>0){for(Ee=0;!Se[Se.length-1]._isolate;)Se.pop();var we=Se[Se.length-1]._isolInitIndex;we!=null&&(Te.set(we,ke),Te.set(ke,we)),Se.pop(),Ge--}ce=Se[Se.length-1],q[ke]=ce._level,ce._override&&oe(ke,ce._override)}else he&P?(Pe===0&&(Ee>0?Ee--:!ce._isolate&&Se.length>1&&(Se.pop(),ce=Se[Se.length-1])),q[ke]=ce._level):he&R&&(q[ke]=ie.level);else q[ke]=ce._level,ce._override&&he!==Z&&oe(ke,ce._override)}for(var De=[],Ae=null,ge=ie.start;ge<=ie.end;ge++){var Fe=I[ge];if(!(Fe&i)){var Me=q[ge],Ie=Fe&e,Le=Fe===N;Ae&&Me===Ae._level?(Ae._end=ge,Ae._endsWithIsolInit=Ie):De.push(Ae={_start:ge,_end:ge,_level:Me,_startsWithPDI:Le,_endsWithIsolInit:Ie})}}for(var Qe=[],rt=0;rt<De.length;rt++){var Ze=De[rt];if(!Ze._startsWithPDI||Ze._startsWithPDI&&!Te.has(Ze._start)){for(var nt=[Ae=Ze],lt=void 0;Ae&&Ae._endsWithIsolInit&&(lt=Te.get(Ae._end))!=null;)for(var $e=rt+1;$e<De.length;$e++)if(De[$e]._start===lt){nt.push(Ae=De[$e]);break}for(var Ne=[],ut=0;ut<nt.length;ut++)for(var Tn=nt[ut],br=Tn._start;br<=Tn._end;br++)Ne.push(br);for(var yo=q[Ne[0]],Cn=ie.level,Wt=Ne[0]-1;Wt>=0;Wt--)if(!(I[Wt]&i)){Cn=q[Wt];break}var Sr=Ne[Ne.length-1],bo=q[Sr],_n=ie.level;if(!(I[Sr]&e)){for(var Ht=Sr+1;Ht<=ie.end;Ht++)if(!(I[Ht]&i)){_n=q[Ht];break}}Qe.push({_seqIndices:Ne,_sosType:Math.max(Cn,yo)%2?x:C,_eosType:Math.max(_n,bo)%2?x:C})}}for(var wr=0;wr<Qe.length;wr++){var Tr=Qe[wr],se=Tr._seqIndices,xt=Tr._sosType,So=Tr._eosType,mt=q[se[0]]&1?x:C;if(Y.get(ne))for(var Qt=0;Qt<se.length;Qt++){var xn=se[Qt];if(I[xn]&ne){for(var Cr=xt,Xt=Qt-1;Xt>=0;Xt--)if(!(I[se[Xt]]&i)){Cr=I[se[Xt]];break}oe(xn,Cr&(e|N)?z:Cr)}}if(Y.get(G))for(var qt=0;qt<se.length;qt++){var Un=se[qt];if(I[Un]&G)for(var Jt=qt-1;Jt>=-1;Jt--){var kn=Jt===-1?xt:I[se[Jt]];if(kn&n){kn===M&&oe(Un,b);break}}}if(Y.get(M))for(var _r=0;_r<se.length;_r++){var En=se[_r];I[En]&M&&oe(En,x)}if(Y.get(D)||Y.get(O))for(var Ut=1;Ut<se.length-1;Ut++){var xr=se[Ut];if(I[xr]&(D|O)){for(var vt=0,Ur=0,kr=Ut-1;kr>=0&&(vt=I[se[kr]],!!(vt&i));kr--);for(var Er=Ut+1;Er<se.length&&(Ur=I[se[Er]],!!(Ur&i));Er++);vt===Ur&&(I[xr]===D?vt===G:vt&(G|b))&&oe(xr,vt)}}if(Y.get(G))for(var Ke=0;Ke<se.length;Ke++){var wo=se[Ke];if(I[wo]&G){for(var Yt=Ke-1;Yt>=0&&I[se[Yt]]&(J|i);Yt--)oe(se[Yt],G);for(Ke++;Ke<se.length&&I[se[Ke]]&(J|i|G);Ke++)I[se[Ke]]!==G&&oe(se[Ke],G)}}if(Y.get(J)||Y.get(D)||Y.get(O))for(var kt=0;kt<se.length;kt++){var An=se[kt];if(I[An]&(J|D|O)){oe(An,z);for(var Kt=kt-1;Kt>=0&&I[se[Kt]]&i;Kt--)oe(se[Kt],z);for(var Zt=kt+1;Zt<se.length&&I[se[Zt]]&i;Zt++)oe(se[Zt],z)}}if(Y.get(G))for(var Ar=0,Fn=xt;Ar<se.length;Ar++){var Rn=se[Ar],Fr=I[Rn];Fr&G?Fn===C&&oe(Rn,C):Fr&n&&(Fn=Fr)}if(Y.get(o)){var Et=x|G|b,Pn=Et|C,$t=[];{for(var gt=[],yt=0;yt<se.length;yt++)if(I[se[yt]]&o){var At=W[se[yt]],Dn=void 0;if(S(At)!==null)if(gt.length<63)gt.push({char:At,seqIndex:yt});else break;else if((Dn=_(At))!==null)for(var Ft=gt.length-1;Ft>=0;Ft--){var Rr=gt[Ft].char;if(Rr===Dn||Rr===_(A(At))||S(A(Rr))===At){$t.push([gt[Ft].seqIndex,yt]),gt.length=Ft;break}}}$t.sort(function(je,qe){return je[0]-qe[0]})}for(var Pr=0;Pr<$t.length;Pr++){for(var On=$t[Pr],er=On[0],Dr=On[1],Ln=!1,Xe=0,Or=er+1;Or<Dr;Or++){var Bn=se[Or];if(I[Bn]&Pn){Ln=!0;var In=I[Bn]&Et?x:C;if(In===mt){Xe=In;break}}}if(Ln&&!Xe){Xe=xt;for(var Lr=er-1;Lr>=0;Lr--){var Mn=se[Lr];if(I[Mn]&Pn){var Nn=I[Mn]&Et?x:C;Nn!==mt?Xe=Nn:Xe=mt;break}}}if(Xe){if(I[se[er]]=I[se[Dr]]=Xe,Xe!==mt){for(var Rt=er+1;Rt<se.length;Rt++)if(!(I[se[Rt]]&i)){d(W[se[Rt]])&ne&&(I[se[Rt]]=Xe);break}}if(Xe!==mt){for(var Pt=Dr+1;Pt<se.length;Pt++)if(!(I[se[Pt]]&i)){d(W[se[Pt]])&ne&&(I[se[Pt]]=Xe);break}}}}for(var at=0;at<se.length;at++)if(I[se[at]]&o){for(var Gn=at,Br=at,Ir=xt,Dt=at-1;Dt>=0;Dt--)if(I[se[Dt]]&i)Gn=Dt;else{Ir=I[se[Dt]]&Et?x:C;break}for(var jn=So,Ot=at+1;Ot<se.length;Ot++)if(I[se[Ot]]&(o|i))Br=Ot;else{jn=I[se[Ot]]&Et?x:C;break}for(var Mr=Gn;Mr<=Br;Mr++)I[se[Mr]]=Ir===jn?Ir:mt;at=Br}}}for(var We=ie.start;We<=ie.end;We++){var To=q[We],tr=I[We];if(To&1?tr&(C|G|b)&&q[We]++:tr&x?q[We]++:tr&(b|G)&&(q[We]+=2),tr&i&&(q[We]=We===0?ie.level:q[We-1]),We===ie.end||d(W[We])&(Q|R))for(var rr=We;rr>=0&&d(W[rr])&s;rr--)q[rr]=ie.level}}return{levels:q,paragraphs:ae};function Vn(je,qe){for(var Ve=je;Ve<W.length;Ve++){var ot=I[Ve];if(ot&(x|M))return 1;if(ot&(R|C)||qe&&ot===N)return 0;if(ot&e){var zn=Co(Ve);Ve=zn===-1?W.length:zn}}return 0}function Co(je){for(var qe=1,Ve=je+1;Ve<W.length;Ve++){var ot=I[Ve];if(ot&R)break;if(ot&N){if(--qe===0)return Ve}else ot&e&&qe++}return-1}}var ee="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",H;function V(){if(!H){var W=m(ee,!0),re=W.map,$=W.reverseMap;$.forEach(function(I,pe){re.set(pe,I)}),H=re}}function ye(W){return V(),H.get(W)||null}function de(W,re,$,I){var pe=W.length;$=Math.max(0,$==null?0:+$),I=Math.min(pe-1,I==null?pe-1:+I);for(var Y=new Map,oe=$;oe<=I;oe++)if(re[oe]&1){var q=ye(W[oe]);q!==null&&Y.set(oe,q)}return Y}function K(W,re,$,I){var pe=W.length;$=Math.max(0,$==null?0:+$),I=Math.min(pe-1,I==null?pe-1:+I);var Y=[];return re.paragraphs.forEach(function(oe){var q=Math.max($,oe.start),Te=Math.min(I,oe.end);if(q<Te){for(var ae=re.levels.slice(q,Te+1),ie=Te;ie>=q&&d(W[ie])&s;ie--)ae[ie]=oe.level;for(var fe=oe.level,ve=1/0,Ue=0;Ue<ae.length;Ue++){var Re=ae[Ue];Re>fe&&(fe=Re),Re<ve&&(ve=Re|1)}for(var be=fe;be>=ve;be--)for(var Se=0;Se<ae.length;Se++)if(ae[Se]>=be){for(var ce=Se;Se+1<ae.length&&ae[Se+1]>=be;)Se++;Se>ce&&Y.push([ce+q,Se+q])}}}),Y}function te(W,re,$,I){var pe=ue(W,re,$,I),Y=[].concat(W);return pe.forEach(function(oe,q){Y[q]=(re.levels[oe]&1?ye(W[oe]):null)||W[oe]}),Y.join("")}function ue(W,re,$,I){for(var pe=K(W,re,$,I),Y=[],oe=0;oe<W.length;oe++)Y[oe]=oe;return pe.forEach(function(q){for(var Te=q[0],ae=q[1],ie=Y.slice(Te,ae+1),fe=ie.length;fe--;)Y[ae-fe]=ie[fe]}),Y}return r.closingToOpeningBracket=_,r.getBidiCharType=d,r.getBidiCharTypeName=h,r.getCanonicalBracket=A,r.getEmbeddingLevels=X,r.getMirroredCharacter=ye,r.getMirroredCharactersMap=de,r.getReorderSegments=K,r.getReorderedIndices=ue,r.getReorderedString=te,r.openingToClosingBracket=S,Object.defineProperty(r,"__esModule",{value:!0}),r}({});return a}const Pa=/\bvoid\s+main\s*\(\s*\)\s*{/g;function Kr(a){const r=/^[ \t]*#include +<([\w\d./]+)>/gm;function c(l,t){let e=ko[t];return e?Kr(e):l}return a.replace(r,c)}const Be=[];for(let a=0;a<256;a++)Be[a]=(a<16?"0":"")+a.toString(16);function Ci(){const a=Math.random()*4294967295|0,r=Math.random()*4294967295|0,c=Math.random()*4294967295|0,l=Math.random()*4294967295|0;return(Be[a&255]+Be[a>>8&255]+Be[a>>16&255]+Be[a>>24&255]+"-"+Be[r&255]+Be[r>>8&255]+"-"+Be[r>>16&15|64]+Be[r>>24&255]+"-"+Be[c&63|128]+Be[c>>8&255]+"-"+Be[c>>16&255]+Be[c>>24&255]+Be[l&255]+Be[l>>8&255]+Be[l>>16&255]+Be[l>>24&255]).toUpperCase()}const ct=Object.assign||function(){let a=arguments[0];for(let r=1,c=arguments.length;r<c;r++){let l=arguments[r];if(l)for(let t in l)Object.prototype.hasOwnProperty.call(l,t)&&(a[t]=l[t])}return a},_i=Date.now(),Zn=new WeakMap,$n=new Map;let xi=1e10;function Zr(a,r){const c=Ai(r);let l=Zn.get(a);if(l||Zn.set(a,l=Object.create(null)),l[c])return new l[c];const t=`_onBeforeCompile${c}`,e=function(s,u){a.onBeforeCompile.call(this,s,u);const f=this.customProgramCacheKey()+"|"+s.vertexShader+"|"+s.fragmentShader;let d=$n[f];if(!d){const h=Ui(this,s,r,c);d=$n[f]=h}s.vertexShader=d.vertexShader,s.fragmentShader=d.fragmentShader,ct(s.uniforms,this.uniforms),r.timeUniform&&(s.uniforms[r.timeUniform]={get value(){return Date.now()-_i}}),this[t]&&this[t](s)},n=function(){return o(r.chained?a:a.clone())},o=function(s){const u=Object.create(s,i);return Object.defineProperty(u,"baseMaterial",{value:a}),Object.defineProperty(u,"id",{value:xi++}),u.uuid=Ci(),u.uniforms=ct({},s.uniforms,r.uniforms),u.defines=ct({},s.defines,r.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${c}`]="",u.extensions=ct({},s.extensions,r.extensions),u._listeners=void 0,u},i={constructor:{value:n},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return a.customProgramCacheKey()+"|"+c}},onBeforeCompile:{get(){return e},set(s){this[t]=s}},copy:{writable:!0,configurable:!0,value:function(s){return a.copy.call(this,s),!a.isShaderMaterial&&!a.isDerivedMaterial&&(ct(this.extensions,s.extensions),ct(this.defines,s.defines),ct(this.uniforms,Ea.clone(s.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const s=new a.constructor;return o(s).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let s=this._depthMaterial;return s||(s=this._depthMaterial=Zr(a.isDerivedMaterial?a.getDepthMaterial():new _o({depthPacking:xo}),r),s.defines.IS_DEPTH_MATERIAL="",s.uniforms=this.uniforms),s}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let s=this._distanceMaterial;return s||(s=this._distanceMaterial=Zr(a.isDerivedMaterial?a.getDistanceMaterial():new Uo,r),s.defines.IS_DISTANCE_MATERIAL="",s.uniforms=this.uniforms),s}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:s,_distanceMaterial:u}=this;s&&s.dispose(),u&&u.dispose(),a.dispose.call(this)}}};return l[c]=n,new n}function Ui(a,{vertexShader:r,fragmentShader:c},l,t){let{vertexDefs:e,vertexMainIntro:n,vertexMainOutro:o,vertexTransform:i,fragmentDefs:s,fragmentMainIntro:u,fragmentMainOutro:f,fragmentColorTransform:d,customRewriter:h,timeUniform:p}=l;if(e=e||"",n=n||"",o=o||"",s=s||"",u=u||"",f=f||"",(i||h)&&(r=Kr(r)),(d||h)&&(c=c.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),c=Kr(c)),h){let m=h({vertexShader:r,fragmentShader:c});r=m.vertexShader,c=m.fragmentShader}if(d){let m=[];c=c.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,v=>(m.push(v),"")),f=`${d}
${m.join(`
`)}
${f}`}if(p){const m=`
uniform float ${p};
`;e=m+e,s=m+s}return i&&(r=`vec3 troika_position_${t};
vec3 troika_normal_${t};
vec2 troika_uv_${t};
${r}
`,e=`${e}
void troikaVertexTransform${t}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${i}
}
`,n=`
troika_position_${t} = vec3(position);
troika_normal_${t} = vec3(normal);
troika_uv_${t} = vec2(uv);
troikaVertexTransform${t}(troika_position_${t}, troika_normal_${t}, troika_uv_${t});
${n}
`,r=r.replace(/\b(position|normal|uv)\b/g,(m,v,E,w)=>/\battribute\s+vec[23]\s+$/.test(w.substr(0,E))?v:`troika_${v}_${t}`),a.map&&a.map.channel>0||(r=r.replace(/\bMAP_UV\b/g,`troika_uv_${t}`))),r=ea(r,t,e,n,o),c=ea(c,t,s,u,f),{vertexShader:r,fragmentShader:c}}function ea(a,r,c,l,t){return(l||t||c)&&(a=a.replace(Pa,`
${c}
void troikaOrigMain${r}() {`),a+=`
void main() {
  ${l}
  troikaOrigMain${r}();
  ${t}
}`),a}function ki(a,r){return a==="uniforms"?void 0:typeof r=="function"?r.toString():r}let Ei=0;const ta=new Map;function Ai(a){const r=JSON.stringify(a,ki);let c=ta.get(r);return c==null&&ta.set(r,c=++Ei),c}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function Fi(){return typeof window>"u"&&(self.window=self),function(a){var r={parse:function(t){var e=r._bin,n=new Uint8Array(t);if(e.readASCII(n,0,4)=="ttcf"){var o=4;e.readUshort(n,o),o+=2,e.readUshort(n,o),o+=2;var i=e.readUint(n,o);o+=4;for(var s=[],u=0;u<i;u++){var f=e.readUint(n,o);o+=4,s.push(r._readFont(n,f))}return s}return[r._readFont(n,0)]},_readFont:function(t,e){var n=r._bin,o=e;n.readFixed(t,e),e+=4;var i=n.readUshort(t,e);e+=2,n.readUshort(t,e),e+=2,n.readUshort(t,e),e+=2,n.readUshort(t,e),e+=2;for(var s=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],u={_data:t,_offset:o},f={},d=0;d<i;d++){var h=n.readASCII(t,e,4);e+=4,n.readUint(t,e),e+=4;var p=n.readUint(t,e);e+=4;var m=n.readUint(t,e);e+=4,f[h]={offset:p,length:m}}for(d=0;d<s.length;d++){var v=s[d];f[v]&&(u[v.trim()]=r[v.trim()].parse(t,f[v].offset,f[v].length,u))}return u},_tabOffset:function(t,e,n){for(var o=r._bin,i=o.readUshort(t,n+4),s=n+12,u=0;u<i;u++){var f=o.readASCII(t,s,4);s+=4,o.readUint(t,s),s+=4;var d=o.readUint(t,s);if(s+=4,o.readUint(t,s),s+=4,f==e)return d}return 0}};r._bin={readFixed:function(t,e){return(t[e]<<8|t[e+1])+(t[e+2]<<8|t[e+3])/65540},readF2dot14:function(t,e){return r._bin.readShort(t,e)/16384},readInt:function(t,e){return r._bin._view(t).getInt32(e)},readInt8:function(t,e){return r._bin._view(t).getInt8(e)},readShort:function(t,e){return r._bin._view(t).getInt16(e)},readUshort:function(t,e){return r._bin._view(t).getUint16(e)},readUshorts:function(t,e,n){for(var o=[],i=0;i<n;i++)o.push(r._bin.readUshort(t,e+2*i));return o},readUint:function(t,e){return r._bin._view(t).getUint32(e)},readUint64:function(t,e){return 4294967296*r._bin.readUint(t,e)+r._bin.readUint(t,e+4)},readASCII:function(t,e,n){for(var o="",i=0;i<n;i++)o+=String.fromCharCode(t[e+i]);return o},readUnicode:function(t,e,n){for(var o="",i=0;i<n;i++){var s=t[e++]<<8|t[e++];o+=String.fromCharCode(s)}return o},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(t,e,n){var o=r._bin._tdec;return o&&e==0&&n==t.length?o.decode(t):r._bin.readASCII(t,e,n)},readBytes:function(t,e,n){for(var o=[],i=0;i<n;i++)o.push(t[e+i]);return o},readASCIIArray:function(t,e,n){for(var o=[],i=0;i<n;i++)o.push(String.fromCharCode(t[e+i]));return o},_view:function(t){return t._dataView||(t._dataView=t.buffer?new DataView(t.buffer,t.byteOffset,t.byteLength):new DataView(new Uint8Array(t).buffer))}},r._lctf={},r._lctf.parse=function(t,e,n,o,i){var s=r._bin,u={},f=e;s.readFixed(t,e),e+=4;var d=s.readUshort(t,e);e+=2;var h=s.readUshort(t,e);e+=2;var p=s.readUshort(t,e);return e+=2,u.scriptList=r._lctf.readScriptList(t,f+d),u.featureList=r._lctf.readFeatureList(t,f+h),u.lookupList=r._lctf.readLookupList(t,f+p,i),u},r._lctf.readLookupList=function(t,e,n){var o=r._bin,i=e,s=[],u=o.readUshort(t,e);e+=2;for(var f=0;f<u;f++){var d=o.readUshort(t,e);e+=2;var h=r._lctf.readLookupTable(t,i+d,n);s.push(h)}return s},r._lctf.readLookupTable=function(t,e,n){var o=r._bin,i=e,s={tabs:[]};s.ltype=o.readUshort(t,e),e+=2,s.flag=o.readUshort(t,e),e+=2;var u=o.readUshort(t,e);e+=2;for(var f=s.ltype,d=0;d<u;d++){var h=o.readUshort(t,e);e+=2;var p=n(t,f,i+h,s);s.tabs.push(p)}return s},r._lctf.numOfOnes=function(t){for(var e=0,n=0;n<32;n++)t>>>n&1&&e++;return e},r._lctf.readClassDef=function(t,e){var n=r._bin,o=[],i=n.readUshort(t,e);if(e+=2,i==1){var s=n.readUshort(t,e);e+=2;var u=n.readUshort(t,e);e+=2;for(var f=0;f<u;f++)o.push(s+f),o.push(s+f),o.push(n.readUshort(t,e)),e+=2}if(i==2){var d=n.readUshort(t,e);for(e+=2,f=0;f<d;f++)o.push(n.readUshort(t,e)),e+=2,o.push(n.readUshort(t,e)),e+=2,o.push(n.readUshort(t,e)),e+=2}return o},r._lctf.getInterval=function(t,e){for(var n=0;n<t.length;n+=3){var o=t[n],i=t[n+1];if(t[n+2],o<=e&&e<=i)return n}return-1},r._lctf.readCoverage=function(t,e){var n=r._bin,o={};o.fmt=n.readUshort(t,e),e+=2;var i=n.readUshort(t,e);return e+=2,o.fmt==1&&(o.tab=n.readUshorts(t,e,i)),o.fmt==2&&(o.tab=n.readUshorts(t,e,3*i)),o},r._lctf.coverageIndex=function(t,e){var n=t.tab;if(t.fmt==1)return n.indexOf(e);if(t.fmt==2){var o=r._lctf.getInterval(n,e);if(o!=-1)return n[o+2]+(e-n[o])}return-1},r._lctf.readFeatureList=function(t,e){var n=r._bin,o=e,i=[],s=n.readUshort(t,e);e+=2;for(var u=0;u<s;u++){var f=n.readASCII(t,e,4);e+=4;var d=n.readUshort(t,e);e+=2;var h=r._lctf.readFeatureTable(t,o+d);h.tag=f.trim(),i.push(h)}return i},r._lctf.readFeatureTable=function(t,e){var n=r._bin,o=e,i={},s=n.readUshort(t,e);e+=2,s>0&&(i.featureParams=o+s);var u=n.readUshort(t,e);e+=2,i.tab=[];for(var f=0;f<u;f++)i.tab.push(n.readUshort(t,e+2*f));return i},r._lctf.readScriptList=function(t,e){var n=r._bin,o=e,i={},s=n.readUshort(t,e);e+=2;for(var u=0;u<s;u++){var f=n.readASCII(t,e,4);e+=4;var d=n.readUshort(t,e);e+=2,i[f.trim()]=r._lctf.readScriptTable(t,o+d)}return i},r._lctf.readScriptTable=function(t,e){var n=r._bin,o=e,i={},s=n.readUshort(t,e);e+=2,s>0&&(i.default=r._lctf.readLangSysTable(t,o+s));var u=n.readUshort(t,e);e+=2;for(var f=0;f<u;f++){var d=n.readASCII(t,e,4);e+=4;var h=n.readUshort(t,e);e+=2,i[d.trim()]=r._lctf.readLangSysTable(t,o+h)}return i},r._lctf.readLangSysTable=function(t,e){var n=r._bin,o={};n.readUshort(t,e),e+=2,o.reqFeature=n.readUshort(t,e),e+=2;var i=n.readUshort(t,e);return e+=2,o.features=n.readUshorts(t,e,i),o},r.CFF={},r.CFF.parse=function(t,e,n){var o=r._bin;(t=new Uint8Array(t.buffer,e,n))[e=0],t[++e],t[++e],t[++e],e++;var i=[];e=r.CFF.readIndex(t,e,i);for(var s=[],u=0;u<i.length-1;u++)s.push(o.readASCII(t,e+i[u],i[u+1]-i[u]));e+=i[i.length-1];var f=[];e=r.CFF.readIndex(t,e,f);var d=[];for(u=0;u<f.length-1;u++)d.push(r.CFF.readDict(t,e+f[u],e+f[u+1]));e+=f[f.length-1];var h=d[0],p=[];e=r.CFF.readIndex(t,e,p);var m=[];for(u=0;u<p.length-1;u++)m.push(o.readASCII(t,e+p[u],p[u+1]-p[u]));if(e+=p[p.length-1],r.CFF.readSubrs(t,e,h),h.CharStrings){e=h.CharStrings,p=[],e=r.CFF.readIndex(t,e,p);var v=[];for(u=0;u<p.length-1;u++)v.push(o.readBytes(t,e+p[u],p[u+1]-p[u]));h.CharStrings=v}if(h.ROS){e=h.FDArray;var E=[];for(e=r.CFF.readIndex(t,e,E),h.FDArray=[],u=0;u<E.length-1;u++){var w=r.CFF.readDict(t,e+E[u],e+E[u+1]);r.CFF._readFDict(t,w,m),h.FDArray.push(w)}e+=E[E.length-1],e=h.FDSelect,h.FDSelect=[];var y=t[e];if(e++,y!=3)throw y;var S=o.readUshort(t,e);for(e+=2,u=0;u<S+1;u++)h.FDSelect.push(o.readUshort(t,e),t[e+2]),e+=3}return h.Encoding&&(h.Encoding=r.CFF.readEncoding(t,h.Encoding,h.CharStrings.length)),h.charset&&(h.charset=r.CFF.readCharset(t,h.charset,h.CharStrings.length)),r.CFF._readFDict(t,h,m),h},r.CFF._readFDict=function(t,e,n){var o;for(var i in e.Private&&(o=e.Private[1],e.Private=r.CFF.readDict(t,o,o+e.Private[0]),e.Private.Subrs&&r.CFF.readSubrs(t,o+e.Private.Subrs,e.Private)),e)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(i)!=-1&&(e[i]=n[e[i]-426+35])},r.CFF.readSubrs=function(t,e,n){var o=r._bin,i=[];e=r.CFF.readIndex(t,e,i);var s,u=i.length;s=u<1240?107:u<33900?1131:32768,n.Bias=s,n.Subrs=[];for(var f=0;f<i.length-1;f++)n.Subrs.push(o.readBytes(t,e+i[f],i[f+1]-i[f]))},r.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],r.CFF.glyphByUnicode=function(t,e){for(var n=0;n<t.charset.length;n++)if(t.charset[n]==e)return n;return-1},r.CFF.glyphBySE=function(t,e){return e<0||e>255?-1:r.CFF.glyphByUnicode(t,r.CFF.tableSE[e])},r.CFF.readEncoding=function(t,e,n){r._bin;var o=[".notdef"],i=t[e];if(e++,i!=0)throw"error: unknown encoding format: "+i;var s=t[e];e++;for(var u=0;u<s;u++)o.push(t[e+u]);return o},r.CFF.readCharset=function(t,e,n){var o=r._bin,i=[".notdef"],s=t[e];if(e++,s==0)for(var u=0;u<n;u++){var f=o.readUshort(t,e);e+=2,i.push(f)}else{if(s!=1&&s!=2)throw"error: format: "+s;for(;i.length<n;){f=o.readUshort(t,e),e+=2;var d=0;for(s==1?(d=t[e],e++):(d=o.readUshort(t,e),e+=2),u=0;u<=d;u++)i.push(f),f++}}return i},r.CFF.readIndex=function(t,e,n){var o=r._bin,i=o.readUshort(t,e)+1,s=t[e+=2];if(e++,s==1)for(var u=0;u<i;u++)n.push(t[e+u]);else if(s==2)for(u=0;u<i;u++)n.push(o.readUshort(t,e+2*u));else if(s==3)for(u=0;u<i;u++)n.push(16777215&o.readUint(t,e+3*u-1));else if(i!=1)throw"unsupported offset size: "+s+", count: "+i;return(e+=i*s)-1},r.CFF.getCharString=function(t,e,n){var o=r._bin,i=t[e],s=t[e+1];t[e+2],t[e+3],t[e+4];var u=1,f=null,d=null;i<=20&&(f=i,u=1),i==12&&(f=100*i+s,u=2),21<=i&&i<=27&&(f=i,u=1),i==28&&(d=o.readShort(t,e+1),u=3),29<=i&&i<=31&&(f=i,u=1),32<=i&&i<=246&&(d=i-139,u=1),247<=i&&i<=250&&(d=256*(i-247)+s+108,u=2),251<=i&&i<=254&&(d=256*-(i-251)-s-108,u=2),i==255&&(d=o.readInt(t,e+1)/65535,u=5),n.val=d??"o"+f,n.size=u},r.CFF.readCharString=function(t,e,n){for(var o=e+n,i=r._bin,s=[];e<o;){var u=t[e],f=t[e+1];t[e+2],t[e+3],t[e+4];var d=1,h=null,p=null;u<=20&&(h=u,d=1),u==12&&(h=100*u+f,d=2),u!=19&&u!=20||(h=u,d=2),21<=u&&u<=27&&(h=u,d=1),u==28&&(p=i.readShort(t,e+1),d=3),29<=u&&u<=31&&(h=u,d=1),32<=u&&u<=246&&(p=u-139,d=1),247<=u&&u<=250&&(p=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(p=256*-(u-251)-f-108,d=2),u==255&&(p=i.readInt(t,e+1)/65535,d=5),s.push(p??"o"+h),e+=d}return s},r.CFF.readDict=function(t,e,n){for(var o=r._bin,i={},s=[];e<n;){var u=t[e],f=t[e+1];t[e+2],t[e+3],t[e+4];var d=1,h=null,p=null;if(u==28&&(p=o.readShort(t,e+1),d=3),u==29&&(p=o.readInt(t,e+1),d=5),32<=u&&u<=246&&(p=u-139,d=1),247<=u&&u<=250&&(p=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(p=256*-(u-251)-f-108,d=2),u==255)throw p=o.readInt(t,e+1)/65535,d=5,"unknown number";if(u==30){var m=[];for(d=1;;){var v=t[e+d];d++;var E=v>>4,w=15&v;if(E!=15&&m.push(E),w!=15&&m.push(w),w==15)break}for(var y="",S=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],_=0;_<m.length;_++)y+=S[m[_]];p=parseFloat(y)}u<=21&&(h=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],d=1,u==12&&(h=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],d=2)),h!=null?(i[h]=s.length==1?s[0]:s,s=[]):s.push(p),e+=d}return i},r.cmap={},r.cmap.parse=function(t,e,n){t=new Uint8Array(t.buffer,e,n),e=0;var o=r._bin,i={};o.readUshort(t,e),e+=2;var s=o.readUshort(t,e);e+=2;var u=[];i.tables=[];for(var f=0;f<s;f++){var d=o.readUshort(t,e);e+=2;var h=o.readUshort(t,e);e+=2;var p=o.readUint(t,e);e+=4;var m="p"+d+"e"+h,v=u.indexOf(p);if(v==-1){var E;v=i.tables.length,u.push(p);var w=o.readUshort(t,p);w==0?E=r.cmap.parse0(t,p):w==4?E=r.cmap.parse4(t,p):w==6?E=r.cmap.parse6(t,p):w==12?E=r.cmap.parse12(t,p):console.debug("unknown format: "+w,d,h,p),i.tables.push(E)}if(i[m]!=null)throw"multiple tables for one platform+encoding";i[m]=v}return i},r.cmap.parse0=function(t,e){var n=r._bin,o={};o.format=n.readUshort(t,e),e+=2;var i=n.readUshort(t,e);e+=2,n.readUshort(t,e),e+=2,o.map=[];for(var s=0;s<i-6;s++)o.map.push(t[e+s]);return o},r.cmap.parse4=function(t,e){var n=r._bin,o=e,i={};i.format=n.readUshort(t,e),e+=2;var s=n.readUshort(t,e);e+=2,n.readUshort(t,e),e+=2;var u=n.readUshort(t,e);e+=2;var f=u/2;i.searchRange=n.readUshort(t,e),e+=2,i.entrySelector=n.readUshort(t,e),e+=2,i.rangeShift=n.readUshort(t,e),e+=2,i.endCount=n.readUshorts(t,e,f),e+=2*f,e+=2,i.startCount=n.readUshorts(t,e,f),e+=2*f,i.idDelta=[];for(var d=0;d<f;d++)i.idDelta.push(n.readShort(t,e)),e+=2;for(i.idRangeOffset=n.readUshorts(t,e,f),e+=2*f,i.glyphIdArray=[];e<o+s;)i.glyphIdArray.push(n.readUshort(t,e)),e+=2;return i},r.cmap.parse6=function(t,e){var n=r._bin,o={};o.format=n.readUshort(t,e),e+=2,n.readUshort(t,e),e+=2,n.readUshort(t,e),e+=2,o.firstCode=n.readUshort(t,e),e+=2;var i=n.readUshort(t,e);e+=2,o.glyphIdArray=[];for(var s=0;s<i;s++)o.glyphIdArray.push(n.readUshort(t,e)),e+=2;return o},r.cmap.parse12=function(t,e){var n=r._bin,o={};o.format=n.readUshort(t,e),e+=2,e+=2,n.readUint(t,e),e+=4,n.readUint(t,e),e+=4;var i=n.readUint(t,e);e+=4,o.groups=[];for(var s=0;s<i;s++){var u=e+12*s,f=n.readUint(t,u+0),d=n.readUint(t,u+4),h=n.readUint(t,u+8);o.groups.push([f,d,h])}return o},r.glyf={},r.glyf.parse=function(t,e,n,o){for(var i=[],s=0;s<o.maxp.numGlyphs;s++)i.push(null);return i},r.glyf._parseGlyf=function(t,e){var n=r._bin,o=t._data,i=r._tabOffset(o,"glyf",t._offset)+t.loca[e];if(t.loca[e]==t.loca[e+1])return null;var s={};if(s.noc=n.readShort(o,i),i+=2,s.xMin=n.readShort(o,i),i+=2,s.yMin=n.readShort(o,i),i+=2,s.xMax=n.readShort(o,i),i+=2,s.yMax=n.readShort(o,i),i+=2,s.xMin>=s.xMax||s.yMin>=s.yMax)return null;if(s.noc>0){s.endPts=[];for(var u=0;u<s.noc;u++)s.endPts.push(n.readUshort(o,i)),i+=2;var f=n.readUshort(o,i);if(i+=2,o.length-i<f)return null;s.instructions=n.readBytes(o,i,f),i+=f;var d=s.endPts[s.noc-1]+1;for(s.flags=[],u=0;u<d;u++){var h=o[i];if(i++,s.flags.push(h),(8&h)!=0){var p=o[i];i++;for(var m=0;m<p;m++)s.flags.push(h),u++}}for(s.xs=[],u=0;u<d;u++){var v=(2&s.flags[u])!=0,E=(16&s.flags[u])!=0;v?(s.xs.push(E?o[i]:-o[i]),i++):E?s.xs.push(0):(s.xs.push(n.readShort(o,i)),i+=2)}for(s.ys=[],u=0;u<d;u++)v=(4&s.flags[u])!=0,E=(32&s.flags[u])!=0,v?(s.ys.push(E?o[i]:-o[i]),i++):E?s.ys.push(0):(s.ys.push(n.readShort(o,i)),i+=2);var w=0,y=0;for(u=0;u<d;u++)w+=s.xs[u],y+=s.ys[u],s.xs[u]=w,s.ys[u]=y}else{var S;s.parts=[];do{S=n.readUshort(o,i),i+=2;var _={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(s.parts.push(_),_.glyphIndex=n.readUshort(o,i),i+=2,1&S){var A=n.readShort(o,i);i+=2;var C=n.readShort(o,i);i+=2}else A=n.readInt8(o,i),i++,C=n.readInt8(o,i),i++;2&S?(_.m.tx=A,_.m.ty=C):(_.p1=A,_.p2=C),8&S?(_.m.a=_.m.d=n.readF2dot14(o,i),i+=2):64&S?(_.m.a=n.readF2dot14(o,i),i+=2,_.m.d=n.readF2dot14(o,i),i+=2):128&S&&(_.m.a=n.readF2dot14(o,i),i+=2,_.m.b=n.readF2dot14(o,i),i+=2,_.m.c=n.readF2dot14(o,i),i+=2,_.m.d=n.readF2dot14(o,i),i+=2)}while(32&S);if(256&S){var x=n.readUshort(o,i);for(i+=2,s.instr=[],u=0;u<x;u++)s.instr.push(o[i]),i++}}return s},r.GDEF={},r.GDEF.parse=function(t,e,n,o){var i=e;e+=4;var s=r._bin.readUshort(t,e);return{glyphClassDef:s===0?null:r._lctf.readClassDef(t,i+s)}},r.GPOS={},r.GPOS.parse=function(t,e,n,o){return r._lctf.parse(t,e,n,o,r.GPOS.subt)},r.GPOS.subt=function(t,e,n,o){var i=r._bin,s=n,u={};if(u.fmt=i.readUshort(t,n),n+=2,e==1||e==2||e==3||e==7||e==8&&u.fmt<=2){var f=i.readUshort(t,n);n+=2,u.coverage=r._lctf.readCoverage(t,f+s)}if(e==1&&u.fmt==1){var d=i.readUshort(t,n);n+=2,d!=0&&(u.pos=r.GPOS.readValueRecord(t,n,d))}else if(e==2&&u.fmt>=1&&u.fmt<=2){d=i.readUshort(t,n),n+=2;var h=i.readUshort(t,n);n+=2;var p=r._lctf.numOfOnes(d),m=r._lctf.numOfOnes(h);if(u.fmt==1){u.pairsets=[];var v=i.readUshort(t,n);n+=2;for(var E=0;E<v;E++){var w=s+i.readUshort(t,n);n+=2;var y=i.readUshort(t,w);w+=2;for(var S=[],_=0;_<y;_++){var A=i.readUshort(t,w);w+=2,d!=0&&(b=r.GPOS.readValueRecord(t,w,d),w+=2*p),h!=0&&(O=r.GPOS.readValueRecord(t,w,h),w+=2*m),S.push({gid2:A,val1:b,val2:O})}u.pairsets.push(S)}}if(u.fmt==2){var C=i.readUshort(t,n);n+=2;var x=i.readUshort(t,n);n+=2;var G=i.readUshort(t,n);n+=2;var D=i.readUshort(t,n);for(n+=2,u.classDef1=r._lctf.readClassDef(t,s+C),u.classDef2=r._lctf.readClassDef(t,s+x),u.matrix=[],E=0;E<G;E++){var J=[];for(_=0;_<D;_++){var b=null,O=null;d!=0&&(b=r.GPOS.readValueRecord(t,n,d),n+=2*p),h!=0&&(O=r.GPOS.readValueRecord(t,n,h),n+=2*m),J.push({val1:b,val2:O})}u.matrix.push(J)}}}else if(e==4&&u.fmt==1)u.markCoverage=r._lctf.readCoverage(t,i.readUshort(t,n)+s),u.baseCoverage=r._lctf.readCoverage(t,i.readUshort(t,n+2)+s),u.markClassCount=i.readUshort(t,n+4),u.markArray=r.GPOS.readMarkArray(t,i.readUshort(t,n+6)+s),u.baseArray=r.GPOS.readBaseArray(t,i.readUshort(t,n+8)+s,u.markClassCount);else if(e==6&&u.fmt==1)u.mark1Coverage=r._lctf.readCoverage(t,i.readUshort(t,n)+s),u.mark2Coverage=r._lctf.readCoverage(t,i.readUshort(t,n+2)+s),u.markClassCount=i.readUshort(t,n+4),u.mark1Array=r.GPOS.readMarkArray(t,i.readUshort(t,n+6)+s),u.mark2Array=r.GPOS.readBaseArray(t,i.readUshort(t,n+8)+s,u.markClassCount);else{if(e==9&&u.fmt==1){var R=i.readUshort(t,n);n+=2;var Q=i.readUint(t,n);if(n+=4,o.ltype==9)o.ltype=R;else if(o.ltype!=R)throw"invalid extension substitution";return r.GPOS.subt(t,o.ltype,s+Q)}console.debug("unsupported GPOS table LookupType",e,"format",u.fmt)}return u},r.GPOS.readValueRecord=function(t,e,n){var o=r._bin,i=[];return i.push(1&n?o.readShort(t,e):0),e+=1&n?2:0,i.push(2&n?o.readShort(t,e):0),e+=2&n?2:0,i.push(4&n?o.readShort(t,e):0),e+=4&n?2:0,i.push(8&n?o.readShort(t,e):0),e+=8&n?2:0,i},r.GPOS.readBaseArray=function(t,e,n){var o=r._bin,i=[],s=e,u=o.readUshort(t,e);e+=2;for(var f=0;f<u;f++){for(var d=[],h=0;h<n;h++)d.push(r.GPOS.readAnchorRecord(t,s+o.readUshort(t,e))),e+=2;i.push(d)}return i},r.GPOS.readMarkArray=function(t,e){var n=r._bin,o=[],i=e,s=n.readUshort(t,e);e+=2;for(var u=0;u<s;u++){var f=r.GPOS.readAnchorRecord(t,n.readUshort(t,e+2)+i);f.markClass=n.readUshort(t,e),o.push(f),e+=4}return o},r.GPOS.readAnchorRecord=function(t,e){var n=r._bin,o={};return o.fmt=n.readUshort(t,e),o.x=n.readShort(t,e+2),o.y=n.readShort(t,e+4),o},r.GSUB={},r.GSUB.parse=function(t,e,n,o){return r._lctf.parse(t,e,n,o,r.GSUB.subt)},r.GSUB.subt=function(t,e,n,o){var i=r._bin,s=n,u={};if(u.fmt=i.readUshort(t,n),n+=2,e!=1&&e!=2&&e!=4&&e!=5&&e!=6)return null;if(e==1||e==2||e==4||e==5&&u.fmt<=2||e==6&&u.fmt<=2){var f=i.readUshort(t,n);n+=2,u.coverage=r._lctf.readCoverage(t,s+f)}if(e==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=i.readShort(t,n),n+=2;else if(u.fmt==2){var d=i.readUshort(t,n);n+=2,u.newg=i.readUshorts(t,n,d),n+=2*u.newg.length}}else if(e==2&&u.fmt==1){d=i.readUshort(t,n),n+=2,u.seqs=[];for(var h=0;h<d;h++){var p=i.readUshort(t,n)+s;n+=2;var m=i.readUshort(t,p);u.seqs.push(i.readUshorts(t,p+2,m))}}else if(e==4)for(u.vals=[],d=i.readUshort(t,n),n+=2,h=0;h<d;h++){var v=i.readUshort(t,n);n+=2,u.vals.push(r.GSUB.readLigatureSet(t,s+v))}else if(e==5&&u.fmt==2){if(u.fmt==2){var E=i.readUshort(t,n);n+=2,u.cDef=r._lctf.readClassDef(t,s+E),u.scset=[];var w=i.readUshort(t,n);for(n+=2,h=0;h<w;h++){var y=i.readUshort(t,n);n+=2,u.scset.push(y==0?null:r.GSUB.readSubClassSet(t,s+y))}}}else if(e==6&&u.fmt==3){if(u.fmt==3){for(h=0;h<3;h++){d=i.readUshort(t,n),n+=2;for(var S=[],_=0;_<d;_++)S.push(r._lctf.readCoverage(t,s+i.readUshort(t,n+2*_)));n+=2*d,h==0&&(u.backCvg=S),h==1&&(u.inptCvg=S),h==2&&(u.ahedCvg=S)}d=i.readUshort(t,n),n+=2,u.lookupRec=r.GSUB.readSubstLookupRecords(t,n,d)}}else{if(e==7&&u.fmt==1){var A=i.readUshort(t,n);n+=2;var C=i.readUint(t,n);if(n+=4,o.ltype==9)o.ltype=A;else if(o.ltype!=A)throw"invalid extension substitution";return r.GSUB.subt(t,o.ltype,s+C)}console.debug("unsupported GSUB table LookupType",e,"format",u.fmt)}return u},r.GSUB.readSubClassSet=function(t,e){var n=r._bin.readUshort,o=e,i=[],s=n(t,e);e+=2;for(var u=0;u<s;u++){var f=n(t,e);e+=2,i.push(r.GSUB.readSubClassRule(t,o+f))}return i},r.GSUB.readSubClassRule=function(t,e){var n=r._bin.readUshort,o={},i=n(t,e),s=n(t,e+=2);e+=2,o.input=[];for(var u=0;u<i-1;u++)o.input.push(n(t,e)),e+=2;return o.substLookupRecords=r.GSUB.readSubstLookupRecords(t,e,s),o},r.GSUB.readSubstLookupRecords=function(t,e,n){for(var o=r._bin.readUshort,i=[],s=0;s<n;s++)i.push(o(t,e),o(t,e+2)),e+=4;return i},r.GSUB.readChainSubClassSet=function(t,e){var n=r._bin,o=e,i=[],s=n.readUshort(t,e);e+=2;for(var u=0;u<s;u++){var f=n.readUshort(t,e);e+=2,i.push(r.GSUB.readChainSubClassRule(t,o+f))}return i},r.GSUB.readChainSubClassRule=function(t,e){for(var n=r._bin,o={},i=["backtrack","input","lookahead"],s=0;s<i.length;s++){var u=n.readUshort(t,e);e+=2,s==1&&u--,o[i[s]]=n.readUshorts(t,e,u),e+=2*o[i[s]].length}return u=n.readUshort(t,e),e+=2,o.subst=n.readUshorts(t,e,2*u),e+=2*o.subst.length,o},r.GSUB.readLigatureSet=function(t,e){var n=r._bin,o=e,i=[],s=n.readUshort(t,e);e+=2;for(var u=0;u<s;u++){var f=n.readUshort(t,e);e+=2,i.push(r.GSUB.readLigature(t,o+f))}return i},r.GSUB.readLigature=function(t,e){var n=r._bin,o={chain:[]};o.nglyph=n.readUshort(t,e),e+=2;var i=n.readUshort(t,e);e+=2;for(var s=0;s<i-1;s++)o.chain.push(n.readUshort(t,e)),e+=2;return o},r.head={},r.head.parse=function(t,e,n){var o=r._bin,i={};return o.readFixed(t,e),e+=4,i.fontRevision=o.readFixed(t,e),e+=4,o.readUint(t,e),e+=4,o.readUint(t,e),e+=4,i.flags=o.readUshort(t,e),e+=2,i.unitsPerEm=o.readUshort(t,e),e+=2,i.created=o.readUint64(t,e),e+=8,i.modified=o.readUint64(t,e),e+=8,i.xMin=o.readShort(t,e),e+=2,i.yMin=o.readShort(t,e),e+=2,i.xMax=o.readShort(t,e),e+=2,i.yMax=o.readShort(t,e),e+=2,i.macStyle=o.readUshort(t,e),e+=2,i.lowestRecPPEM=o.readUshort(t,e),e+=2,i.fontDirectionHint=o.readShort(t,e),e+=2,i.indexToLocFormat=o.readShort(t,e),e+=2,i.glyphDataFormat=o.readShort(t,e),e+=2,i},r.hhea={},r.hhea.parse=function(t,e,n){var o=r._bin,i={};return o.readFixed(t,e),e+=4,i.ascender=o.readShort(t,e),e+=2,i.descender=o.readShort(t,e),e+=2,i.lineGap=o.readShort(t,e),e+=2,i.advanceWidthMax=o.readUshort(t,e),e+=2,i.minLeftSideBearing=o.readShort(t,e),e+=2,i.minRightSideBearing=o.readShort(t,e),e+=2,i.xMaxExtent=o.readShort(t,e),e+=2,i.caretSlopeRise=o.readShort(t,e),e+=2,i.caretSlopeRun=o.readShort(t,e),e+=2,i.caretOffset=o.readShort(t,e),e+=2,e+=8,i.metricDataFormat=o.readShort(t,e),e+=2,i.numberOfHMetrics=o.readUshort(t,e),e+=2,i},r.hmtx={},r.hmtx.parse=function(t,e,n,o){for(var i=r._bin,s={aWidth:[],lsBearing:[]},u=0,f=0,d=0;d<o.maxp.numGlyphs;d++)d<o.hhea.numberOfHMetrics&&(u=i.readUshort(t,e),e+=2,f=i.readShort(t,e),e+=2),s.aWidth.push(u),s.lsBearing.push(f);return s},r.kern={},r.kern.parse=function(t,e,n,o){var i=r._bin,s=i.readUshort(t,e);if(e+=2,s==1)return r.kern.parseV1(t,e-2,n,o);var u=i.readUshort(t,e);e+=2;for(var f={glyph1:[],rval:[]},d=0;d<u;d++){e+=2,n=i.readUshort(t,e),e+=2;var h=i.readUshort(t,e);e+=2;var p=h>>>8;if((p&=15)!=0)throw"unknown kern table format: "+p;e=r.kern.readFormat0(t,e,f)}return f},r.kern.parseV1=function(t,e,n,o){var i=r._bin;i.readFixed(t,e),e+=4;var s=i.readUint(t,e);e+=4;for(var u={glyph1:[],rval:[]},f=0;f<s;f++){i.readUint(t,e),e+=4;var d=i.readUshort(t,e);e+=2,i.readUshort(t,e),e+=2;var h=d>>>8;if((h&=15)!=0)throw"unknown kern table format: "+h;e=r.kern.readFormat0(t,e,u)}return u},r.kern.readFormat0=function(t,e,n){var o=r._bin,i=-1,s=o.readUshort(t,e);e+=2,o.readUshort(t,e),e+=2,o.readUshort(t,e),e+=2,o.readUshort(t,e),e+=2;for(var u=0;u<s;u++){var f=o.readUshort(t,e);e+=2;var d=o.readUshort(t,e);e+=2;var h=o.readShort(t,e);e+=2,f!=i&&(n.glyph1.push(f),n.rval.push({glyph2:[],vals:[]}));var p=n.rval[n.rval.length-1];p.glyph2.push(d),p.vals.push(h),i=f}return e},r.loca={},r.loca.parse=function(t,e,n,o){var i=r._bin,s=[],u=o.head.indexToLocFormat,f=o.maxp.numGlyphs+1;if(u==0)for(var d=0;d<f;d++)s.push(i.readUshort(t,e+(d<<1))<<1);if(u==1)for(d=0;d<f;d++)s.push(i.readUint(t,e+(d<<2)));return s},r.maxp={},r.maxp.parse=function(t,e,n){var o=r._bin,i={},s=o.readUint(t,e);return e+=4,i.numGlyphs=o.readUshort(t,e),e+=2,s==65536&&(i.maxPoints=o.readUshort(t,e),e+=2,i.maxContours=o.readUshort(t,e),e+=2,i.maxCompositePoints=o.readUshort(t,e),e+=2,i.maxCompositeContours=o.readUshort(t,e),e+=2,i.maxZones=o.readUshort(t,e),e+=2,i.maxTwilightPoints=o.readUshort(t,e),e+=2,i.maxStorage=o.readUshort(t,e),e+=2,i.maxFunctionDefs=o.readUshort(t,e),e+=2,i.maxInstructionDefs=o.readUshort(t,e),e+=2,i.maxStackElements=o.readUshort(t,e),e+=2,i.maxSizeOfInstructions=o.readUshort(t,e),e+=2,i.maxComponentElements=o.readUshort(t,e),e+=2,i.maxComponentDepth=o.readUshort(t,e),e+=2),i},r.name={},r.name.parse=function(t,e,n){var o=r._bin,i={};o.readUshort(t,e),e+=2;var s=o.readUshort(t,e);e+=2,o.readUshort(t,e);for(var u,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],d=e+=2,h=0;h<s;h++){var p=o.readUshort(t,e);e+=2;var m=o.readUshort(t,e);e+=2;var v=o.readUshort(t,e);e+=2;var E=o.readUshort(t,e);e+=2;var w=o.readUshort(t,e);e+=2;var y=o.readUshort(t,e);e+=2;var S,_=f[E],A=d+12*s+y;if(p==0)S=o.readUnicode(t,A,w/2);else if(p==3&&m==0)S=o.readUnicode(t,A,w/2);else if(m==0)S=o.readASCII(t,A,w);else if(m==1)S=o.readUnicode(t,A,w/2);else if(m==3)S=o.readUnicode(t,A,w/2);else{if(p!=1)throw"unknown encoding "+m+", platformID: "+p;S=o.readASCII(t,A,w),console.debug("reading unknown MAC encoding "+m+" as ASCII")}var C="p"+p+","+v.toString(16);i[C]==null&&(i[C]={}),i[C][_!==void 0?_:E]=S,i[C]._lang=v}for(var x in i)if(i[x].postScriptName!=null&&i[x]._lang==1033)return i[x];for(var x in i)if(i[x].postScriptName!=null&&i[x]._lang==0)return i[x];for(var x in i)if(i[x].postScriptName!=null&&i[x]._lang==3084)return i[x];for(var x in i)if(i[x].postScriptName!=null)return i[x];for(var x in i){u=x;break}return console.debug("returning name table with languageID "+i[u]._lang),i[u]},r["OS/2"]={},r["OS/2"].parse=function(t,e,n){var o=r._bin.readUshort(t,e);e+=2;var i={};if(o==0)r["OS/2"].version0(t,e,i);else if(o==1)r["OS/2"].version1(t,e,i);else if(o==2||o==3||o==4)r["OS/2"].version2(t,e,i);else{if(o!=5)throw"unknown OS/2 table version: "+o;r["OS/2"].version5(t,e,i)}return i},r["OS/2"].version0=function(t,e,n){var o=r._bin;return n.xAvgCharWidth=o.readShort(t,e),e+=2,n.usWeightClass=o.readUshort(t,e),e+=2,n.usWidthClass=o.readUshort(t,e),e+=2,n.fsType=o.readUshort(t,e),e+=2,n.ySubscriptXSize=o.readShort(t,e),e+=2,n.ySubscriptYSize=o.readShort(t,e),e+=2,n.ySubscriptXOffset=o.readShort(t,e),e+=2,n.ySubscriptYOffset=o.readShort(t,e),e+=2,n.ySuperscriptXSize=o.readShort(t,e),e+=2,n.ySuperscriptYSize=o.readShort(t,e),e+=2,n.ySuperscriptXOffset=o.readShort(t,e),e+=2,n.ySuperscriptYOffset=o.readShort(t,e),e+=2,n.yStrikeoutSize=o.readShort(t,e),e+=2,n.yStrikeoutPosition=o.readShort(t,e),e+=2,n.sFamilyClass=o.readShort(t,e),e+=2,n.panose=o.readBytes(t,e,10),e+=10,n.ulUnicodeRange1=o.readUint(t,e),e+=4,n.ulUnicodeRange2=o.readUint(t,e),e+=4,n.ulUnicodeRange3=o.readUint(t,e),e+=4,n.ulUnicodeRange4=o.readUint(t,e),e+=4,n.achVendID=[o.readInt8(t,e),o.readInt8(t,e+1),o.readInt8(t,e+2),o.readInt8(t,e+3)],e+=4,n.fsSelection=o.readUshort(t,e),e+=2,n.usFirstCharIndex=o.readUshort(t,e),e+=2,n.usLastCharIndex=o.readUshort(t,e),e+=2,n.sTypoAscender=o.readShort(t,e),e+=2,n.sTypoDescender=o.readShort(t,e),e+=2,n.sTypoLineGap=o.readShort(t,e),e+=2,n.usWinAscent=o.readUshort(t,e),e+=2,n.usWinDescent=o.readUshort(t,e),e+=2},r["OS/2"].version1=function(t,e,n){var o=r._bin;return e=r["OS/2"].version0(t,e,n),n.ulCodePageRange1=o.readUint(t,e),e+=4,n.ulCodePageRange2=o.readUint(t,e),e+=4},r["OS/2"].version2=function(t,e,n){var o=r._bin;return e=r["OS/2"].version1(t,e,n),n.sxHeight=o.readShort(t,e),e+=2,n.sCapHeight=o.readShort(t,e),e+=2,n.usDefault=o.readUshort(t,e),e+=2,n.usBreak=o.readUshort(t,e),e+=2,n.usMaxContext=o.readUshort(t,e),e+=2},r["OS/2"].version5=function(t,e,n){var o=r._bin;return e=r["OS/2"].version2(t,e,n),n.usLowerOpticalPointSize=o.readUshort(t,e),e+=2,n.usUpperOpticalPointSize=o.readUshort(t,e),e+=2},r.post={},r.post.parse=function(t,e,n){var o=r._bin,i={};return i.version=o.readFixed(t,e),e+=4,i.italicAngle=o.readFixed(t,e),e+=4,i.underlinePosition=o.readShort(t,e),e+=2,i.underlineThickness=o.readShort(t,e),e+=2,i},r==null&&(r={}),r.U==null&&(r.U={}),r.U.codeToGlyph=function(t,e){var n=t.cmap,o=-1;if(n.p0e4!=null?o=n.p0e4:n.p3e1!=null?o=n.p3e1:n.p1e0!=null?o=n.p1e0:n.p0e3!=null&&(o=n.p0e3),o==-1)throw"no familiar platform and encoding!";var i=n.tables[o];if(i.format==0)return e>=i.map.length?0:i.map[e];if(i.format==4){for(var s=-1,u=0;u<i.endCount.length;u++)if(e<=i.endCount[u]){s=u;break}return s==-1||i.startCount[s]>e?0:65535&(i.idRangeOffset[s]!=0?i.glyphIdArray[e-i.startCount[s]+(i.idRangeOffset[s]>>1)-(i.idRangeOffset.length-s)]:e+i.idDelta[s])}if(i.format==12){if(e>i.groups[i.groups.length-1][1])return 0;for(u=0;u<i.groups.length;u++){var f=i.groups[u];if(f[0]<=e&&e<=f[1])return f[2]+(e-f[0])}return 0}throw"unknown cmap table format "+i.format},r.U.glyphToPath=function(t,e){var n={cmds:[],crds:[]};if(t.SVG&&t.SVG.entries[e]){var o=t.SVG.entries[e];return o==null?n:(typeof o=="string"&&(o=r.SVG.toPath(o),t.SVG.entries[e]=o),o)}if(t.CFF){var i={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:t.CFF.Private?t.CFF.Private.defaultWidthX:0,open:!1},s=t.CFF,u=t.CFF.Private;if(s.ROS){for(var f=0;s.FDSelect[f+2]<=e;)f+=2;u=s.FDArray[s.FDSelect[f+1]].Private}r.U._drawCFF(t.CFF.CharStrings[e],i,s,u,n)}else t.glyf&&r.U._drawGlyf(e,t,n);return n},r.U._drawGlyf=function(t,e,n){var o=e.glyf[t];o==null&&(o=e.glyf[t]=r.glyf._parseGlyf(e,t)),o!=null&&(o.noc>-1?r.U._simpleGlyph(o,n):r.U._compoGlyph(o,e,n))},r.U._simpleGlyph=function(t,e){for(var n=0;n<t.noc;n++){for(var o=n==0?0:t.endPts[n-1]+1,i=t.endPts[n],s=o;s<=i;s++){var u=s==o?i:s-1,f=s==i?o:s+1,d=1&t.flags[s],h=1&t.flags[u],p=1&t.flags[f],m=t.xs[s],v=t.ys[s];if(s==o)if(d){if(!h){r.U.P.moveTo(e,m,v);continue}r.U.P.moveTo(e,t.xs[u],t.ys[u])}else h?r.U.P.moveTo(e,t.xs[u],t.ys[u]):r.U.P.moveTo(e,(t.xs[u]+m)/2,(t.ys[u]+v)/2);d?h&&r.U.P.lineTo(e,m,v):p?r.U.P.qcurveTo(e,m,v,t.xs[f],t.ys[f]):r.U.P.qcurveTo(e,m,v,(m+t.xs[f])/2,(v+t.ys[f])/2)}r.U.P.closePath(e)}},r.U._compoGlyph=function(t,e,n){for(var o=0;o<t.parts.length;o++){var i={cmds:[],crds:[]},s=t.parts[o];r.U._drawGlyf(s.glyphIndex,e,i);for(var u=s.m,f=0;f<i.crds.length;f+=2){var d=i.crds[f],h=i.crds[f+1];n.crds.push(d*u.a+h*u.b+u.tx),n.crds.push(d*u.c+h*u.d+u.ty)}for(f=0;f<i.cmds.length;f++)n.cmds.push(i.cmds[f])}},r.U._getGlyphClass=function(t,e){var n=r._lctf.getInterval(e,t);return n==-1?0:e[n+2]},r.U._applySubs=function(t,e,n,o){for(var i=t.length-e-1,s=0;s<n.tabs.length;s++)if(n.tabs[s]!=null){var u,f=n.tabs[s];if(!f.coverage||(u=r._lctf.coverageIndex(f.coverage,t[e]))!=-1){if(n.ltype==1)t[e],f.fmt==1?t[e]=t[e]+f.delta:t[e]=f.newg[u];else if(n.ltype==4)for(var d=f.vals[u],h=0;h<d.length;h++){var p=d[h],m=p.chain.length;if(!(m>i)){for(var v=!0,E=0,w=0;w<m;w++){for(;t[e+E+(1+w)]==-1;)E++;p.chain[w]!=t[e+E+(1+w)]&&(v=!1)}if(v){for(t[e]=p.nglyph,w=0;w<m+E;w++)t[e+w+1]=-1;break}}}else if(n.ltype==5&&f.fmt==2)for(var y=r._lctf.getInterval(f.cDef,t[e]),S=f.cDef[y+2],_=f.scset[S],A=0;A<_.length;A++){var C=_[A],x=C.input;if(!(x.length>i)){for(v=!0,w=0;w<x.length;w++){var G=r._lctf.getInterval(f.cDef,t[e+1+w]);if(y==-1&&f.cDef[G+2]!=x[w]){v=!1;break}}if(v){var D=C.substLookupRecords;for(h=0;h<D.length;h+=2)D[h],D[h+1]}}}else if(n.ltype==6&&f.fmt==3){if(!r.U._glsCovered(t,f.backCvg,e-f.backCvg.length)||!r.U._glsCovered(t,f.inptCvg,e)||!r.U._glsCovered(t,f.ahedCvg,e+f.inptCvg.length))continue;var J=f.lookupRec;for(A=0;A<J.length;A+=2){y=J[A];var b=o[J[A+1]];r.U._applySubs(t,e+y,b,o)}}}}},r.U._glsCovered=function(t,e,n){for(var o=0;o<e.length;o++)if(r._lctf.coverageIndex(e[o],t[n+o])==-1)return!1;return!0},r.U.glyphsToPath=function(t,e,n){for(var o={cmds:[],crds:[]},i=0,s=0;s<e.length;s++){var u=e[s];if(u!=-1){for(var f=s<e.length-1&&e[s+1]!=-1?e[s+1]:0,d=r.U.glyphToPath(t,u),h=0;h<d.crds.length;h+=2)o.crds.push(d.crds[h]+i),o.crds.push(d.crds[h+1]);for(n&&o.cmds.push(n),h=0;h<d.cmds.length;h++)o.cmds.push(d.cmds[h]);n&&o.cmds.push("X"),i+=t.hmtx.aWidth[u],s<e.length-1&&(i+=r.U.getPairAdjustment(t,u,f))}}return o},r.U.P={},r.U.P.moveTo=function(t,e,n){t.cmds.push("M"),t.crds.push(e,n)},r.U.P.lineTo=function(t,e,n){t.cmds.push("L"),t.crds.push(e,n)},r.U.P.curveTo=function(t,e,n,o,i,s,u){t.cmds.push("C"),t.crds.push(e,n,o,i,s,u)},r.U.P.qcurveTo=function(t,e,n,o,i){t.cmds.push("Q"),t.crds.push(e,n,o,i)},r.U.P.closePath=function(t){t.cmds.push("Z")},r.U._drawCFF=function(t,e,n,o,i){for(var s=e.stack,u=e.nStems,f=e.haveWidth,d=e.width,h=e.open,p=0,m=e.x,v=e.y,E=0,w=0,y=0,S=0,_=0,A=0,C=0,x=0,G=0,D=0,J={val:0,size:0};p<t.length;){r.CFF.getCharString(t,p,J);var b=J.val;if(p+=J.size,b=="o1"||b=="o18")s.length%2!=0&&!f&&(d=s.shift()+o.nominalWidthX),u+=s.length>>1,s.length=0,f=!0;else if(b=="o3"||b=="o23")s.length%2!=0&&!f&&(d=s.shift()+o.nominalWidthX),u+=s.length>>1,s.length=0,f=!0;else if(b=="o4")s.length>1&&!f&&(d=s.shift()+o.nominalWidthX,f=!0),h&&r.U.P.closePath(i),v+=s.pop(),r.U.P.moveTo(i,m,v),h=!0;else if(b=="o5")for(;s.length>0;)m+=s.shift(),v+=s.shift(),r.U.P.lineTo(i,m,v);else if(b=="o6"||b=="o7")for(var O=s.length,R=b=="o6",Q=0;Q<O;Q++){var z=s.shift();R?m+=z:v+=z,R=!R,r.U.P.lineTo(i,m,v)}else if(b=="o8"||b=="o24"){O=s.length;for(var Z=0;Z+6<=O;)E=m+s.shift(),w=v+s.shift(),y=E+s.shift(),S=w+s.shift(),m=y+s.shift(),v=S+s.shift(),r.U.P.curveTo(i,E,w,y,S,m,v),Z+=6;b=="o24"&&(m+=s.shift(),v+=s.shift(),r.U.P.lineTo(i,m,v))}else{if(b=="o11")break;if(b=="o1234"||b=="o1235"||b=="o1236"||b=="o1237")b=="o1234"&&(w=v,y=(E=m+s.shift())+s.shift(),D=S=w+s.shift(),A=S,x=v,m=(C=(_=(G=y+s.shift())+s.shift())+s.shift())+s.shift(),r.U.P.curveTo(i,E,w,y,S,G,D),r.U.P.curveTo(i,_,A,C,x,m,v)),b=="o1235"&&(E=m+s.shift(),w=v+s.shift(),y=E+s.shift(),S=w+s.shift(),G=y+s.shift(),D=S+s.shift(),_=G+s.shift(),A=D+s.shift(),C=_+s.shift(),x=A+s.shift(),m=C+s.shift(),v=x+s.shift(),s.shift(),r.U.P.curveTo(i,E,w,y,S,G,D),r.U.P.curveTo(i,_,A,C,x,m,v)),b=="o1236"&&(E=m+s.shift(),w=v+s.shift(),y=E+s.shift(),D=S=w+s.shift(),A=S,C=(_=(G=y+s.shift())+s.shift())+s.shift(),x=A+s.shift(),m=C+s.shift(),r.U.P.curveTo(i,E,w,y,S,G,D),r.U.P.curveTo(i,_,A,C,x,m,v)),b=="o1237"&&(E=m+s.shift(),w=v+s.shift(),y=E+s.shift(),S=w+s.shift(),G=y+s.shift(),D=S+s.shift(),_=G+s.shift(),A=D+s.shift(),C=_+s.shift(),x=A+s.shift(),Math.abs(C-m)>Math.abs(x-v)?m=C+s.shift():v=x+s.shift(),r.U.P.curveTo(i,E,w,y,S,G,D),r.U.P.curveTo(i,_,A,C,x,m,v));else if(b=="o14"){if(s.length>0&&!f&&(d=s.shift()+n.nominalWidthX,f=!0),s.length==4){var ne=s.shift(),M=s.shift(),B=s.shift(),g=s.shift(),T=r.CFF.glyphBySE(n,B),F=r.CFF.glyphBySE(n,g);r.U._drawCFF(n.CharStrings[T],e,n,o,i),e.x=ne,e.y=M,r.U._drawCFF(n.CharStrings[F],e,n,o,i)}h&&(r.U.P.closePath(i),h=!1)}else if(b=="o19"||b=="o20")s.length%2!=0&&!f&&(d=s.shift()+o.nominalWidthX),u+=s.length>>1,s.length=0,f=!0,p+=u+7>>3;else if(b=="o21")s.length>2&&!f&&(d=s.shift()+o.nominalWidthX,f=!0),v+=s.pop(),m+=s.pop(),h&&r.U.P.closePath(i),r.U.P.moveTo(i,m,v),h=!0;else if(b=="o22")s.length>1&&!f&&(d=s.shift()+o.nominalWidthX,f=!0),m+=s.pop(),h&&r.U.P.closePath(i),r.U.P.moveTo(i,m,v),h=!0;else if(b=="o25"){for(;s.length>6;)m+=s.shift(),v+=s.shift(),r.U.P.lineTo(i,m,v);E=m+s.shift(),w=v+s.shift(),y=E+s.shift(),S=w+s.shift(),m=y+s.shift(),v=S+s.shift(),r.U.P.curveTo(i,E,w,y,S,m,v)}else if(b=="o26")for(s.length%2&&(m+=s.shift());s.length>0;)E=m,w=v+s.shift(),m=y=E+s.shift(),v=(S=w+s.shift())+s.shift(),r.U.P.curveTo(i,E,w,y,S,m,v);else if(b=="o27")for(s.length%2&&(v+=s.shift());s.length>0;)w=v,y=(E=m+s.shift())+s.shift(),S=w+s.shift(),m=y+s.shift(),v=S,r.U.P.curveTo(i,E,w,y,S,m,v);else if(b=="o10"||b=="o29"){var P=b=="o10"?o:n;if(s.length==0)console.debug("error: empty stack");else{var U=s.pop(),j=P.Subrs[U+P.Bias];e.x=m,e.y=v,e.nStems=u,e.haveWidth=f,e.width=d,e.open=h,r.U._drawCFF(j,e,n,o,i),m=e.x,v=e.y,u=e.nStems,f=e.haveWidth,d=e.width,h=e.open}}else if(b=="o30"||b=="o31"){var L=s.length,N=(Z=0,b=="o31");for(Z+=L-(O=-3&L);Z<O;)N?(w=v,y=(E=m+s.shift())+s.shift(),v=(S=w+s.shift())+s.shift(),O-Z==5?(m=y+s.shift(),Z++):m=y,N=!1):(E=m,w=v+s.shift(),y=E+s.shift(),S=w+s.shift(),m=y+s.shift(),O-Z==5?(v=S+s.shift(),Z++):v=S,N=!0),r.U.P.curveTo(i,E,w,y,S,m,v),Z+=4}else{if((b+"").charAt(0)=="o")throw console.debug("Unknown operation: "+b,t),b;s.push(b)}}}e.x=m,e.y=v,e.nStems=u,e.haveWidth=f,e.width=d,e.open=h};var c=r,l={Typr:c};return a.Typr=c,a.default=l,Object.defineProperty(a,"__esModule",{value:!0}),a}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function Ri(){return function(a){var r=Uint8Array,c=Uint16Array,l=Uint32Array,t=new r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),e=new r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),n=new r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=function(b,O){for(var R=new c(31),Q=0;Q<31;++Q)R[Q]=O+=1<<b[Q-1];var z=new l(R[30]);for(Q=1;Q<30;++Q)for(var Z=R[Q];Z<R[Q+1];++Z)z[Z]=Z-R[Q]<<5|Q;return[R,z]},i=o(t,2),s=i[0],u=i[1];s[28]=258,u[258]=28;for(var f=o(e,0)[0],d=new c(32768),h=0;h<32768;++h){var p=(43690&h)>>>1|(21845&h)<<1;p=(61680&(p=(52428&p)>>>2|(13107&p)<<2))>>>4|(3855&p)<<4,d[h]=((65280&p)>>>8|(255&p)<<8)>>>1}var m=function(b,O,R){for(var Q=b.length,z=0,Z=new c(O);z<Q;++z)++Z[b[z]-1];var ne,M=new c(O);for(z=0;z<O;++z)M[z]=M[z-1]+Z[z-1]<<1;{ne=new c(1<<O);var B=15-O;for(z=0;z<Q;++z)if(b[z])for(var g=z<<4|b[z],T=O-b[z],F=M[b[z]-1]++<<T,P=F|(1<<T)-1;F<=P;++F)ne[d[F]>>>B]=g}return ne},v=new r(288);for(h=0;h<144;++h)v[h]=8;for(h=144;h<256;++h)v[h]=9;for(h=256;h<280;++h)v[h]=7;for(h=280;h<288;++h)v[h]=8;var E=new r(32);for(h=0;h<32;++h)E[h]=5;var w=m(v,9),y=m(E,5),S=function(b){for(var O=b[0],R=1;R<b.length;++R)b[R]>O&&(O=b[R]);return O},_=function(b,O,R){var Q=O/8|0;return(b[Q]|b[Q+1]<<8)>>(7&O)&R},A=function(b,O){var R=O/8|0;return(b[R]|b[R+1]<<8|b[R+2]<<16)>>(7&O)},C=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],x=function(b,O,R){var Q=new Error(O||C[b]);if(Q.code=b,Error.captureStackTrace&&Error.captureStackTrace(Q,x),!R)throw Q;return Q},G=function(b,O,R){var Q=b.length;if(!Q||R&&!R.l&&Q<5)return O||new r(0);var z=!O||R,Z=!R||R.i;R||(R={}),O||(O=new r(3*Q));var ne,M=function(ce){var Pe=O.length;if(ce>Pe){var Ee=new r(Math.max(2*Pe,ce));Ee.set(O),O=Ee}},B=R.f||0,g=R.p||0,T=R.b||0,F=R.l,P=R.d,U=R.m,j=R.n,L=8*Q;do{if(!F){R.f=B=_(b,g,1);var N=_(b,g+1,3);if(g+=3,!N){var X=b[($=((ne=g)/8|0)+(7&ne&&1)+4)-4]|b[$-3]<<8,ee=$+X;if(ee>Q){Z&&x(0);break}z&&M(T+X),O.set(b.subarray($,ee),T),R.b=T+=X,R.p=g=8*ee;continue}if(N==1)F=w,P=y,U=9,j=5;else if(N==2){var H=_(b,g,31)+257,V=_(b,g+10,15)+4,ye=H+_(b,g+5,31)+1;g+=14;for(var de=new r(ye),K=new r(19),te=0;te<V;++te)K[n[te]]=_(b,g+3*te,7);g+=3*V;var ue=S(K),W=(1<<ue)-1,re=m(K,ue);for(te=0;te<ye;){var $,I=re[_(b,g,W)];if(g+=15&I,($=I>>>4)<16)de[te++]=$;else{var pe=0,Y=0;for($==16?(Y=3+_(b,g,3),g+=2,pe=de[te-1]):$==17?(Y=3+_(b,g,7),g+=3):$==18&&(Y=11+_(b,g,127),g+=7);Y--;)de[te++]=pe}}var oe=de.subarray(0,H),q=de.subarray(H);U=S(oe),j=S(q),F=m(oe,U),P=m(q,j)}else x(1);if(g>L){Z&&x(0);break}}z&&M(T+131072);for(var Te=(1<<U)-1,ae=(1<<j)-1,ie=g;;ie=g){var fe=(pe=F[A(b,g)&Te])>>>4;if((g+=15&pe)>L){Z&&x(0);break}if(pe||x(2),fe<256)O[T++]=fe;else{if(fe==256){ie=g,F=null;break}var ve=fe-254;if(fe>264){var Ue=t[te=fe-257];ve=_(b,g,(1<<Ue)-1)+s[te],g+=Ue}var Re=P[A(b,g)&ae],be=Re>>>4;if(Re||x(3),g+=15&Re,q=f[be],be>3&&(Ue=e[be],q+=A(b,g)&(1<<Ue)-1,g+=Ue),g>L){Z&&x(0);break}z&&M(T+131072);for(var Se=T+ve;T<Se;T+=4)O[T]=O[T-q],O[T+1]=O[T+1-q],O[T+2]=O[T+2-q],O[T+3]=O[T+3-q];T=Se}}R.l=F,R.p=ie,R.b=T,F&&(B=1,R.m=U,R.d=P,R.n=j)}while(!B);return T==O.length?O:function(ce,Pe,Ee){(Ee==null||Ee>ce.length)&&(Ee=ce.length);var Ge=new(ce instanceof c?c:ce instanceof l?l:r)(Ee-Pe);return Ge.set(ce.subarray(Pe,Ee)),Ge}(O,0,T)},D=new r(0),J=typeof TextDecoder<"u"&&new TextDecoder;try{J.decode(D,{stream:!0})}catch{}return a.convert_streams=function(b){var O=new DataView(b),R=0;function Q(){var H=O.getUint16(R);return R+=2,H}function z(){var H=O.getUint32(R);return R+=4,H}function Z(H){X.setUint16(ee,H),ee+=2}function ne(H){X.setUint32(ee,H),ee+=4}for(var M={signature:z(),flavor:z(),length:z(),numTables:Q(),reserved:Q(),totalSfntSize:z(),majorVersion:Q(),minorVersion:Q(),metaOffset:z(),metaLength:z(),metaOrigLength:z(),privOffset:z(),privLength:z()},B=0;Math.pow(2,B)<=M.numTables;)B++;B--;for(var g=16*Math.pow(2,B),T=16*M.numTables-g,F=12,P=[],U=0;U<M.numTables;U++)P.push({tag:z(),offset:z(),compLength:z(),origLength:z(),origChecksum:z()}),F+=16;var j,L=new Uint8Array(12+16*P.length+P.reduce(function(H,V){return H+V.origLength+4},0)),N=L.buffer,X=new DataView(N),ee=0;return ne(M.flavor),Z(M.numTables),Z(g),Z(B),Z(T),P.forEach(function(H){ne(H.tag),ne(H.origChecksum),ne(F),ne(H.origLength),H.outOffset=F,(F+=H.origLength)%4!=0&&(F+=4-F%4)}),P.forEach(function(H){var V,ye=b.slice(H.offset,H.offset+H.compLength);if(H.compLength!=H.origLength){var de=new Uint8Array(H.origLength);V=new Uint8Array(ye,2),G(V,de)}else de=new Uint8Array(ye);L.set(de,H.outOffset);var K=0;(F=H.outOffset+H.origLength)%4!=0&&(K=4-F%4),L.set(new Uint8Array(K).buffer,H.outOffset+H.origLength),j=F+K}),N.slice(0,j)},Object.defineProperty(a,"__esModule",{value:!0}),a}({}).convert_streams}function Pi(a,r){const c={M:2,L:2,Q:4,C:6,Z:0},l={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},t=1,e=2,n=4,o=8,i=16,s=32;let u;function f(C){if(!u){const x={R:e,L:t,D:n,C:i,U:s,T:o};u=new Map;for(let G in l){let D=0;l[G].split(",").forEach(J=>{let[b,O]=J.split("+");b=parseInt(b,36),O=O?parseInt(O,36):0,u.set(D+=b,x[G]);for(let R=O;R--;)u.set(++D,x[G])})}}return u.get(C)||s}const d=1,h=2,p=3,m=4,v=[null,"isol","init","fina","medi"];function E(C){const x=new Uint8Array(C.length);let G=s,D=d,J=-1;for(let b=0;b<C.length;b++){const O=C.codePointAt(b);let R=f(O)|0,Q=d;R&o||(G&(t|n|i)?R&(e|n|i)?(Q=p,(D===d||D===p)&&x[J]++):R&(t|s)&&(D===h||D===m)&&x[J]--:G&(e|s)&&(D===h||D===m)&&x[J]--,D=x[b]=Q,G=R,J=b,O>65535&&b++)}return x}function w(C,x){const G=[];for(let J=0;J<x.length;J++){const b=x.codePointAt(J);b>65535&&J++,G.push(a.U.codeToGlyph(C,b))}const D=C.GSUB;if(D){const{lookupList:J,featureList:b}=D;let O;const R=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,Q=[];b.forEach(z=>{if(R.test(z.tag))for(let Z=0;Z<z.tab.length;Z++){if(Q[z.tab[Z]])continue;Q[z.tab[Z]]=!0;const ne=J[z.tab[Z]],M=/^(isol|init|fina|medi)$/.test(z.tag);M&&!O&&(O=E(x));for(let B=0;B<G.length;B++)(!O||!M||v[O[B]]===z.tag)&&a.U._applySubs(G,B,ne,J)}})}return G}function y(C,x){const G=new Int16Array(x.length*3);let D=0;for(;D<x.length;D++){const R=x[D];if(R===-1)continue;G[D*3+2]=C.hmtx.aWidth[R];const Q=C.GPOS;if(Q){const z=Q.lookupList;for(let Z=0;Z<z.length;Z++){const ne=z[Z];for(let M=0;M<ne.tabs.length;M++){const B=ne.tabs[M];if(ne.ltype===1){if(a._lctf.coverageIndex(B.coverage,R)!==-1&&B.pos){O(B.pos,D);break}}else if(ne.ltype===2){let g=null,T=J();if(T!==-1){const F=a._lctf.coverageIndex(B.coverage,x[T]);if(F!==-1){if(B.fmt===1){const P=B.pairsets[F];for(let U=0;U<P.length;U++)P[U].gid2===R&&(g=P[U])}else if(B.fmt===2){const P=a.U._getGlyphClass(x[T],B.classDef1),U=a.U._getGlyphClass(R,B.classDef2);g=B.matrix[P][U]}if(g){g.val1&&O(g.val1,T),g.val2&&O(g.val2,D);break}}}}else if(ne.ltype===4){const g=a._lctf.coverageIndex(B.markCoverage,R);if(g!==-1){const T=J(b),F=T===-1?-1:a._lctf.coverageIndex(B.baseCoverage,x[T]);if(F!==-1){const P=B.markArray[g],U=B.baseArray[F][P.markClass];G[D*3]=U.x-P.x+G[T*3]-G[T*3+2],G[D*3+1]=U.y-P.y+G[T*3+1];break}}}else if(ne.ltype===6){const g=a._lctf.coverageIndex(B.mark1Coverage,R);if(g!==-1){const T=J();if(T!==-1){const F=x[T];if(S(C,F)===3){const P=a._lctf.coverageIndex(B.mark2Coverage,F);if(P!==-1){const U=B.mark1Array[g],j=B.mark2Array[P][U.markClass];G[D*3]=j.x-U.x+G[T*3]-G[T*3+2],G[D*3+1]=j.y-U.y+G[T*3+1];break}}}}}}}}else if(C.kern&&!C.cff){const z=J();if(z!==-1){const Z=C.kern.glyph1.indexOf(x[z]);if(Z!==-1){const ne=C.kern.rval[Z].glyph2.indexOf(R);ne!==-1&&(G[z*3+2]+=C.kern.rval[Z].vals[ne])}}}}return G;function J(R){for(let Q=D-1;Q>=0;Q--)if(x[Q]!==-1&&(!R||R(x[Q])))return Q;return-1}function b(R){return S(C,R)===1}function O(R,Q){for(let z=0;z<3;z++)G[Q*3+z]+=R[z]||0}}function S(C,x){const G=C.GDEF&&C.GDEF.glyphClassDef;return G?a.U._getGlyphClass(x,G):0}function _(...C){for(let x=0;x<C.length;x++)if(typeof C[x]=="number")return C[x]}function A(C){const x=Object.create(null),G=C["OS/2"],D=C.hhea,J=C.head.unitsPerEm,b=_(G&&G.sTypoAscender,D&&D.ascender,J),O={unitsPerEm:J,ascender:b,descender:_(G&&G.sTypoDescender,D&&D.descender,0),capHeight:_(G&&G.sCapHeight,b),xHeight:_(G&&G.sxHeight,b),lineGap:_(G&&G.sTypoLineGap,D&&D.lineGap),supportsCodePoint(R){return a.U.codeToGlyph(C,R)>0},forEachGlyph(R,Q,z,Z){let ne=0;const M=1/O.unitsPerEm*Q,B=w(C,R);let g=0;const T=y(C,B);return B.forEach((F,P)=>{if(F!==-1){let U=x[F];if(!U){const{cmds:j,crds:L}=a.U.glyphToPath(C,F);let N="",X=0;for(let de=0,K=j.length;de<K;de++){const te=c[j[de]];N+=j[de];for(let ue=1;ue<=te;ue++)N+=(ue>1?",":"")+L[X++]}let ee,H,V,ye;if(L.length){ee=H=1/0,V=ye=-1/0;for(let de=0,K=L.length;de<K;de+=2){let te=L[de],ue=L[de+1];te<ee&&(ee=te),ue<H&&(H=ue),te>V&&(V=te),ue>ye&&(ye=ue)}}else ee=V=H=ye=0;U=x[F]={index:F,advanceWidth:C.hmtx.aWidth[F],xMin:ee,yMin:H,xMax:V,yMax:ye,path:N}}Z.call(null,U,ne+T[P*3]*M,T[P*3+1]*M,g),ne+=T[P*3+2]*M,z&&(ne+=z*Q)}g+=R.codePointAt(g)>65535?2:1}),ne}};return O}return function(x){const G=new Uint8Array(x,0,4),D=a._bin.readASCII(G,0,4);if(D==="wOFF")x=r(x);else if(D==="wOF2")throw new Error("woff2 fonts not supported");return A(a.parse(x)[0])}}const Di=Tt({name:"Typr Font Parser",dependencies:[Fi,Ri,Pi],init(a,r,c){const l=a(),t=r();return c(l,t)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function Oi(){return function(a){var r=function(){this.buckets=new Map};r.prototype.add=function(y){var S=y>>5;this.buckets.set(S,(this.buckets.get(S)||0)|1<<(31&y))},r.prototype.has=function(y){var S=this.buckets.get(y>>5);return S!==void 0&&(S&1<<(31&y))!=0},r.prototype.serialize=function(){var y=[];return this.buckets.forEach(function(S,_){y.push((+_).toString(36)+":"+S.toString(36))}),y.join(",")},r.prototype.deserialize=function(y){var S=this;this.buckets.clear(),y.split(",").forEach(function(_){var A=_.split(":");S.buckets.set(parseInt(A[0],36),parseInt(A[1],36))})};var c=Math.pow(2,8),l=c-1,t=~l;function e(y){var S=function(A){return A&t}(y).toString(16),_=function(A){return(A&t)+c-1}(y).toString(16);return"codepoint-index/plane"+(y>>16)+"/"+S+"-"+_+".json"}function n(y,S){var _=y&l,A=S.codePointAt(_/6|0);return((A=(A||48)-48)&1<<_%6)!=0}function o(y,S){var _;(_=y,_.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(A){return A.split("-").map(function(C){return parseInt(C.trim(),16)})})).forEach(function(A){var C=A[0],x=A[1];x===void 0&&(x=C),S(C,x)})}function i(y,S){o(y,function(_,A){for(var C=_;C<=A;C++)S(C)})}var s={},u={},f=new WeakMap,d="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function h(y){var S=f.get(y);return S||(S=new r,i(y.ranges,function(_){return S.add(_)}),f.set(y,S)),S}var p,m=new Map;function v(y,S,_){return y[S]?S:y[_]?_:function(A){for(var C in A)return C}(y)}function E(y,S){var _=S;if(!y.includes(_)){_=1/0;for(var A=0;A<y.length;A++)Math.abs(y[A]-S)<Math.abs(_-S)&&(_=y[A])}return _}function w(y){return p||(p=new Set,i("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(S){p.add(S)})),p.has(y)}return a.CodePointSet=r,a.clearCache=function(){s={},u={}},a.getFontsForString=function(y,S){S===void 0&&(S={});var _,A=S.lang;A===void 0&&(A=new RegExp("\\p{Script=Hangul}","u").test(_=y)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(_)?"ja":"en");var C=S.category;C===void 0&&(C="sans-serif");var x=S.style;x===void 0&&(x="normal");var G=S.weight;G===void 0&&(G=400);var D=(S.dataUrl||d).replace(/\/$/g,""),J=new Map,b=new Uint8Array(y.length),O={},R={},Q=new Array(y.length),z=new Map,Z=!1;function ne(g){var T=m.get(g);return T||(T=fetch(D+"/"+g).then(function(F){if(!F.ok)throw new Error(F.statusText);return F.json().then(function(P){if(!Array.isArray(P)||P[0]!==1)throw new Error("Incorrect schema version; need 1, got "+P[0]);return P[1]})}).catch(function(F){if(D!==d)return Z||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+D+'", trying default CDN. '+F.message),Z=!0),D=d,m.delete(g),ne(g);throw F}),m.set(g,T)),T}for(var M=function(g){var T=y.codePointAt(g),F=e(T);Q[g]=F,s[F]||z.has(F)||z.set(F,ne(F).then(function(P){s[F]=P})),T>65535&&(g++,B=g)},B=0;B<y.length;B++)M(B);return Promise.all(z.values()).then(function(){z.clear();for(var g=function(F){var P=y.codePointAt(F),U=null,j=s[Q[F]],L=void 0;for(var N in j){var X=R[N];if(X===void 0&&(X=R[N]=new RegExp(N).test(A||"en")),X){for(var ee in L=N,j[N])if(n(P,j[N][ee])){U=ee;break}break}}if(!U){e:for(var H in j)if(H!==L){for(var V in j[H])if(n(P,j[H][V])){U=V;break e}}}U||(console.debug("No font coverage for U+"+P.toString(16)),U="latin"),Q[F]=U,u[U]||z.has(U)||z.set(U,ne("font-meta/"+U+".json").then(function(ye){u[U]=ye})),P>65535&&(F++,T=F)},T=0;T<y.length;T++)g(T);return Promise.all(z.values())}).then(function(){for(var g,T=null,F=0;F<y.length;F++){var P=y.codePointAt(F);if(T&&(w(P)||h(T).has(P)))b[F]=b[F-1];else{T=u[Q[F]];var U=O[T.id];if(!U){var j=T.typeforms,L=v(j,C,"sans-serif"),N=v(j[L],x,"normal"),X=E((g=j[L])===null||g===void 0?void 0:g[N],G);U=O[T.id]=D+"/font-files/"+T.id+"/"+L+"."+N+"."+X+".woff"}var ee=J.get(U);ee==null&&(ee=J.size,J.set(U,ee)),b[F]=ee}P>65535&&(F++,b[F]=b[F-1])}return{fontUrls:Array.from(J.keys()),chars:b}})},Object.defineProperty(a,"__esModule",{value:!0}),a}({})}function Li(a,r){const c=Object.create(null),l=Object.create(null);function t(n,o){const i=s=>{console.error(`Failure loading font ${n}`,s)};try{const s=new XMLHttpRequest;s.open("get",n,!0),s.responseType="arraybuffer",s.onload=function(){if(s.status>=400)i(new Error(s.statusText));else if(s.status>0)try{const u=a(s.response);u.src=n,o(u)}catch(u){i(u)}},s.onerror=i,s.send()}catch(s){i(s)}}function e(n,o){let i=c[n];i?o(i):l[n]?l[n].push(o):(l[n]=[o],t(n,s=>{s.src=n,c[n]=s,l[n].forEach(u=>u(s)),delete l[n]}))}return function(n,o,{lang:i,fonts:s=[],style:u="normal",weight:f="normal",unicodeFontsURL:d}={}){const h=new Uint8Array(n.length),p=[];n.length||w();const m=new Map,v=[];if(u!=="italic"&&(u="normal"),typeof f!="number"&&(f=f==="bold"?700:400),s&&!Array.isArray(s)&&(s=[s]),s=s.slice().filter(S=>!S.lang||S.lang.test(i)).reverse(),s.length){let C=0;(function x(G=0){for(let D=G,J=n.length;D<J;D++){const b=n.codePointAt(D);if(C===1&&p[h[D-1]].supportsCodePoint(b)||/\s/.test(n[D]))h[D]=h[D-1],C===2&&(v[v.length-1][1]=D);else for(let O=h[D],R=s.length;O<=R;O++)if(O===R){const Q=C===2?v[v.length-1]:v[v.length]=[D,D];Q[1]=D,C=2}else{h[D]=O;const{src:Q,unicodeRange:z}=s[O];if(!z||y(b,z)){const Z=c[Q];if(!Z){e(Q,()=>{x(D)});return}if(Z.supportsCodePoint(b)){let ne=m.get(Z);typeof ne!="number"&&(ne=p.length,p.push(Z),m.set(Z,ne)),h[D]=ne,C=1;break}}}b>65535&&D+1<J&&(h[D+1]=h[D],D++,C===2&&(v[v.length-1][1]=D))}E()})()}else v.push([0,n.length-1]),E();function E(){if(v.length){const S=v.map(_=>n.substring(_[0],_[1]+1)).join(`
`);r.getFontsForString(S,{lang:i||void 0,style:u,weight:f,dataUrl:d}).then(({fontUrls:_,chars:A})=>{const C=p.length;let x=0;v.forEach(D=>{for(let J=0,b=D[1]-D[0];J<=b;J++)h[D[0]+J]=A[x++]+C;x++});let G=0;_.forEach((D,J)=>{e(D,b=>{p[J+C]=b,++G===_.length&&w()})})})}else w()}function w(){o({chars:h,fonts:p})}function y(S,_){for(let A=0;A<_.length;A++){const[C,x=C]=_[A];if(C<=S&&S<=x)return!0}return!1}}}const Bi=Tt({name:"FontResolver",dependencies:[Li,Di,Oi],init(a,r,c){return a(r,c())}});function Ii(a,r){const l=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,t="[^\\S\\u00A0]",e=new RegExp(`${t}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function n({text:p,lang:m,fonts:v,style:E,weight:w,preResolvedFonts:y,unicodeFontsURL:S},_){const A=({chars:C,fonts:x})=>{let G,D;const J=[];for(let b=0;b<C.length;b++)C[b]!==D?(D=C[b],J.push(G={start:b,end:b,fontObj:x[C[b]]})):G.end=b;_(J)};y?A(y):a(p,A,{lang:m,fonts:v,style:E,weight:w,unicodeFontsURL:S})}function o({text:p="",font:m,lang:v,sdfGlyphSize:E=64,fontSize:w=400,fontWeight:y=1,fontStyle:S="normal",letterSpacing:_=0,lineHeight:A="normal",maxWidth:C=1/0,direction:x,textAlign:G="left",textIndent:D=0,whiteSpace:J="normal",overflowWrap:b="normal",anchorX:O=0,anchorY:R=0,metricsOnly:Q=!1,unicodeFontsURL:z,preResolvedFonts:Z=null,includeCaretPositions:ne=!1,chunkedBoundsSize:M=8192,colorRanges:B=null},g){const T=f(),F={fontLoad:0,typesetting:0};p.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),p=p.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),w=+w,_=+_,C=+C,A=A||"normal",D=+D,n({text:p,lang:v,style:S,weight:y,fonts:typeof m=="string"?[{src:m}]:m,unicodeFontsURL:z,preResolvedFonts:Z},P=>{F.fontLoad=f()-T;const U=isFinite(C);let j=null,L=null,N=null,X=null,ee=null,H=null,V=null,ye=null,de=0,K=0,te=J!=="nowrap";const ue=new Map,W=f();let re=D,$=0,I=new d;const pe=[I];P.forEach(ae=>{const{fontObj:ie}=ae,{ascender:fe,descender:ve,unitsPerEm:Ue,lineGap:Re,capHeight:be,xHeight:Se}=ie;let ce=ue.get(ie);if(!ce){const he=w/Ue,Ce=A==="normal"?(fe-ve+Re)*he:A*w,tt=(Ce-(fe-ve)*he)/2,_e=Math.min(Ce,(fe-ve)*he),we=(fe+ve)/2*he+_e/2;ce={index:ue.size,src:ie.src,fontObj:ie,fontSizeMult:he,unitsPerEm:Ue,ascender:fe*he,descender:ve*he,capHeight:be*he,xHeight:Se*he,lineHeight:Ce,baseline:-tt-fe*he,caretTop:we,caretBottom:we-_e},ue.set(ie,ce)}const{fontSizeMult:Pe}=ce,Ee=p.slice(ae.start,ae.end+1);let Ge,ke;ie.forEachGlyph(Ee,w,_,(he,Ce,tt,_e)=>{Ce+=$,_e+=ae.start,Ge=Ce,ke=he;const we=p.charAt(_e),De=he.advanceWidth*Pe,Ae=I.count;let ge;if("isEmpty"in he||(he.isWhitespace=!!we&&new RegExp(t).test(we),he.canBreakAfter=!!we&&e.test(we),he.isEmpty=he.xMin===he.xMax||he.yMin===he.yMax||l.test(we)),!he.isWhitespace&&!he.isEmpty&&K++,te&&U&&!he.isWhitespace&&Ce+De+re>C&&Ae){if(I.glyphAt(Ae-1).glyphObj.canBreakAfter)ge=new d,re=-Ce;else for(let Me=Ae;Me--;)if(Me===0&&b==="break-word"){ge=new d,re=-Ce;break}else if(I.glyphAt(Me).glyphObj.canBreakAfter){ge=I.splitAt(Me+1);const Ie=ge.glyphAt(0).x;re-=Ie;for(let Le=ge.count;Le--;)ge.glyphAt(Le).x-=Ie;break}ge&&(I.isSoftWrapped=!0,I=ge,pe.push(I),de=C)}let Fe=I.glyphAt(I.count);Fe.glyphObj=he,Fe.x=Ce+re,Fe.y=tt,Fe.width=De,Fe.charIndex=_e,Fe.fontData=ce,we===`
`&&(I=new d,pe.push(I),re=-(Ce+De+_*w)+D)}),$=Ge+ke.advanceWidth*Pe+_*w});let Y=0;pe.forEach(ae=>{let ie=!0;for(let fe=ae.count;fe--;){const ve=ae.glyphAt(fe);ie&&!ve.glyphObj.isWhitespace&&(ae.width=ve.x+ve.width,ae.width>de&&(de=ae.width),ie=!1);let{lineHeight:Ue,capHeight:Re,xHeight:be,baseline:Se}=ve.fontData;Ue>ae.lineHeight&&(ae.lineHeight=Ue);const ce=Se-ae.baseline;ce<0&&(ae.baseline+=ce,ae.cap+=ce,ae.ex+=ce),ae.cap=Math.max(ae.cap,ae.baseline+Re),ae.ex=Math.max(ae.ex,ae.baseline+be)}ae.baseline-=Y,ae.cap-=Y,ae.ex-=Y,Y+=ae.lineHeight});let oe=0,q=0;if(O&&(typeof O=="number"?oe=-O:typeof O=="string"&&(oe=-de*(O==="left"?0:O==="center"?.5:O==="right"?1:s(O)))),R&&(typeof R=="number"?q=-R:typeof R=="string"&&(q=R==="top"?0:R==="top-baseline"?-pe[0].baseline:R==="top-cap"?-pe[0].cap:R==="top-ex"?-pe[0].ex:R==="middle"?Y/2:R==="bottom"?Y:R==="bottom-baseline"?-pe[pe.length-1].baseline:s(R)*Y)),!Q){const ae=r.getEmbeddingLevels(p,x);j=new Uint16Array(K),L=new Uint8Array(K),N=new Float32Array(K*2),X={},V=[1/0,1/0,-1/0,-1/0],ye=[],ne&&(H=new Float32Array(p.length*4)),B&&(ee=new Uint8Array(K*3));let ie=0,fe=-1,ve=-1,Ue,Re;if(pe.forEach((be,Se)=>{let{count:ce,width:Pe}=be;if(ce>0){let Ee=0;for(let _e=ce;_e--&&be.glyphAt(_e).glyphObj.isWhitespace;)Ee++;let Ge=0,ke=0;if(G==="center")Ge=(de-Pe)/2;else if(G==="right")Ge=de-Pe;else if(G==="justify"&&be.isSoftWrapped){let _e=0;for(let we=ce-Ee;we--;)be.glyphAt(we).glyphObj.isWhitespace&&_e++;ke=(de-Pe)/_e}if(ke||Ge){let _e=0;for(let we=0;we<ce;we++){let De=be.glyphAt(we);const Ae=De.glyphObj;De.x+=Ge+_e,ke!==0&&Ae.isWhitespace&&we<ce-Ee&&(_e+=ke,De.width+=ke)}}const he=r.getReorderSegments(p,ae,be.glyphAt(0).charIndex,be.glyphAt(be.count-1).charIndex);for(let _e=0;_e<he.length;_e++){const[we,De]=he[_e];let Ae=1/0,ge=-1/0;for(let Fe=0;Fe<ce;Fe++)if(be.glyphAt(Fe).charIndex>=we){let Me=Fe,Ie=Fe;for(;Ie<ce;Ie++){let Le=be.glyphAt(Ie);if(Le.charIndex>De)break;Ie<ce-Ee&&(Ae=Math.min(Ae,Le.x),ge=Math.max(ge,Le.x+Le.width))}for(let Le=Me;Le<Ie;Le++){const Qe=be.glyphAt(Le);Qe.x=ge-(Qe.x+Qe.width-Ae)}break}}let Ce;const tt=_e=>Ce=_e;for(let _e=0;_e<ce;_e++){const we=be.glyphAt(_e);Ce=we.glyphObj;const De=Ce.index,Ae=ae.levels[we.charIndex]&1;if(Ae){const ge=r.getMirroredCharacter(p[we.charIndex]);ge&&we.fontData.fontObj.forEachGlyph(ge,0,0,tt)}if(ne){const{charIndex:ge,fontData:Fe}=we,Me=we.x+oe,Ie=we.x+we.width+oe;H[ge*4]=Ae?Ie:Me,H[ge*4+1]=Ae?Me:Ie,H[ge*4+2]=be.baseline+Fe.caretBottom+q,H[ge*4+3]=be.baseline+Fe.caretTop+q;const Le=ge-fe;Le>1&&u(H,fe,Le),fe=ge}if(B){const{charIndex:ge}=we;for(;ge>ve;)ve++,B.hasOwnProperty(ve)&&(Re=B[ve])}if(!Ce.isWhitespace&&!Ce.isEmpty){const ge=ie++,{fontSizeMult:Fe,src:Me,index:Ie}=we.fontData,Le=X[Me]||(X[Me]={});Le[De]||(Le[De]={path:Ce.path,pathBounds:[Ce.xMin,Ce.yMin,Ce.xMax,Ce.yMax]});const Qe=we.x+oe,rt=we.y+be.baseline+q;N[ge*2]=Qe,N[ge*2+1]=rt;const Ze=Qe+Ce.xMin*Fe,nt=rt+Ce.yMin*Fe,lt=Qe+Ce.xMax*Fe,$e=rt+Ce.yMax*Fe;Ze<V[0]&&(V[0]=Ze),nt<V[1]&&(V[1]=nt),lt>V[2]&&(V[2]=lt),$e>V[3]&&(V[3]=$e),ge%M===0&&(Ue={start:ge,end:ge,rect:[1/0,1/0,-1/0,-1/0]},ye.push(Ue)),Ue.end++;const Ne=Ue.rect;if(Ze<Ne[0]&&(Ne[0]=Ze),nt<Ne[1]&&(Ne[1]=nt),lt>Ne[2]&&(Ne[2]=lt),$e>Ne[3]&&(Ne[3]=$e),j[ge]=De,L[ge]=Ie,B){const ut=ge*3;ee[ut]=Re>>16&255,ee[ut+1]=Re>>8&255,ee[ut+2]=Re&255}}}}}),H){const be=p.length-fe;be>1&&u(H,fe,be)}}const Te=[];ue.forEach(({index:ae,src:ie,unitsPerEm:fe,ascender:ve,descender:Ue,lineHeight:Re,capHeight:be,xHeight:Se})=>{Te[ae]={src:ie,unitsPerEm:fe,ascender:ve,descender:Ue,lineHeight:Re,capHeight:be,xHeight:Se}}),F.typesetting=f()-W,g({glyphIds:j,glyphFontIndices:L,glyphPositions:N,glyphData:X,fontData:Te,caretPositions:H,glyphColors:ee,chunkedBounds:ye,fontSize:w,topBaseline:q+pe[0].baseline,blockBounds:[oe,q-Y,oe+de,q],visibleBounds:V,timings:F})})}function i(p,m){o({...p,metricsOnly:!0},v=>{const[E,w,y,S]=v.blockBounds;m({width:y-E,height:S-w})})}function s(p){let m=p.match(/^([\d.]+)%$/),v=m?parseFloat(m[1]):NaN;return isNaN(v)?0:v/100}function u(p,m,v){const E=p[m*4],w=p[m*4+1],y=p[m*4+2],S=p[m*4+3],_=(w-E)/v;for(let A=0;A<v;A++){const C=(m+A)*4;p[C]=E+_*A,p[C+1]=E+_*(A+1),p[C+2]=y,p[C+3]=S}}function f(){return(self.performance||Date).now()}function d(){this.data=[]}const h=["glyphObj","x","y","width","charIndex","fontData"];return d.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/h.length)},glyphAt(p){let m=d.flyweight;return m.data=this.data,m.index=p,m},splitAt(p){let m=new d;return m.data=this.data.splice(p*h.length),m}},d.flyweight=h.reduce((p,m,v,E)=>(Object.defineProperty(p,m,{get(){return this.data[this.index*h.length+v]},set(w){this.data[this.index*h.length+v]=w}}),p),{data:null,index:0}),{typeset:o,measure:i}}const dt=()=>(self.performance||Date).now(),hr=Ra();let ra;function Mi(a,r,c,l,t,e,n,o,i,s,u=!0){return u?Gi(a,r,c,l,t,e,n,o,i,s).then(null,f=>(ra||(console.warn("WebGL SDF generation failed, falling back to JS",f),ra=!0),aa(a,r,c,l,t,e,n,o,i,s))):aa(a,r,c,l,t,e,n,o,i,s)}const ir=[],Ni=5;let $r=0;function Da(){const a=dt();for(;ir.length&&dt()-a<Ni;)ir.shift()();$r=ir.length?setTimeout(Da,0):0}const Gi=(...a)=>new Promise((r,c)=>{ir.push(()=>{const l=dt();try{hr.webgl.generateIntoCanvas(...a),r({timing:dt()-l})}catch(t){c(t)}}),$r||($r=setTimeout(Da,0))}),ji=4,Vi=2e3,na={};let zi=0;function aa(a,r,c,l,t,e,n,o,i,s){const u="TroikaTextSDFGenerator_JS_"+zi++%ji;let f=na[u];return f||(f=na[u]={workerModule:Tt({name:u,workerId:u,dependencies:[Ra,dt],init(d,h){const p=d().javascript.generate;return function(...m){const v=h();return{textureData:p(...m),timing:h()-v}}},getTransferables(d){return[d.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(a,r,c,l,t,e).then(({textureData:d,timing:h})=>{const p=dt(),m=new Uint8Array(d.length*4);for(let v=0;v<d.length;v++)m[v*4+s]=d[v];return hr.webglUtils.renderImageData(n,m,o,i,a,r,1<<3-s),h+=dt()-p,--f.requests===0&&(f.idleTimer=setTimeout(()=>{Si(u)},Vi)),{timing:h}})}function Wi(a){a._warm||(hr.webgl.isSupported(a),a._warm=!0)}const Hi=hr.webglUtils.resizeWebGLCanvasWithoutClearing,St={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},Qi=new dr;function bt(){return(self.performance||Date).now()}const oa=Object.create(null);function Oa(a,r){a=Ji({},a);const c=bt(),{defaultFontURL:l}=St,t=[];if(l&&t.push({label:"default",src:ia(l)}),a.font&&t.push({label:"user",src:ia(a.font)}),a.font=t,a.text=""+a.text,a.sdfGlyphSize=a.sdfGlyphSize||St.sdfGlyphSize,a.unicodeFontsURL=a.unicodeFontsURL||St.unicodeFontsURL,a.colorRanges!=null){let d={};for(let h in a.colorRanges)if(a.colorRanges.hasOwnProperty(h)){let p=a.colorRanges[h];typeof p!="number"&&(p=Qi.set(p).getHex()),d[h]=p}a.colorRanges=d}Object.freeze(a);const{textureWidth:e,sdfExponent:n}=St,{sdfGlyphSize:o}=a,i=e/o*4;let s=oa[o];if(!s){const d=document.createElement("canvas");d.width=e,d.height=o*256/i,s=oa[o]={glyphCount:0,sdfGlyphSize:o,sdfCanvas:d,sdfTexture:new qr(d,void 0,void 0,void 0,ur,ur),contextLost:!1,glyphsByFont:new Map},s.sdfTexture.generateMipmaps=!1,Xi(s)}const{sdfTexture:u,sdfCanvas:f}=s;Ki(a).then(d=>{const{glyphIds:h,glyphFontIndices:p,fontData:m,glyphPositions:v,fontSize:E,timings:w}=d,y=[],S=new Float32Array(h.length*4);let _=0,A=0;const C=bt(),x=m.map(O=>{let R=s.glyphsByFont.get(O.src);return R||s.glyphsByFont.set(O.src,R=new Map),R});h.forEach((O,R)=>{const Q=p[R],{src:z,unitsPerEm:Z}=m[Q];let ne=x[Q].get(O);if(!ne){const{path:F,pathBounds:P}=d.glyphData[z][O],U=Math.max(P[2]-P[0],P[3]-P[1])/o*(St.sdfMargin*o+.5),j=s.glyphCount++,L=[P[0]-U,P[1]-U,P[2]+U,P[3]+U];x[Q].set(O,ne={path:F,atlasIndex:j,sdfViewBox:L}),y.push(ne)}const{sdfViewBox:M}=ne,B=v[A++],g=v[A++],T=E/Z;S[_++]=B+M[0]*T,S[_++]=g+M[1]*T,S[_++]=B+M[2]*T,S[_++]=g+M[3]*T,h[R]=ne.atlasIndex}),w.quads=(w.quads||0)+(bt()-C);const G=bt();w.sdf={};const D=f.height,J=Math.ceil(s.glyphCount/i),b=Math.pow(2,Math.ceil(Math.log2(J*o)));b>D&&(console.info(`Increasing SDF texture size ${D}->${b}`),Hi(f,e,b),u.dispose()),Promise.all(y.map(O=>La(O,s,a.gpuAccelerateSDF).then(({timing:R})=>{w.sdf[O.atlasIndex]=R}))).then(()=>{y.length&&!s.contextLost&&(Ba(s),u.needsUpdate=!0),w.sdfTotal=bt()-G,w.total=bt()-c,r(Object.freeze({parameters:a,sdfTexture:u,sdfGlyphSize:o,sdfExponent:n,glyphBounds:S,glyphAtlasIndices:h,glyphColors:d.glyphColors,caretPositions:d.caretPositions,chunkedBounds:d.chunkedBounds,ascender:d.ascender,descender:d.descender,lineHeight:d.lineHeight,capHeight:d.capHeight,xHeight:d.xHeight,topBaseline:d.topBaseline,blockBounds:d.blockBounds,visibleBounds:d.visibleBounds,timings:d.timings}))})}),Promise.resolve().then(()=>{s.contextLost||Wi(f)})}function La({path:a,atlasIndex:r,sdfViewBox:c},{sdfGlyphSize:l,sdfCanvas:t,contextLost:e},n){if(e)return Promise.resolve({timing:-1});const{textureWidth:o,sdfExponent:i}=St,s=Math.max(c[2]-c[0],c[3]-c[1]),u=Math.floor(r/4),f=u%(o/l)*l,d=Math.floor(u/(o/l))*l,h=r%4;return Mi(l,l,a,c,s,i,t,f,d,h,n)}function Xi(a){const r=a.sdfCanvas;r.addEventListener("webglcontextlost",c=>{console.log("Context Lost",c),c.preventDefault(),a.contextLost=!0}),r.addEventListener("webglcontextrestored",c=>{console.log("Context Restored",c),a.contextLost=!1;const l=[];a.glyphsByFont.forEach(t=>{t.forEach(e=>{l.push(La(e,a,!0))})}),Promise.all(l).then(()=>{Ba(a),a.sdfTexture.needsUpdate=!0})})}function qi({font:a,characters:r,sdfGlyphSize:c},l){let t=Array.isArray(r)?r.join(`
`):""+r;Oa({font:a,sdfGlyphSize:c,text:t},l)}function Ji(a,r){for(let c in r)r.hasOwnProperty(c)&&(a[c]=r[c]);return a}let nr;function ia(a){return nr||(nr=typeof document>"u"?{}:document.createElement("a")),nr.href=a,nr.href}function Ba(a){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:r,sdfTexture:c}=a,{width:l,height:t}=r,e=a.sdfCanvas.getContext("webgl");let n=c.image.data;(!n||n.length!==l*t*4)&&(n=new Uint8Array(l*t*4),c.image={width:l,height:t,data:n},c.flipY=!1,c.isDataTexture=!0),e.readPixels(0,0,l,t,e.RGBA,e.UNSIGNED_BYTE,n)}}const Yi=Tt({name:"Typesetter",dependencies:[Ii,Bi,Ti],init(a,r,c){return a(r,c())}}),Ki=Tt({name:"Typesetter",dependencies:[Yi],init(a){return function(r){return new Promise(c=>{a.typeset(r,c)})}},getTransferables(a){const r=[];for(let c in a)a[c]&&a[c].buffer&&r.push(a[c].buffer);return r}}),sa={};function Zi(a){let r=sa[a];if(!r){const c=new fn(1,1,a,a),l=c.clone(),t=c.attributes,e=l.attributes,n=new Io,o=t.uv.count;for(let i=0;i<o;i++)e.position.array[i*3]*=-1,e.normal.array[i*3+2]*=-1;["position","normal","uv"].forEach(i=>{n.setAttribute(i,new Mo([...t[i].array,...e[i].array],t[i].itemSize))}),n.setIndex([...c.index.array,...l.index.array.map(i=>i+o)]),n.translate(.5,.5,0),r=sa[a]=n}return r}const $i="aTroikaGlyphBounds",la="aTroikaGlyphIndex",es="aTroikaGlyphColor";class ts extends Ao{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Fo,this.boundingBox=new Ro}computeBoundingSphere(){}computeBoundingBox(){}setSide(r){const c=this.getIndex().count;this.setDrawRange(r===Po?c/2:0,r===un?c:c/2)}set detail(r){if(r!==this._detail){this._detail=r,(typeof r!="number"||r<1)&&(r=1);let c=Zi(r);["position","normal","uv"].forEach(l=>{this.attributes[l]=c.attributes[l].clone()}),this.setIndex(c.getIndex().clone())}}get detail(){return this._detail}set curveRadius(r){r!==this._curveRadius&&(this._curveRadius=r,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(r,c,l,t,e){Gr(this,$i,r,4),Gr(this,la,c,1),Gr(this,es,e,3),this._blockBounds=l,this._chunkedBounds=t,this.instanceCount=c.length,this._updateBounds()}_updateBounds(){const r=this._blockBounds;if(r){const{curveRadius:c,boundingBox:l}=this;if(c){const{PI:t,floor:e,min:n,max:o,sin:i,cos:s}=Math,u=t/2,f=t*2,d=Math.abs(c),h=r[0]/d,p=r[2]/d,m=e((h+u)/f)!==e((p+u)/f)?-d:n(i(h)*d,i(p)*d),v=e((h-u)/f)!==e((p-u)/f)?d:o(i(h)*d,i(p)*d),E=e((h+t)/f)!==e((p+t)/f)?d*2:o(d-s(h)*d,d-s(p)*d);l.min.set(m,r[1],c<0?-E:0),l.max.set(v,r[3],c<0?0:E)}else l.min.set(r[0],r[1],0),l.max.set(r[2],r[3],0);l.getBoundingSphere(this.boundingSphere)}}applyClipRect(r){let c=this.getAttribute(la).count,l=this._chunkedBounds;if(l)for(let t=l.length;t--;){c=l[t].end;let e=l[t].rect;if(e[1]<r.w&&e[3]>r.y&&e[0]<r.z&&e[2]>r.x)break}this.instanceCount=c}}function Gr(a,r,c,l){const t=a.getAttribute(r);c?t&&t.array.length===c.length?(t.array.set(c),t.needsUpdate=!0):(a.setAttribute(r,new Do(c,l)),delete a._maxInstanceCount,a.dispose()):t&&a.deleteAttribute(r)}const rs=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,ns=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,as=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,os=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function is(a){const r=Zr(a,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new wt},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Wn(0,0,0,0)},uTroikaClipRect:{value:new Wn(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new wt},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new dr},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Oo},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:rs,vertexTransform:ns,fragmentDefs:as,fragmentColorTransform:os,customRewriter({vertexShader:c,fragmentShader:l}){let t=/\buniform\s+vec3\s+diffuse\b/;return t.test(l)&&(l=l.replace(t,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),t.test(c)||(c=c.replace(Pa,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:c,fragmentShader:l}}});return r.transparent=!0,Object.defineProperties(r,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),r}const mn=new Lo({color:16777215,side:un,transparent:!0}),ua=8421504,ca=new Bo,ar=new cn,jr=new cn,Lt=[],ss=new cn,Vr="+x+y";function fa(a){return Array.isArray(a)?a[0]:a}let Ia=()=>{const a=new ln(new fn(1,1),mn);return Ia=()=>a,a},Ma=()=>{const a=new ln(new fn(1,1,32,1),mn);return Ma=()=>a,a};const ls={type:"syncstart"},us={type:"synccomplete"},Na=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],cs=Na.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Ga=class extends ln{constructor(){const r=new ts;super(r,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=ua,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=Vr,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(r){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(r):(this._isSyncing=!0,this.dispatchEvent(ls),Oa({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},c=>{this._isSyncing=!1,this._textRenderInfo=c,this.geometry.updateGlyphs(c.glyphBounds,c.glyphAtlasIndices,c.blockBounds,c.chunkedBounds,c.glyphColors);const l=this._queuedSyncs;l&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{l.forEach(t=>t&&t())})),this.dispatchEvent(us),r&&r()})))}onBeforeRender(r,c,l,t,e,n){this.sync(),e.isTroikaTextMaterial&&this._prepareForRender(e),e._hadOwnSide=e.hasOwnProperty("side"),this.geometry.setSide(e._actualSide=e.side),e.side=Eo}onAfterRender(r,c,l,t,e,n){e._hadOwnSide?e.side=e._actualSide:delete e.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let r=this._derivedMaterial;const c=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=mn.clone());if((!r||r.baseMaterial!==c)&&(r=this._derivedMaterial=is(c),c.addEventListener("dispose",function l(){c.removeEventListener("dispose",l),r.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let l=r._outlineMtl;return l||(l=r._outlineMtl=Object.create(r,{id:{value:r.id+.1}}),l.isTextOutlineMaterial=!0,l.depthWrite=!1,l.map=null,r.addEventListener("dispose",function t(){r.removeEventListener("dispose",t),l.dispose()})),[l,r]}else return r}set material(r){r&&r.isTroikaTextMaterial?(this._derivedMaterial=r,this._baseMaterial=r.baseMaterial):this._baseMaterial=r}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(r){this.geometry.detail=r}get curveRadius(){return this.geometry.curveRadius}set curveRadius(r){this.geometry.curveRadius=r}get customDepthMaterial(){return fa(this.material).getDepthMaterial()}get customDistanceMaterial(){return fa(this.material).getDistanceMaterial()}_prepareForRender(r){const c=r.isTextOutlineMaterial,l=r.uniforms,t=this.textRenderInfo;if(t){const{sdfTexture:o,blockBounds:i}=t;l.uTroikaSDFTexture.value=o,l.uTroikaSDFTextureSize.value.set(o.image.width,o.image.height),l.uTroikaSDFGlyphSize.value=t.sdfGlyphSize,l.uTroikaSDFExponent.value=t.sdfExponent,l.uTroikaTotalBounds.value.fromArray(i),l.uTroikaUseGlyphColors.value=!c&&!!t.glyphColors;let s=0,u=0,f=0,d,h,p,m=0,v=0;if(c){let{outlineWidth:w,outlineOffsetX:y,outlineOffsetY:S,outlineBlur:_,outlineOpacity:A}=this;s=this._parsePercent(w)||0,u=Math.max(0,this._parsePercent(_)||0),d=A,m=this._parsePercent(y)||0,v=this._parsePercent(S)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(p=this.strokeColor,l.uTroikaStrokeColor.value.set(p??ua),h=this.strokeOpacity,h==null&&(h=1)),d=this.fillOpacity;l.uTroikaDistanceOffset.value=s,l.uTroikaPositionOffset.value.set(m,v),l.uTroikaBlurRadius.value=u,l.uTroikaStrokeWidth.value=f,l.uTroikaStrokeOpacity.value=h,l.uTroikaFillOpacity.value=d??1,l.uTroikaCurveRadius.value=this.curveRadius||0;let E=this.clipRect;if(E&&Array.isArray(E)&&E.length===4)l.uTroikaClipRect.value.fromArray(E);else{const w=(this.fontSize||.1)*100;l.uTroikaClipRect.value.set(i[0]-w,i[1]-w,i[2]+w,i[3]+w)}this.geometry.applyClipRect(l.uTroikaClipRect.value)}l.uTroikaSDFDebug.value=!!this.debugSDF,r.polygonOffset=!!this.depthOffset,r.polygonOffsetFactor=r.polygonOffsetUnits=this.depthOffset||0;const e=c?this.outlineColor||0:this.color;if(e==null)delete r.color;else{const o=r.hasOwnProperty("color")?r.color:r.color=new dr;(e!==o._input||typeof e=="object")&&o.set(o._input=e)}let n=this.orientation||Vr;if(n!==r._orientation){let o=l.uTroikaOrient.value;n=n.replace(/[^-+xyz]/g,"");let i=n!==Vr&&n.match(/^([-+])([xyz])([-+])([xyz])$/);if(i){let[,s,u,f,d]=i;ar.set(0,0,0)[u]=s==="-"?1:-1,jr.set(0,0,0)[d]=f==="-"?-1:1,ca.lookAt(ss,ar.cross(jr),jr),o.setFromMatrix4(ca)}else o.identity();r._orientation=n}}_parsePercent(r){if(typeof r=="string"){let c=r.match(/^(-?[\d.]+)%$/),l=c?parseFloat(c[1]):NaN;r=(isNaN(l)?0:l/100)*this.fontSize}return r}localPositionToTextCoords(r,c=new wt){c.copy(r);const l=this.curveRadius;return l&&(c.x=Math.atan2(r.x,Math.abs(l)-Math.abs(r.z))*Math.abs(l)),c}worldPositionToTextCoords(r,c=new wt){return ar.copy(r),this.localPositionToTextCoords(this.worldToLocal(ar),c)}raycast(r,c){const{textRenderInfo:l,curveRadius:t}=this;if(l){const e=l.blockBounds,n=t?Ma():Ia(),o=n.geometry,{position:i,uv:s}=o.attributes;for(let u=0;u<s.count;u++){let f=e[0]+s.getX(u)*(e[2]-e[0]);const d=e[1]+s.getY(u)*(e[3]-e[1]);let h=0;t&&(h=t-Math.cos(f/t)*t,f=Math.sin(f/t)*t),i.setXYZ(u,f,d,h)}o.boundingSphere=this.geometry.boundingSphere,o.boundingBox=this.geometry.boundingBox,n.matrixWorld=this.matrixWorld,n.material.side=this.material.side,Lt.length=0,n.raycast(r,Lt);for(let u=0;u<Lt.length;u++)Lt[u].object=this,c.push(Lt[u])}}copy(r){const c=this.geometry;return super.copy(r),this.geometry=c,cs.forEach(l=>{this[l]=r[l]}),this}clone(){return new this.constructor().copy(this)}};Na.forEach(a=>{const r="_private_"+a;Object.defineProperty(Ga.prototype,a,{get(){return this[r]},set(c){c!==this[r]&&(this[r]=c,this._needsSync=!0)}})});const ja=le.forwardRef(({sdfGlyphSize:a=64,anchorX:r="center",anchorY:c="middle",font:l,fontSize:t=1,children:e,characters:n,onSync:o,...i},s)=>{const u=st(({invalidate:p})=>p),[f]=le.useState(()=>new Ga),[d,h]=le.useMemo(()=>{const p=[];let m="";return le.Children.forEach(e,v=>{typeof v=="string"||typeof v=="number"?m+=v:p.push(v)}),[p,m]},[e]);return No(()=>new Promise(p=>qi({font:l,characters:n},p)),["troika-text",l,n]),le.useLayoutEffect(()=>void f.sync(()=>{u(),o&&o(f)})),le.useEffect(()=>()=>f.dispose(),[f]),le.createElement("primitive",et({object:f,ref:s,font:l,text:h,anchorX:r,anchorY:c,fontSize:t,sdfGlyphSize:a},i),d)});function fs(a,r,c,l){const t=class extends jo{constructor(n={}){const o=Object.entries(a);super({uniforms:o.reduce((i,[s,u])=>{const f=Ea.clone({[s]:{value:u}});return{...i,...f}},{}),vertexShader:r,fragmentShader:c}),this.key="",o.forEach(([i])=>Object.defineProperty(this,i,{get:()=>this.uniforms[i].value,set:s=>this.uniforms[i].value=s})),Object.assign(this,n)}};return t.key=Go.generateUUID(),t}const zr=a=>a===Object(a)&&!Array.isArray(a)&&typeof a!="function";function vn(a,r){const c=st(e=>e.gl),l=dn(hn,zr(a)?Object.values(a):a);return le.useLayoutEffect(()=>{r==null||r(l)},[r]),le.useEffect(()=>{if("initTexture"in c){let e=[];Array.isArray(l)?e=l:l instanceof qr?e=[l]:zr(l)&&(e=Object.values(l)),e.forEach(n=>{n instanceof qr&&c.initTexture(n)})}},[c,l]),le.useMemo(()=>{if(zr(a)){const e={};let n=0;for(const o in a)e[o]=l[n++];return e}else return l},[a,l])}vn.preload=a=>dn.preload(hn,a);vn.clear=a=>dn.clear(hn,a);const ds=()=>parseInt(Vo.replace(/\D+/g,"")),hs=ds(),da=fs({color:new dr("white"),scale:new wt(1,1),imageBounds:new wt(1,1),resolution:1024,map:null,zoom:1,radius:0,grayscale:0,opacity:1},`
  varying vec2 vUv;
  varying vec2 vPos;
  void main() {
    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
    vUv = uv;
    vPos = position.xy;
  }
`,`
  // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44
  varying vec2 vUv;
  varying vec2 vPos;
  uniform vec2 scale;
  uniform vec2 imageBounds;
  uniform float resolution;
  uniform vec3 color;
  uniform sampler2D map;
  uniform float radius;
  uniform float zoom;
  uniform float grayscale;
  uniform float opacity;
  const vec3 luma = vec3(.299, 0.587, 0.114);
  vec4 toGrayscale(vec4 color, float intensity) {
    return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);
  }
  vec2 aspect(vec2 size) {
    return size / min(size.x, size.y);
  }
  
  const float PI = 3.14159265;
    
  // from https://iquilezles.org/articles/distfunctions
  float udRoundBox( vec2 p, vec2 b, float r ) {
    return length(max(abs(p)-b+r,0.0))-r;
  }

  void main() {
    vec2 s = aspect(scale);
    vec2 i = aspect(imageBounds);
    float rs = s.x / s.y;
    float ri = i.x / i.y;
    vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);
    vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;
    vec2 uv = vUv * s / new + offset;
    vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);

    vec2 res = vec2(scale * resolution);
    vec2 halfRes = 0.5 * res;
    float b = udRoundBox(vUv.xy * res - halfRes, halfRes, resolution * radius);    
	  vec3 a = mix(vec3(1.0,0.0,0.0), vec3(0.0,0.0,0.0), smoothstep(0.0, 1.0, b));
    gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, opacity * a), grayscale);
    
    #include <tonemapping_fragment>
    #include <${hs>=154?"colorspace_fragment":"encodings_fragment"}>
  }
`),Va=le.forwardRef(({children:a,color:r,segments:c=1,scale:l=1,zoom:t=1,grayscale:e=0,opacity:n=1,radius:o=0,texture:i,toneMapped:s,transparent:u,side:f,...d},h)=>{zo({ImageMaterial:da});const p=le.useRef(null),m=st(y=>y.size),v=Array.isArray(l)?[l[0],l[1]]:[l,l],E=[i.image.width,i.image.height],w=Math.max(m.width,m.height);return le.useImperativeHandle(h,()=>p.current,[]),le.useLayoutEffect(()=>{p.current.geometry.parameters&&p.current.material.scale.set(v[0]*p.current.geometry.parameters.width,v[1]*p.current.geometry.parameters.height)},[]),le.createElement("mesh",et({ref:p,scale:Array.isArray(l)?[...l,1]:l},d),le.createElement("planeGeometry",{args:[1,1,c,c]}),le.createElement("imageMaterial",{color:r,map:i,zoom:t,grayscale:e,opacity:n,scale:v,imageBounds:E,resolution:w,radius:o,toneMapped:s,transparent:u,side:f,key:da.key}),a)}),ps=le.forwardRef(({url:a,...r},c)=>{const l=vn(a);return le.createElement(Va,et({},r,{texture:l,ref:c}))}),ms=le.forwardRef(({url:a,...r},c)=>le.createElement(Va,et({},r,{ref:c}))),vs=le.forwardRef((a,r)=>{if(a.url)return le.createElement(ps,et({},a,{ref:r}));if(a.texture)return le.createElement(ms,et({},a,{ref:r}));throw new Error("<Image /> requires a url or texture")});function gs(a,r,c){const l=st(d=>d.size),t=st(d=>d.viewport),e=typeof a=="number"?a:l.width*t.dpr,n=l.height*t.dpr,o=(typeof a=="number"?c:a)||{},{samples:i=0,depth:s,...u}=o,f=le.useMemo(()=>{const d=new Wo(e,n,{minFilter:ur,magFilter:ur,type:Ho,...u});return s&&(d.depthTexture=new Qo(e,n,Xo)),d.samples=i,d},[]);return le.useLayoutEffect(()=>{f.setSize(e,n),i&&(f.samples=i)},[i,f,e,n]),le.useEffect(()=>()=>f.dispose(),[]),f}const ys=a=>typeof a=="function",bs=le.forwardRef(({envMap:a,resolution:r=256,frames:c=1/0,makeDefault:l,children:t,...e},n)=>{const o=st(({set:v})=>v),i=st(({camera:v})=>v),s=st(({size:v})=>v),u=le.useRef(null);le.useImperativeHandle(n,()=>u.current,[]);const f=le.useRef(null),d=gs(r);le.useLayoutEffect(()=>{e.manual||(u.current.aspect=s.width/s.height)},[s,e]),le.useLayoutEffect(()=>{u.current.updateProjectionMatrix()});let h=0,p=null;const m=ys(t);return Aa(v=>{m&&(c===1/0||h<c)&&(f.current.visible=!1,v.gl.setRenderTarget(d),p=v.scene.background,a&&(v.scene.background=a),v.gl.render(v.scene,u.current),v.scene.background=p,v.gl.setRenderTarget(null),f.current.visible=!0,h++)}),le.useLayoutEffect(()=>{if(l){const v=i;return o(()=>({camera:u.current})),()=>o(()=>({camera:v}))}},[u,l,o]),le.createElement(le.Fragment,null,le.createElement("perspectiveCamera",et({ref:u},e),!m&&t),le.createElement("group",{ref:f},m&&t(d.texture)))}),Ss=[{id:3977,title:"2024년 6월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_3977/1719471986_115000.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"7시간 47분",isLatelyIssue:!0,isPaid:!1,isPublished:!0,isNew:!0,publishAt:"2024-06-30 16:58:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:0},{id:3948,title:"2024년 5월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_3948/1717052282_345200.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"7시간 56분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2024-05-31 17:03:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:3897,title:"2024년 4월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_3897/1714381002_251700.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"7시간 29분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2024-04-30 17:22:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:3831,title:"2024년 3월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_3831/1710999648_118700.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"8시간 5분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2024-03-31 16:53:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:3826,title:"2024년 2월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_3826/1709025517_998800.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"7시간 14분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2024-02-29 17:00:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:3796,title:"2024년 1월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_3796/1706597198_884600.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"9시간 37분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2024-01-31 17:26:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:3729,title:"2023년 12월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_3729/1703745211_003500.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"7시간 47분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2023-12-31 15:28:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:3701,title:"2023년 11월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_3701/1701248500_276900.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"8시간 25분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2023-11-30 16:59:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:3633,title:"2023년 10월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_3633/1698372891_189100.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"7시간 58분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2023-10-31 16:56:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:3584,title:"2023년 9월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_3584/1695698437_535500.jpeg?w=750&h=1000",episodeTotalCount:9,episodeTotalDuration:"8시간 22분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2023-09-30 15:40:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:3556,title:"2023년 8월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_3556/1693383736_550100.jpeg?w=750&h=1000",episodeTotalCount:9,episodeTotalDuration:"7시간 18분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2023-08-31 17:03:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:3494,title:"2023년 7월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_3494/1690775490_313000.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"7시간 58분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2023-07-31 17:03:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:3463,title:"2023년 6월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_3463/1688112959_100000.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"8시간 9분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2023-06-30 17:11:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:3419,title:"2023년 5월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_3419/1685423396_356800.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"8시간 6분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2023-05-31 16:55:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:3355,title:"2023년 4월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_3355/1682835955_602300.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"7시간 59분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2023-04-30 17:11:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:3311,title:"2023년 3월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_3311/1680083322_324600.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"7시간 33분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2023-03-31 16:12:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:3244,title:"2023년 2월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_3244/1677584469_040000.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"8시간 12분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2023-02-28 17:17:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:3158,title:"2023년 1월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_3158/1675137491_401000.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"7시간 49분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2023-01-31 17:09:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:3098,title:"2022년 12월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_3098/1672303078_369200.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"8시간 11분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2022-12-31 11:15:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:3042,title:"2022년 11월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_3042/1669794867_745700.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"7시간 40분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2022-11-30 17:07:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:2999,title:"2022년 10월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_2999/1666935630_536200.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"7시간 59분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2022-10-31 17:12:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:2933,title:"2022년 9월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_2933/1664512964_784500.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"8시간 6분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2022-09-30 14:43:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:2886,title:"2022년 8월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_2886/1661748194_227400.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"8시간 6분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2022-08-31 16:15:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:2809,title:"2022년 7월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_2809/1658890406_582100.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"8시간 42분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2022-07-31 12:00:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:2718,title:"2022년 6월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_2718/1656560147_266300.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"8시간 14분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2022-06-30 15:29:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:2682,title:"2022년 5월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_2682/1653899275_493200.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"8시간 36분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2022-05-31 17:00:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:2612,title:"2022년 4월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_2612/1651034924_904900.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"8시간 43분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2022-04-30 16:48:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:2546,title:"2022년 3월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_2546/1648355489_079500.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"8시간 27분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2022-03-31 00:00:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:2510,title:"2022년 2월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_2510/1645592954_771200.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"8시간 17분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2022-02-28 00:00:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:2441,title:"2022년 1월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_2441/1643346718_111600.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"8시간 4분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2022-01-31 00:00:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:2327,title:"2021년 12월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_2327/1641368442_520300.jpeg?w=750&h=1000",episodeTotalCount:9,episodeTotalDuration:"11시간 6분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2021-12-31 00:00:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:2306,title:"2021년 11월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_2306/1638165014_721400.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"9시간 52분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2021-11-30 00:00:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:2221,title:"2021년 10월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_2221/1635324025_844800.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"9시간 41분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2021-10-31 00:00:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:2157,title:"2021년 9월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_2157/1632704872_985300.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"10시간 5분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2021-09-30 00:00:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:2074,title:"2021년 8월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_2074/1629962108_876600.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"10시간 32분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2021-08-31 00:00:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:1979,title:"2021년 7월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_1979/1627629949_027200.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"10시간 46분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2021-07-31 00:00:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:1825,title:"2021년 6월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_1825/1624430067_993000.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"10시간 59분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2021-06-30 00:00:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:1753,title:"2021년 5월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_1753/1622094779_679800.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"10시간 7분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2021-05-31 00:00:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:1665,title:"2021년 4월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_1665/1619153961_103800.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"9시간 41분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2021-04-30 00:00:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!1,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:1571,title:"2021년 3월호",image:"https://dimg.podbbang.com/ch/0/1778990/playlist_1571/1617155982_767800.jpeg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"10시간 24분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2021-03-31 00:00:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!0,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:1467,title:"2021년 2월호",image:"https://dimg.podbbang.com/magazine/1778990/1467/00cover_final.jpg?w=750&h=1000",episodeTotalCount:8,episodeTotalDuration:"9시간 60분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2021-02-28 00:00:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!0,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900},{id:1379,title:"2021년 1월호",image:"https://dimg.podbbang.com/magazine/1778990/1379/00cover.jpg?w=750&h=1000",episodeTotalCount:10,episodeTotalDuration:"9시간 24분",isLatelyIssue:!1,isPaid:!1,isPublished:!0,isNew:!1,publishAt:"2021-01-29 00:00:00",canSubscribe:!0,canPay:!1,canPayConfirm:null,canFreeTrial:!0,canFeedBack:!0,canSupport:!0,permissions:{play:!1,feedback:!1,support:!1,commentView:!0,commentAction:!1},defaultSupportCash:1e3,priceCash:11900}],ws={totalCount:42},Ts={data:Ss,summary:ws};function za(a,r){return function(){return a.apply(r,arguments)}}const{toString:Cs}=Object.prototype,{getPrototypeOf:gn}=Object,pr=(a=>r=>{const c=Cs.call(r);return a[c]||(a[c]=c.slice(8,-1).toLowerCase())})(Object.create(null)),Ye=a=>(a=a.toLowerCase(),r=>pr(r)===a),mr=a=>r=>typeof r===a,{isArray:Ct}=Array,jt=mr("undefined");function _s(a){return a!==null&&!jt(a)&&a.constructor!==null&&!jt(a.constructor)&&He(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const Wa=Ye("ArrayBuffer");function xs(a){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(a):r=a&&a.buffer&&Wa(a.buffer),r}const Us=mr("string"),He=mr("function"),Ha=mr("number"),vr=a=>a!==null&&typeof a=="object",ks=a=>a===!0||a===!1,sr=a=>{if(pr(a)!=="object")return!1;const r=gn(a);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Es=Ye("Date"),As=Ye("File"),Fs=Ye("Blob"),Rs=Ye("FileList"),Ps=a=>vr(a)&&He(a.pipe),Ds=a=>{let r;return a&&(typeof FormData=="function"&&a instanceof FormData||He(a.append)&&((r=pr(a))==="formdata"||r==="object"&&He(a.toString)&&a.toString()==="[object FormData]"))},Os=Ye("URLSearchParams"),[Ls,Bs,Is,Ms]=["ReadableStream","Request","Response","Headers"].map(Ye),Ns=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vt(a,r,{allOwnKeys:c=!1}={}){if(a===null||typeof a>"u")return;let l,t;if(typeof a!="object"&&(a=[a]),Ct(a))for(l=0,t=a.length;l<t;l++)r.call(null,a[l],l,a);else{const e=c?Object.getOwnPropertyNames(a):Object.keys(a),n=e.length;let o;for(l=0;l<n;l++)o=e[l],r.call(null,a[o],o,a)}}function Qa(a,r){r=r.toLowerCase();const c=Object.keys(a);let l=c.length,t;for(;l-- >0;)if(t=c[l],r===t.toLowerCase())return t;return null}const Xa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qa=a=>!jt(a)&&a!==Xa;function en(){const{caseless:a}=qa(this)&&this||{},r={},c=(l,t)=>{const e=a&&Qa(r,t)||t;sr(r[e])&&sr(l)?r[e]=en(r[e],l):sr(l)?r[e]=en({},l):Ct(l)?r[e]=l.slice():r[e]=l};for(let l=0,t=arguments.length;l<t;l++)arguments[l]&&Vt(arguments[l],c);return r}const Gs=(a,r,c,{allOwnKeys:l}={})=>(Vt(r,(t,e)=>{c&&He(t)?a[e]=za(t,c):a[e]=t},{allOwnKeys:l}),a),js=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),Vs=(a,r,c,l)=>{a.prototype=Object.create(r.prototype,l),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:r.prototype}),c&&Object.assign(a.prototype,c)},zs=(a,r,c,l)=>{let t,e,n;const o={};if(r=r||{},a==null)return r;do{for(t=Object.getOwnPropertyNames(a),e=t.length;e-- >0;)n=t[e],(!l||l(n,a,r))&&!o[n]&&(r[n]=a[n],o[n]=!0);a=c!==!1&&gn(a)}while(a&&(!c||c(a,r))&&a!==Object.prototype);return r},Ws=(a,r,c)=>{a=String(a),(c===void 0||c>a.length)&&(c=a.length),c-=r.length;const l=a.indexOf(r,c);return l!==-1&&l===c},Hs=a=>{if(!a)return null;if(Ct(a))return a;let r=a.length;if(!Ha(r))return null;const c=new Array(r);for(;r-- >0;)c[r]=a[r];return c},Qs=(a=>r=>a&&r instanceof a)(typeof Uint8Array<"u"&&gn(Uint8Array)),Xs=(a,r)=>{const l=(a&&a[Symbol.iterator]).call(a);let t;for(;(t=l.next())&&!t.done;){const e=t.value;r.call(a,e[0],e[1])}},qs=(a,r)=>{let c;const l=[];for(;(c=a.exec(r))!==null;)l.push(c);return l},Js=Ye("HTMLFormElement"),Ys=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(c,l,t){return l.toUpperCase()+t}),ha=(({hasOwnProperty:a})=>(r,c)=>a.call(r,c))(Object.prototype),Ks=Ye("RegExp"),Ja=(a,r)=>{const c=Object.getOwnPropertyDescriptors(a),l={};Vt(c,(t,e)=>{let n;(n=r(t,e,a))!==!1&&(l[e]=n||t)}),Object.defineProperties(a,l)},Zs=a=>{Ja(a,(r,c)=>{if(He(a)&&["arguments","caller","callee"].indexOf(c)!==-1)return!1;const l=a[c];if(He(l)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+c+"'")})}})},$s=(a,r)=>{const c={},l=t=>{t.forEach(e=>{c[e]=!0})};return Ct(a)?l(a):l(String(a).split(r)),c},el=()=>{},tl=(a,r)=>a!=null&&Number.isFinite(a=+a)?a:r,Wr="abcdefghijklmnopqrstuvwxyz",pa="0123456789",Ya={DIGIT:pa,ALPHA:Wr,ALPHA_DIGIT:Wr+Wr.toUpperCase()+pa},rl=(a=16,r=Ya.ALPHA_DIGIT)=>{let c="";const{length:l}=r;for(;a--;)c+=r[Math.random()*l|0];return c};function nl(a){return!!(a&&He(a.append)&&a[Symbol.toStringTag]==="FormData"&&a[Symbol.iterator])}const al=a=>{const r=new Array(10),c=(l,t)=>{if(vr(l)){if(r.indexOf(l)>=0)return;if(!("toJSON"in l)){r[t]=l;const e=Ct(l)?[]:{};return Vt(l,(n,o)=>{const i=c(n,t+1);!jt(i)&&(e[o]=i)}),r[t]=void 0,e}}return l};return c(a,0)},ol=Ye("AsyncFunction"),il=a=>a&&(vr(a)||He(a))&&He(a.then)&&He(a.catch),k={isArray:Ct,isArrayBuffer:Wa,isBuffer:_s,isFormData:Ds,isArrayBufferView:xs,isString:Us,isNumber:Ha,isBoolean:ks,isObject:vr,isPlainObject:sr,isReadableStream:Ls,isRequest:Bs,isResponse:Is,isHeaders:Ms,isUndefined:jt,isDate:Es,isFile:As,isBlob:Fs,isRegExp:Ks,isFunction:He,isStream:Ps,isURLSearchParams:Os,isTypedArray:Qs,isFileList:Rs,forEach:Vt,merge:en,extend:Gs,trim:Ns,stripBOM:js,inherits:Vs,toFlatObject:zs,kindOf:pr,kindOfTest:Ye,endsWith:Ws,toArray:Hs,forEachEntry:Xs,matchAll:qs,isHTMLForm:Js,hasOwnProperty:ha,hasOwnProp:ha,reduceDescriptors:Ja,freezeMethods:Zs,toObjectSet:$s,toCamelCase:Ys,noop:el,toFiniteNumber:tl,findKey:Qa,global:Xa,isContextDefined:qa,ALPHABET:Ya,generateString:rl,isSpecCompliantForm:nl,toJSONObject:al,isAsyncFn:ol,isThenable:il};function me(a,r,c,l,t){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",r&&(this.code=r),c&&(this.config=c),l&&(this.request=l),t&&(this.response=t)}k.inherits(me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ka=me.prototype,Za={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{Za[a]={value:a}});Object.defineProperties(me,Za);Object.defineProperty(Ka,"isAxiosError",{value:!0});me.from=(a,r,c,l,t,e)=>{const n=Object.create(Ka);return k.toFlatObject(a,n,function(i){return i!==Error.prototype},o=>o!=="isAxiosError"),me.call(n,a.message,r,c,l,t),n.cause=a,n.name=a.name,e&&Object.assign(n,e),n};const sl=null;function tn(a){return k.isPlainObject(a)||k.isArray(a)}function $a(a){return k.endsWith(a,"[]")?a.slice(0,-2):a}function ma(a,r,c){return a?a.concat(r).map(function(t,e){return t=$a(t),!c&&e?"["+t+"]":t}).join(c?".":""):r}function ll(a){return k.isArray(a)&&!a.some(tn)}const ul=k.toFlatObject(k,{},null,function(r){return/^is[A-Z]/.test(r)});function gr(a,r,c){if(!k.isObject(a))throw new TypeError("target must be an object");r=r||new FormData,c=k.toFlatObject(c,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!k.isUndefined(v[m])});const l=c.metaTokens,t=c.visitor||u,e=c.dots,n=c.indexes,i=(c.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(r);if(!k.isFunction(t))throw new TypeError("visitor must be a function");function s(p){if(p===null)return"";if(k.isDate(p))return p.toISOString();if(!i&&k.isBlob(p))throw new me("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(p)||k.isTypedArray(p)?i&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,v){let E=p;if(p&&!v&&typeof p=="object"){if(k.endsWith(m,"{}"))m=l?m:m.slice(0,-2),p=JSON.stringify(p);else if(k.isArray(p)&&ll(p)||(k.isFileList(p)||k.endsWith(m,"[]"))&&(E=k.toArray(p)))return m=$a(m),E.forEach(function(y,S){!(k.isUndefined(y)||y===null)&&r.append(n===!0?ma([m],S,e):n===null?m:m+"[]",s(y))}),!1}return tn(p)?!0:(r.append(ma(v,m,e),s(p)),!1)}const f=[],d=Object.assign(ul,{defaultVisitor:u,convertValue:s,isVisitable:tn});function h(p,m){if(!k.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(p),k.forEach(p,function(E,w){(!(k.isUndefined(E)||E===null)&&t.call(r,E,k.isString(w)?w.trim():w,m,d))===!0&&h(E,m?m.concat(w):[w])}),f.pop()}}if(!k.isObject(a))throw new TypeError("data must be an object");return h(a),r}function va(a){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(l){return r[l]})}function yn(a,r){this._pairs=[],a&&gr(a,this,r)}const eo=yn.prototype;eo.append=function(r,c){this._pairs.push([r,c])};eo.toString=function(r){const c=r?function(l){return r.call(this,l,va)}:va;return this._pairs.map(function(t){return c(t[0])+"="+c(t[1])},"").join("&")};function cl(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function to(a,r,c){if(!r)return a;const l=c&&c.encode||cl,t=c&&c.serialize;let e;if(t?e=t(r,c):e=k.isURLSearchParams(r)?r.toString():new yn(r,c).toString(l),e){const n=a.indexOf("#");n!==-1&&(a=a.slice(0,n)),a+=(a.indexOf("?")===-1?"?":"&")+e}return a}class ga{constructor(){this.handlers=[]}use(r,c,l){return this.handlers.push({fulfilled:r,rejected:c,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){k.forEach(this.handlers,function(l){l!==null&&r(l)})}}const ro={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fl=typeof URLSearchParams<"u"?URLSearchParams:yn,dl=typeof FormData<"u"?FormData:null,hl=typeof Blob<"u"?Blob:null,pl={isBrowser:!0,classes:{URLSearchParams:fl,FormData:dl,Blob:hl},protocols:["http","https","file","blob","url","data"]},bn=typeof window<"u"&&typeof document<"u",ml=(a=>bn&&["ReactNative","NativeScript","NS"].indexOf(a)<0)(typeof navigator<"u"&&navigator.product),vl=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gl=bn&&window.location.href||"http://localhost",yl=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bn,hasStandardBrowserEnv:ml,hasStandardBrowserWebWorkerEnv:vl,origin:gl},Symbol.toStringTag,{value:"Module"})),Je={...yl,...pl};function bl(a,r){return gr(a,new Je.classes.URLSearchParams,Object.assign({visitor:function(c,l,t,e){return Je.isNode&&k.isBuffer(c)?(this.append(l,c.toString("base64")),!1):e.defaultVisitor.apply(this,arguments)}},r))}function Sl(a){return k.matchAll(/\w+|\[(\w*)]/g,a).map(r=>r[0]==="[]"?"":r[1]||r[0])}function wl(a){const r={},c=Object.keys(a);let l;const t=c.length;let e;for(l=0;l<t;l++)e=c[l],r[e]=a[e];return r}function no(a){function r(c,l,t,e){let n=c[e++];if(n==="__proto__")return!0;const o=Number.isFinite(+n),i=e>=c.length;return n=!n&&k.isArray(t)?t.length:n,i?(k.hasOwnProp(t,n)?t[n]=[t[n],l]:t[n]=l,!o):((!t[n]||!k.isObject(t[n]))&&(t[n]=[]),r(c,l,t[n],e)&&k.isArray(t[n])&&(t[n]=wl(t[n])),!o)}if(k.isFormData(a)&&k.isFunction(a.entries)){const c={};return k.forEachEntry(a,(l,t)=>{r(Sl(l),t,c,0)}),c}return null}function Tl(a,r,c){if(k.isString(a))try{return(r||JSON.parse)(a),k.trim(a)}catch(l){if(l.name!=="SyntaxError")throw l}return(c||JSON.stringify)(a)}const zt={transitional:ro,adapter:["xhr","http","fetch"],transformRequest:[function(r,c){const l=c.getContentType()||"",t=l.indexOf("application/json")>-1,e=k.isObject(r);if(e&&k.isHTMLForm(r)&&(r=new FormData(r)),k.isFormData(r))return t?JSON.stringify(no(r)):r;if(k.isArrayBuffer(r)||k.isBuffer(r)||k.isStream(r)||k.isFile(r)||k.isBlob(r)||k.isReadableStream(r))return r;if(k.isArrayBufferView(r))return r.buffer;if(k.isURLSearchParams(r))return c.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let o;if(e){if(l.indexOf("application/x-www-form-urlencoded")>-1)return bl(r,this.formSerializer).toString();if((o=k.isFileList(r))||l.indexOf("multipart/form-data")>-1){const i=this.env&&this.env.FormData;return gr(o?{"files[]":r}:r,i&&new i,this.formSerializer)}}return e||t?(c.setContentType("application/json",!1),Tl(r)):r}],transformResponse:[function(r){const c=this.transitional||zt.transitional,l=c&&c.forcedJSONParsing,t=this.responseType==="json";if(k.isResponse(r)||k.isReadableStream(r))return r;if(r&&k.isString(r)&&(l&&!this.responseType||t)){const n=!(c&&c.silentJSONParsing)&&t;try{return JSON.parse(r)}catch(o){if(n)throw o.name==="SyntaxError"?me.from(o,me.ERR_BAD_RESPONSE,this,null,this.response):o}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Je.classes.FormData,Blob:Je.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],a=>{zt.headers[a]={}});const Cl=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_l=a=>{const r={};let c,l,t;return a&&a.split(`
`).forEach(function(n){t=n.indexOf(":"),c=n.substring(0,t).trim().toLowerCase(),l=n.substring(t+1).trim(),!(!c||r[c]&&Cl[c])&&(c==="set-cookie"?r[c]?r[c].push(l):r[c]=[l]:r[c]=r[c]?r[c]+", "+l:l)}),r},ya=Symbol("internals");function Bt(a){return a&&String(a).trim().toLowerCase()}function lr(a){return a===!1||a==null?a:k.isArray(a)?a.map(lr):String(a)}function xl(a){const r=Object.create(null),c=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=c.exec(a);)r[l[1]]=l[2];return r}const Ul=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function Hr(a,r,c,l,t){if(k.isFunction(l))return l.call(this,r,c);if(t&&(r=c),!!k.isString(r)){if(k.isString(l))return r.indexOf(l)!==-1;if(k.isRegExp(l))return l.test(r)}}function kl(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,c,l)=>c.toUpperCase()+l)}function El(a,r){const c=k.toCamelCase(" "+r);["get","set","has"].forEach(l=>{Object.defineProperty(a,l+c,{value:function(t,e,n){return this[l].call(this,r,t,e,n)},configurable:!0})})}class ze{constructor(r){r&&this.set(r)}set(r,c,l){const t=this;function e(o,i,s){const u=Bt(i);if(!u)throw new Error("header name must be a non-empty string");const f=k.findKey(t,u);(!f||t[f]===void 0||s===!0||s===void 0&&t[f]!==!1)&&(t[f||i]=lr(o))}const n=(o,i)=>k.forEach(o,(s,u)=>e(s,u,i));if(k.isPlainObject(r)||r instanceof this.constructor)n(r,c);else if(k.isString(r)&&(r=r.trim())&&!Ul(r))n(_l(r),c);else if(k.isHeaders(r))for(const[o,i]of r.entries())e(i,o,l);else r!=null&&e(c,r,l);return this}get(r,c){if(r=Bt(r),r){const l=k.findKey(this,r);if(l){const t=this[l];if(!c)return t;if(c===!0)return xl(t);if(k.isFunction(c))return c.call(this,t,l);if(k.isRegExp(c))return c.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,c){if(r=Bt(r),r){const l=k.findKey(this,r);return!!(l&&this[l]!==void 0&&(!c||Hr(this,this[l],l,c)))}return!1}delete(r,c){const l=this;let t=!1;function e(n){if(n=Bt(n),n){const o=k.findKey(l,n);o&&(!c||Hr(l,l[o],o,c))&&(delete l[o],t=!0)}}return k.isArray(r)?r.forEach(e):e(r),t}clear(r){const c=Object.keys(this);let l=c.length,t=!1;for(;l--;){const e=c[l];(!r||Hr(this,this[e],e,r,!0))&&(delete this[e],t=!0)}return t}normalize(r){const c=this,l={};return k.forEach(this,(t,e)=>{const n=k.findKey(l,e);if(n){c[n]=lr(t),delete c[e];return}const o=r?kl(e):String(e).trim();o!==e&&delete c[e],c[o]=lr(t),l[o]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const c=Object.create(null);return k.forEach(this,(l,t)=>{l!=null&&l!==!1&&(c[t]=r&&k.isArray(l)?l.join(", "):l)}),c}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,c])=>r+": "+c).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...c){const l=new this(r);return c.forEach(t=>l.set(t)),l}static accessor(r){const l=(this[ya]=this[ya]={accessors:{}}).accessors,t=this.prototype;function e(n){const o=Bt(n);l[o]||(El(t,n),l[o]=!0)}return k.isArray(r)?r.forEach(e):e(r),this}}ze.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(ze.prototype,({value:a},r)=>{let c=r[0].toUpperCase()+r.slice(1);return{get:()=>a,set(l){this[c]=l}}});k.freezeMethods(ze);function Qr(a,r){const c=this||zt,l=r||c,t=ze.from(l.headers);let e=l.data;return k.forEach(a,function(o){e=o.call(c,e,t.normalize(),r?r.status:void 0)}),t.normalize(),e}function ao(a){return!!(a&&a.__CANCEL__)}function _t(a,r,c){me.call(this,a??"canceled",me.ERR_CANCELED,r,c),this.name="CanceledError"}k.inherits(_t,me,{__CANCEL__:!0});function oo(a,r,c){const l=c.config.validateStatus;!c.status||!l||l(c.status)?a(c):r(new me("Request failed with status code "+c.status,[me.ERR_BAD_REQUEST,me.ERR_BAD_RESPONSE][Math.floor(c.status/100)-4],c.config,c.request,c))}function Al(a){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return r&&r[1]||""}function Fl(a,r){a=a||10;const c=new Array(a),l=new Array(a);let t=0,e=0,n;return r=r!==void 0?r:1e3,function(i){const s=Date.now(),u=l[e];n||(n=s),c[t]=i,l[t]=s;let f=e,d=0;for(;f!==t;)d+=c[f++],f=f%a;if(t=(t+1)%a,t===e&&(e=(e+1)%a),s-n<r)return;const h=u&&s-u;return h?Math.round(d*1e3/h):void 0}}function Rl(a,r){let c=0;const l=1e3/r;let t=null;return function(){const n=this===!0,o=Date.now();if(n||o-c>l)return t&&(clearTimeout(t),t=null),c=o,a.apply(null,arguments);t||(t=setTimeout(()=>(t=null,c=Date.now(),a.apply(null,arguments)),l-(o-c)))}}const cr=(a,r,c=3)=>{let l=0;const t=Fl(50,250);return Rl(e=>{const n=e.loaded,o=e.lengthComputable?e.total:void 0,i=n-l,s=t(i),u=n<=o;l=n;const f={loaded:n,total:o,progress:o?n/o:void 0,bytes:i,rate:s||void 0,estimated:s&&o&&u?(o-n)/s:void 0,event:e,lengthComputable:o!=null};f[r?"download":"upload"]=!0,a(f)},c)},Pl=Je.hasStandardBrowserEnv?function(){const r=/(msie|trident)/i.test(navigator.userAgent),c=document.createElement("a");let l;function t(e){let n=e;return r&&(c.setAttribute("href",n),n=c.href),c.setAttribute("href",n),{href:c.href,protocol:c.protocol?c.protocol.replace(/:$/,""):"",host:c.host,search:c.search?c.search.replace(/^\?/,""):"",hash:c.hash?c.hash.replace(/^#/,""):"",hostname:c.hostname,port:c.port,pathname:c.pathname.charAt(0)==="/"?c.pathname:"/"+c.pathname}}return l=t(window.location.href),function(n){const o=k.isString(n)?t(n):n;return o.protocol===l.protocol&&o.host===l.host}}():function(){return function(){return!0}}(),Dl=Je.hasStandardBrowserEnv?{write(a,r,c,l,t,e){const n=[a+"="+encodeURIComponent(r)];k.isNumber(c)&&n.push("expires="+new Date(c).toGMTString()),k.isString(l)&&n.push("path="+l),k.isString(t)&&n.push("domain="+t),e===!0&&n.push("secure"),document.cookie=n.join("; ")},read(a){const r=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(a){this.write(a,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ol(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function Ll(a,r){return r?a.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):a}function io(a,r){return a&&!Ol(r)?Ll(a,r):r}const ba=a=>a instanceof ze?{...a}:a;function pt(a,r){r=r||{};const c={};function l(s,u,f){return k.isPlainObject(s)&&k.isPlainObject(u)?k.merge.call({caseless:f},s,u):k.isPlainObject(u)?k.merge({},u):k.isArray(u)?u.slice():u}function t(s,u,f){if(k.isUndefined(u)){if(!k.isUndefined(s))return l(void 0,s,f)}else return l(s,u,f)}function e(s,u){if(!k.isUndefined(u))return l(void 0,u)}function n(s,u){if(k.isUndefined(u)){if(!k.isUndefined(s))return l(void 0,s)}else return l(void 0,u)}function o(s,u,f){if(f in r)return l(s,u);if(f in a)return l(void 0,s)}const i={url:e,method:e,data:e,baseURL:n,transformRequest:n,transformResponse:n,paramsSerializer:n,timeout:n,timeoutMessage:n,withCredentials:n,withXSRFToken:n,adapter:n,responseType:n,xsrfCookieName:n,xsrfHeaderName:n,onUploadProgress:n,onDownloadProgress:n,decompress:n,maxContentLength:n,maxBodyLength:n,beforeRedirect:n,transport:n,httpAgent:n,httpsAgent:n,cancelToken:n,socketPath:n,responseEncoding:n,validateStatus:o,headers:(s,u)=>t(ba(s),ba(u),!0)};return k.forEach(Object.keys(Object.assign({},a,r)),function(u){const f=i[u]||t,d=f(a[u],r[u],u);k.isUndefined(d)&&f!==o||(c[u]=d)}),c}const so=a=>{const r=pt({},a);let{data:c,withXSRFToken:l,xsrfHeaderName:t,xsrfCookieName:e,headers:n,auth:o}=r;r.headers=n=ze.from(n),r.url=to(io(r.baseURL,r.url),a.params,a.paramsSerializer),o&&n.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let i;if(k.isFormData(c)){if(Je.hasStandardBrowserEnv||Je.hasStandardBrowserWebWorkerEnv)n.setContentType(void 0);else if((i=n.getContentType())!==!1){const[s,...u]=i?i.split(";").map(f=>f.trim()).filter(Boolean):[];n.setContentType([s||"multipart/form-data",...u].join("; "))}}if(Je.hasStandardBrowserEnv&&(l&&k.isFunction(l)&&(l=l(r)),l||l!==!1&&Pl(r.url))){const s=t&&e&&Dl.read(e);s&&n.set(t,s)}return r},Bl=typeof XMLHttpRequest<"u",Il=Bl&&function(a){return new Promise(function(c,l){const t=so(a);let e=t.data;const n=ze.from(t.headers).normalize();let{responseType:o}=t,i;function s(){t.cancelToken&&t.cancelToken.unsubscribe(i),t.signal&&t.signal.removeEventListener("abort",i)}let u=new XMLHttpRequest;u.open(t.method.toUpperCase(),t.url,!0),u.timeout=t.timeout;function f(){if(!u)return;const h=ze.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),m={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:h,config:a,request:u};oo(function(E){c(E),s()},function(E){l(E),s()},m),u=null}"onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(f)},u.onabort=function(){u&&(l(new me("Request aborted",me.ECONNABORTED,t,u)),u=null)},u.onerror=function(){l(new me("Network Error",me.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let p=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const m=t.transitional||ro;t.timeoutErrorMessage&&(p=t.timeoutErrorMessage),l(new me(p,m.clarifyTimeoutError?me.ETIMEDOUT:me.ECONNABORTED,t,u)),u=null},e===void 0&&n.setContentType(null),"setRequestHeader"in u&&k.forEach(n.toJSON(),function(p,m){u.setRequestHeader(m,p)}),k.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&o!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",cr(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",cr(t.onUploadProgress)),(t.cancelToken||t.signal)&&(i=h=>{u&&(l(!h||h.type?new _t(null,a,u):h),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(i),t.signal&&(t.signal.aborted?i():t.signal.addEventListener("abort",i)));const d=Al(t.url);if(d&&Je.protocols.indexOf(d)===-1){l(new me("Unsupported protocol "+d+":",me.ERR_BAD_REQUEST,a));return}u.send(e||null)})},Ml=(a,r)=>{let c=new AbortController,l;const t=function(i){if(!l){l=!0,n();const s=i instanceof Error?i:this.reason;c.abort(s instanceof me?s:new _t(s instanceof Error?s.message:s))}};let e=r&&setTimeout(()=>{t(new me(`timeout ${r} of ms exceeded`,me.ETIMEDOUT))},r);const n=()=>{a&&(e&&clearTimeout(e),e=null,a.forEach(i=>{i&&(i.removeEventListener?i.removeEventListener("abort",t):i.unsubscribe(t))}),a=null)};a.forEach(i=>i&&i.addEventListener&&i.addEventListener("abort",t));const{signal:o}=c;return o.unsubscribe=n,[o,()=>{e&&clearTimeout(e),e=null}]},Nl=function*(a,r){let c=a.byteLength;if(!r||c<r){yield a;return}let l=0,t;for(;l<c;)t=l+r,yield a.slice(l,t),l=t},Gl=async function*(a,r,c){for await(const l of a)yield*Nl(ArrayBuffer.isView(l)?l:await c(String(l)),r)},Sa=(a,r,c,l,t)=>{const e=Gl(a,r,t);let n=0;return new ReadableStream({type:"bytes",async pull(o){const{done:i,value:s}=await e.next();if(i){o.close(),l();return}let u=s.byteLength;c&&c(n+=u),o.enqueue(new Uint8Array(s))},cancel(o){return l(o),e.return()}},{highWaterMark:2})},wa=(a,r)=>{const c=a!=null;return l=>setTimeout(()=>r({lengthComputable:c,total:a,loaded:l}))},yr=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",lo=yr&&typeof ReadableStream=="function",rn=yr&&(typeof TextEncoder=="function"?(a=>r=>a.encode(r))(new TextEncoder):async a=>new Uint8Array(await new Response(a).arrayBuffer())),jl=lo&&(()=>{let a=!1;const r=new Request(Je.origin,{body:new ReadableStream,method:"POST",get duplex(){return a=!0,"half"}}).headers.has("Content-Type");return a&&!r})(),Ta=64*1024,nn=lo&&!!(()=>{try{return k.isReadableStream(new Response("").body)}catch{}})(),fr={stream:nn&&(a=>a.body)};yr&&(a=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!fr[r]&&(fr[r]=k.isFunction(a[r])?c=>c[r]():(c,l)=>{throw new me(`Response type '${r}' is not supported`,me.ERR_NOT_SUPPORT,l)})})})(new Response);const Vl=async a=>{if(a==null)return 0;if(k.isBlob(a))return a.size;if(k.isSpecCompliantForm(a))return(await new Request(a).arrayBuffer()).byteLength;if(k.isArrayBufferView(a))return a.byteLength;if(k.isURLSearchParams(a)&&(a=a+""),k.isString(a))return(await rn(a)).byteLength},zl=async(a,r)=>{const c=k.toFiniteNumber(a.getContentLength());return c??Vl(r)},Wl=yr&&(async a=>{let{url:r,method:c,data:l,signal:t,cancelToken:e,timeout:n,onDownloadProgress:o,onUploadProgress:i,responseType:s,headers:u,withCredentials:f="same-origin",fetchOptions:d}=so(a);s=s?(s+"").toLowerCase():"text";let[h,p]=t||e||n?Ml([t,e],n):[],m,v;const E=()=>{!m&&setTimeout(()=>{h&&h.unsubscribe()}),m=!0};let w;try{if(i&&jl&&c!=="get"&&c!=="head"&&(w=await zl(u,l))!==0){let A=new Request(r,{method:"POST",body:l,duplex:"half"}),C;k.isFormData(l)&&(C=A.headers.get("content-type"))&&u.setContentType(C),A.body&&(l=Sa(A.body,Ta,wa(w,cr(i)),null,rn))}k.isString(f)||(f=f?"cors":"omit"),v=new Request(r,{...d,signal:h,method:c.toUpperCase(),headers:u.normalize().toJSON(),body:l,duplex:"half",withCredentials:f});let y=await fetch(v);const S=nn&&(s==="stream"||s==="response");if(nn&&(o||S)){const A={};["status","statusText","headers"].forEach(x=>{A[x]=y[x]});const C=k.toFiniteNumber(y.headers.get("content-length"));y=new Response(Sa(y.body,Ta,o&&wa(C,cr(o,!0)),S&&E,rn),A)}s=s||"text";let _=await fr[k.findKey(fr,s)||"text"](y,a);return!S&&E(),p&&p(),await new Promise((A,C)=>{oo(A,C,{data:_,headers:ze.from(y.headers),status:y.status,statusText:y.statusText,config:a,request:v})})}catch(y){throw E(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new me("Network Error",me.ERR_NETWORK,a,v),{cause:y.cause||y}):me.from(y,y&&y.code,a,v)}}),an={http:sl,xhr:Il,fetch:Wl};k.forEach(an,(a,r)=>{if(a){try{Object.defineProperty(a,"name",{value:r})}catch{}Object.defineProperty(a,"adapterName",{value:r})}});const Ca=a=>`- ${a}`,Hl=a=>k.isFunction(a)||a===null||a===!1,uo={getAdapter:a=>{a=k.isArray(a)?a:[a];const{length:r}=a;let c,l;const t={};for(let e=0;e<r;e++){c=a[e];let n;if(l=c,!Hl(c)&&(l=an[(n=String(c)).toLowerCase()],l===void 0))throw new me(`Unknown adapter '${n}'`);if(l)break;t[n||"#"+e]=l}if(!l){const e=Object.entries(t).map(([o,i])=>`adapter ${o} `+(i===!1?"is not supported by the environment":"is not available in the build"));let n=r?e.length>1?`since :
`+e.map(Ca).join(`
`):" "+Ca(e[0]):"as no adapter specified";throw new me("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return l},adapters:an};function Xr(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new _t(null,a)}function _a(a){return Xr(a),a.headers=ze.from(a.headers),a.data=Qr.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),uo.getAdapter(a.adapter||zt.adapter)(a).then(function(l){return Xr(a),l.data=Qr.call(a,a.transformResponse,l),l.headers=ze.from(l.headers),l},function(l){return ao(l)||(Xr(a),l&&l.response&&(l.response.data=Qr.call(a,a.transformResponse,l.response),l.response.headers=ze.from(l.response.headers))),Promise.reject(l)})}const co="1.7.2",Sn={};["object","boolean","number","function","string","symbol"].forEach((a,r)=>{Sn[a]=function(l){return typeof l===a||"a"+(r<1?"n ":" ")+a}});const xa={};Sn.transitional=function(r,c,l){function t(e,n){return"[Axios v"+co+"] Transitional option '"+e+"'"+n+(l?". "+l:"")}return(e,n,o)=>{if(r===!1)throw new me(t(n," has been removed"+(c?" in "+c:"")),me.ERR_DEPRECATED);return c&&!xa[n]&&(xa[n]=!0,console.warn(t(n," has been deprecated since v"+c+" and will be removed in the near future"))),r?r(e,n,o):!0}};function Ql(a,r,c){if(typeof a!="object")throw new me("options must be an object",me.ERR_BAD_OPTION_VALUE);const l=Object.keys(a);let t=l.length;for(;t-- >0;){const e=l[t],n=r[e];if(n){const o=a[e],i=o===void 0||n(o,e,a);if(i!==!0)throw new me("option "+e+" must be "+i,me.ERR_BAD_OPTION_VALUE);continue}if(c!==!0)throw new me("Unknown option "+e,me.ERR_BAD_OPTION)}}const on={assertOptions:Ql,validators:Sn},it=on.validators;class ht{constructor(r){this.defaults=r,this.interceptors={request:new ga,response:new ga}}async request(r,c){try{return await this._request(r,c)}catch(l){if(l instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const e=t.stack?t.stack.replace(/^.+\n/,""):"";try{l.stack?e&&!String(l.stack).endsWith(e.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+e):l.stack=e}catch{}}throw l}}_request(r,c){typeof r=="string"?(c=c||{},c.url=r):c=r||{},c=pt(this.defaults,c);const{transitional:l,paramsSerializer:t,headers:e}=c;l!==void 0&&on.assertOptions(l,{silentJSONParsing:it.transitional(it.boolean),forcedJSONParsing:it.transitional(it.boolean),clarifyTimeoutError:it.transitional(it.boolean)},!1),t!=null&&(k.isFunction(t)?c.paramsSerializer={serialize:t}:on.assertOptions(t,{encode:it.function,serialize:it.function},!0)),c.method=(c.method||this.defaults.method||"get").toLowerCase();let n=e&&k.merge(e.common,e[c.method]);e&&k.forEach(["delete","get","head","post","put","patch","common"],p=>{delete e[p]}),c.headers=ze.concat(n,e);const o=[];let i=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(c)===!1||(i=i&&m.synchronous,o.unshift(m.fulfilled,m.rejected))});const s=[];this.interceptors.response.forEach(function(m){s.push(m.fulfilled,m.rejected)});let u,f=0,d;if(!i){const p=[_a.bind(this),void 0];for(p.unshift.apply(p,o),p.push.apply(p,s),d=p.length,u=Promise.resolve(c);f<d;)u=u.then(p[f++],p[f++]);return u}d=o.length;let h=c;for(f=0;f<d;){const p=o[f++],m=o[f++];try{h=p(h)}catch(v){m.call(this,v);break}}try{u=_a.call(this,h)}catch(p){return Promise.reject(p)}for(f=0,d=s.length;f<d;)u=u.then(s[f++],s[f++]);return u}getUri(r){r=pt(this.defaults,r);const c=io(r.baseURL,r.url);return to(c,r.params,r.paramsSerializer)}}k.forEach(["delete","get","head","options"],function(r){ht.prototype[r]=function(c,l){return this.request(pt(l||{},{method:r,url:c,data:(l||{}).data}))}});k.forEach(["post","put","patch"],function(r){function c(l){return function(e,n,o){return this.request(pt(o||{},{method:r,headers:l?{"Content-Type":"multipart/form-data"}:{},url:e,data:n}))}}ht.prototype[r]=c(),ht.prototype[r+"Form"]=c(!0)});class wn{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let c;this.promise=new Promise(function(e){c=e});const l=this;this.promise.then(t=>{if(!l._listeners)return;let e=l._listeners.length;for(;e-- >0;)l._listeners[e](t);l._listeners=null}),this.promise.then=t=>{let e;const n=new Promise(o=>{l.subscribe(o),e=o}).then(t);return n.cancel=function(){l.unsubscribe(e)},n},r(function(e,n,o){l.reason||(l.reason=new _t(e,n,o),c(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const c=this._listeners.indexOf(r);c!==-1&&this._listeners.splice(c,1)}static source(){let r;return{token:new wn(function(t){r=t}),cancel:r}}}function Xl(a){return function(c){return a.apply(null,c)}}function ql(a){return k.isObject(a)&&a.isAxiosError===!0}const sn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sn).forEach(([a,r])=>{sn[r]=a});function fo(a){const r=new ht(a),c=za(ht.prototype.request,r);return k.extend(c,ht.prototype,r,{allOwnKeys:!0}),k.extend(c,r,null,{allOwnKeys:!0}),c.create=function(t){return fo(pt(a,t))},c}const Oe=fo(zt);Oe.Axios=ht;Oe.CanceledError=_t;Oe.CancelToken=wn;Oe.isCancel=ao;Oe.VERSION=co;Oe.toFormData=gr;Oe.AxiosError=me;Oe.Cancel=Oe.CanceledError;Oe.all=function(r){return Promise.all(r)};Oe.spread=Xl;Oe.isAxiosError=ql;Oe.mergeConfig=pt;Oe.AxiosHeaders=ze;Oe.formToJSON=a=>no(k.isHTMLForm(a)?new FormData(a):a);Oe.getAdapter=uo.getAdapter;Oe.HttpStatusCode=sn;Oe.default=Oe;const ho="/pb-data",Jl=`${ho}/issues`,Yl=`${ho}/episodes`;function Kl(a){return`${Jl}/${a}.jpg`}function Zl(a){return a?`${Yl}/${a}.jpg`:"https://dummyimage.com/750x562/000/fff.jpg&text=..."}function $l(){return{}}function po(a){const{id:r,episodeTotalCount:c}=a,{data:l}=mi({queryKey:["EpisodeCards",r],queryFn:async()=>Oe.get(`/pb-data/issues/${r}.json`).then(e=>e.data.data)});return l||Array.from({length:c},$l)}function mo(a){const r=le.useRef(null),[c,l]=le.useState(!1),t=le.useCallback(n=>(n.stopPropagation(),l(!0)),[]),e=le.useCallback(()=>l(!1),[]);return xe.jsx(vs,{ref:r,transparent:!0,side:un,onPointerOver:t,onPointerOut:e,...a})}const vo=8,go=Math.PI*2/vo;function eu({radius:a=1.4,issues:r}){return r.map((c,l)=>{const{id:t}=c,e=go*l;return xe.jsx(mo,{url:Kl(t),position:[-Math.sin(e)*a,0-l,Math.cos(e)*a],rotation:[0,-e,0]},t)})}function tu({rate:a,issue:r}){const c=po(r),l=c.length,t=Math.floor(a*l);return xe.jsx(xe.Fragment,{children:c.map(({id:e,title:n},o)=>xe.jsx(ja,{color:t===o?"#ffffff":"#999999",fontSize:t===o?.1:.08,position:[0,-.15*o,0],children:n},e))})}function ru({radius:a=1.4,issue:r}){return po(r).map(({id:l},t)=>{const e=go*t;return xe.jsx(mo,{url:Zl(l),position:[Math.sin(e)*a,0,Math.cos(e)*a],rotation:[0,Math.PI+e,0]},l)})}const It=.8,Ua=2*Math.PI;function nu(a){const{issues:r,children:c,...l}=a,t=r.length,e=le.useRef(null),n=le.useRef(null),o=le.useRef(null),i=qo(),[s,u]=le.useState(""),[f,d]=le.useState(),[h,p]=le.useState(0);return le.useEffect(()=>{e.current.position.x=-1,n.current.position.x=1},[]),Aa(()=>{const{offset:m}=i,v=1/t,E=Math.floor(m/v),w=m%v*t,y=Math.min(w,It)/It,S=(Math.max(It,w)-It)/(1-It),_=e.current;_.position.y=E+S,_.rotation.y=(E+S)/vo*Ua;const A=n.current,C=r[E],x=[];p(y),x.push(C.title),u(x.join(`
`)),S===0?(d(C),A.rotation.y=-y*Ua):(d(void 0),A.rotation.y=0)}),xe.jsxs("group",{...l,children:[xe.jsxs(ja,{color:"#ffffff",ref:o,fontSize:.08,position:[-.55,.44,5],children:[s,f&&xe.jsx(xe.Fragment,{children:f.title}),!1]}),xe.jsx("group",{ref:e,children:c}),f&&xe.jsx("group",{position:[1,-.65,1.5],children:xe.jsx(tu,{rate:h,issue:f})}),xe.jsx("group",{ref:n,children:f&&xe.jsx(le.Suspense,{children:xe.jsx(ru,{issue:f})})})]})}const au="#000000";function ou(a){const{issues:r}=a;return xe.jsxs(xe.Fragment,{children:[xe.jsx("color",{attach:"background",args:[au]}),xe.jsx(nu,{issues:r,rotation:[0,0,0],children:xe.jsx(eu,{issues:r})}),xe.jsx(bs,{makeDefault:!0,position:[0,0,10]})]})}const iu=le.memo(ou),su={Scene:{staticOverrides:{byObject:{Camera:{position:{z:2.679999999999989,y:0,x:6938893903907228e-32}}}}}},lu="0.4.0",uu=["IcsfwZgL2h8qo4sr"],cu={sheetsById:su,definitionVersion:lu,revisionHistory:uu},ka=Ts.data;function fu(a){const r=le.useMemo(()=>Jo.getProject("Timeline",{state:cu}).sheet("Scene"),[]);return xe.jsx(xe.Fragment,{children:xe.jsx(Yo,{children:xe.jsx(Ko,{damping:0,pages:ka.length,children:xe.jsx(Zo,{sheet:r,children:xe.jsx(iu,{issues:ka})})})})})}const bu=le.memo(fu);export{bu as default};
