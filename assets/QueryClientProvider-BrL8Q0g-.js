import{a as B}from"./index-BabtBpse.js";import{a as v}from"./jsx-runtime-D2HyDbKh.js";function F(n,e){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},F(n,e)}function x(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,F(n,e)}var _=function(){function n(){this.listeners=[]}var e=n.prototype;return e.subscribe=function(r){var i=this,o=r||function(){};return this.listeners.push(o),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(u){return u!==o}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},n}();function y(){return y=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},y.apply(null,arguments)}var S=typeof window>"u";function un(){}function sn(n,e){return typeof n=="function"?n(e):n}function an(n){return typeof n=="number"&&n>=0&&n!==1/0}function O(n){return Array.isArray(n)?n:[n]}function fn(n,e){return Math.max(n+(e||0)-Date.now(),0)}function cn(n,e,t){return w(n)?typeof e=="function"?y({},t,{queryKey:n,queryFn:e}):y({},e,{queryKey:n}):n}function ln(n,e,t){return w(n)?[y({},e,{queryKey:n}),t]:[n||{},e]}function $(n,e){if(n===!0&&e===!0||n==null&&e==null)return"all";if(n===!1&&e===!1)return"none";var t=n??!e;return t?"active":"inactive"}function hn(n,e){var t=n.active,r=n.exact,i=n.fetching,o=n.inactive,u=n.predicate,s=n.queryKey,c=n.stale;if(w(s)){if(r){if(e.queryHash!==H(s,e.options))return!1}else if(!Q(e.queryKey,s))return!1}var f=$(t,o);if(f==="none")return!1;if(f!=="all"){var p=e.isActive();if(f==="active"&&!p||f==="inactive"&&p)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||typeof i=="boolean"&&e.isFetching()!==i||u&&!u(e))}function vn(n,e){var t=n.exact,r=n.fetching,i=n.predicate,o=n.mutationKey;if(w(o)){if(!e.options.mutationKey)return!1;if(t){if(g(e.options.mutationKey)!==g(o))return!1}else if(!Q(e.options.mutationKey,o))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function H(n,e){var t=(e==null?void 0:e.queryKeyHashFn)||g;return t(n)}function g(n){var e=O(n);return V(e)}function V(n){return JSON.stringify(n,function(e,t){return E(t)?Object.keys(t).sort().reduce(function(r,i){return r[i]=t[i],r},{}):t})}function Q(n,e){return K(O(n),O(e))}function K(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(function(t){return!K(n[t],e[t])}):!1}function J(n,e){if(n===e)return n;var t=Array.isArray(n)&&Array.isArray(e);if(t||E(n)&&E(e)){for(var r=t?n.length:Object.keys(n).length,i=t?e:Object.keys(e),o=i.length,u=t?[]:{},s=0,c=0;c<o;c++){var f=t?c:i[c];u[f]=J(n[f],e[f]),u[f]===n[f]&&s++}return r===o&&s===r?n:u}return e}function dn(n,e){if(n&&!e||e&&!n)return!1;for(var t in n)if(n[t]!==e[t])return!1;return!0}function E(n){if(!L(n))return!1;var e=n.constructor;if(typeof e>"u")return!0;var t=e.prototype;return!(!L(t)||!t.hasOwnProperty("isPrototypeOf"))}function L(n){return Object.prototype.toString.call(n)==="[object Object]"}function w(n){return typeof n=="string"||Array.isArray(n)}function G(n){return new Promise(function(e){setTimeout(e,n)})}function P(n){Promise.resolve().then(n).catch(function(e){return setTimeout(function(){throw e})})}function yn(){if(typeof AbortController=="function")return new AbortController}var W=function(n){x(e,n);function e(){var r;return r=n.call(this)||this,r.setup=function(i){var o;if(!S&&((o=window)!=null&&o.addEventListener)){var u=function(){return i()};return window.addEventListener("visibilitychange",u,!1),window.addEventListener("focus",u,!1),function(){window.removeEventListener("visibilitychange",u),window.removeEventListener("focus",u)}}},r}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},t.setEventListener=function(i){var o,u=this;this.setup=i,(o=this.cleanup)==null||o.call(this),this.cleanup=i(function(s){typeof s=="boolean"?u.setFocused(s):u.onFocus()})},t.setFocused=function(i){this.focused=i,i&&this.onFocus()},t.onFocus=function(){this.listeners.forEach(function(i){i()})},t.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(_),X=new W,Y=function(n){x(e,n);function e(){var r;return r=n.call(this)||this,r.setup=function(i){var o;if(!S&&((o=window)!=null&&o.addEventListener)){var u=function(){return i()};return window.addEventListener("online",u,!1),window.addEventListener("offline",u,!1),function(){window.removeEventListener("online",u),window.removeEventListener("offline",u)}}},r}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},t.setEventListener=function(i){var o,u=this;this.setup=i,(o=this.cleanup)==null||o.call(this),this.cleanup=i(function(s){typeof s=="boolean"?u.setOnline(s):u.onOnline()})},t.setOnline=function(i){this.online=i,i&&this.onOnline()},t.onOnline=function(){this.listeners.forEach(function(i){i()})},t.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(_),Z=new Y;function I(n){return Math.min(1e3*Math.pow(2,n),3e4)}function R(n){return typeof(n==null?void 0:n.cancel)=="function"}var A=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function pn(n){return n instanceof A}var bn=function(e){var t=this,r=!1,i,o,u,s;this.abort=e.abort,this.cancel=function(l){return i==null?void 0:i(l)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return o==null?void 0:o()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(l,a){u=l,s=a});var c=function(a){t.isResolved||(t.isResolved=!0,e.onSuccess==null||e.onSuccess(a),o==null||o(),u(a))},f=function(a){t.isResolved||(t.isResolved=!0,e.onError==null||e.onError(a),o==null||o(),s(a))},p=function(){return new Promise(function(a){o=a,t.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){o=void 0,t.isPaused=!1,e.onContinue==null||e.onContinue()})},U=function l(){if(!t.isResolved){var a;try{a=e.fn()}catch(h){a=Promise.reject(h)}i=function(b){if(!t.isResolved&&(f(new A(b)),t.abort==null||t.abort(),R(a)))try{a.cancel()}catch{}},t.isTransportCancelable=R(a),Promise.resolve(a).then(c).catch(function(h){var b,C;if(!t.isResolved){var d=(b=e.retry)!=null?b:3,m=(C=e.retryDelay)!=null?C:I,D=typeof m=="function"?m(t.failureCount,h):m,T=d===!0||typeof d=="number"&&t.failureCount<d||typeof d=="function"&&d(t.failureCount,h);if(r||!T){f(h);return}t.failureCount++,e.onFail==null||e.onFail(t.failureCount,h),G(D).then(function(){if(!X.isFocused()||!Z.isOnline())return p()}).then(function(){r?f(h):l()})}})}};U()},z=function(){function n(){this.queue=[],this.transactions=0,this.notifyFn=function(t){t()},this.batchNotifyFn=function(t){t()}}var e=n.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):P(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var o=arguments.length,u=new Array(o),s=0;s<o;s++)u[s]=arguments[s];i.schedule(function(){r.apply(void 0,u)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&P(function(){r.batchNotifyFn(function(){i.forEach(function(o){r.notifyFn(o)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},n}(),k=new z,M=console;function wn(){return M}function nn(n){M=n}var en=B.unstable_batchedUpdates;k.setBatchNotifyFunction(en);var tn=console;nn(tn);var j=v.createContext(void 0),q=v.createContext(!1);function N(n){return n&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=j),window.ReactQueryClientContext):j}var Cn=function(){var e=v.useContext(N(v.useContext(q)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},mn=function(e){var t=e.client,r=e.contextSharing,i=r===void 0?!1:r,o=e.children;v.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var u=N(i);return v.createElement(q.Provider,{value:i},v.createElement(u.Provider,{value:t},o))};export{mn as Q,bn as R,_ as S,y as _,pn as a,wn as b,k as c,x as d,O as e,sn as f,yn as g,H as h,an as i,vn as j,R as k,X as l,hn as m,un as n,Z as o,ln as p,cn as q,J as r,g as s,fn as t,Q as u,S as v,dn as w,Cn as x};
